<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zszBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this zszdeveloper blog��welcome��">
<meta property="og:type" content="website">
<meta property="og:title" content="zszBlog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="zszBlog">
<meta property="og:description" content="this zszdeveloper blog��welcome��">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zszBlog">
<meta name="twitter:description" content="this zszdeveloper blog��welcome��">
  
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">zszBlog</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/.">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/categories">Categories</a></td>
      
        <td><a class="main-nav-link" href="/tags">Tags</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </td>
      </tr>
    </table>
  </div>
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png">
      <h2 id="name">zszdevelop</h2>
      <h3 id="title">Java&amp;Android Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>XiaMen, China</span>
      <a id="follow" href="undefined">FOLLOW</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        27
        <span>posts</span>
      </div>
      <div class="article-info-block">
        0
        <span>tag</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="https://github.com/zszdevelop" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="/#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="https://www.facebook.com/profile.php?id=100007317255366" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      <section id="main">
      <article id="post-2015-7-27" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/2015-7-27/">2015/7/27</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/26/2015-7-27/">
    <time datetime="2015-07-26T13:24:57.000Z" itemprop="datePublished">2015-07-26</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="控件对齐方式">控件对齐方式</h1><p>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br>&lt;!—</p>
<ul>
<li><p>android:layout_above 将该控件的底部至于给定ID的控件之上</p>
</li>
<li><p>android:layout_below 将该控件的顶部至于给定ID的控件之下</p>
</li>
<li>android:layout_toLeftOf 将该控件的右边缘和给定ID的控件的左边缘对齐</li>
<li><p>android:layout_toRightOf 将该控件的左边缘和给定ID的控件的右边缘对齐</p>
</li>
<li><p>android:layout_alignBaseline 该控件的baseline和给定ID的控件的baseline对齐</p>
</li>
<li>android:layout_alignBottom 将该控件的底部边缘与给定ID控件的底部边缘</li>
<li>android:layout_alignLeft 将该控件的左边缘与给定ID控件的左边缘对齐</li>
<li>android:layout_alignRight 将该控件的右边缘与给定ID控件的右边缘对齐</li>
<li>android:layout_alignTop 将给定控件的顶部边缘与给定ID控件的顶部对齐</li>
</ul>
<ul>
<li>android:alignParentBottom 如果该值为true，则将该控件的底部和父控件的底部对齐</li>
<li>android:layout_alignParentLeft 如果该值为true，则将该控件的左边与父控件的左边对齐</li>
<li>android:layout_alignParentRight 如果该值为true，则将该控件的右边与父控件的右边对齐</li>
<li><p>android:layout_alignParentTop 如果该值为true，则将空间的顶部与父控件的顶部对齐</p>
</li>
<li><p>android:layout_centerHorizontal 如果值为真，该控件将被至于水平方向的中央</p>
</li>
<li>android:layout_centerInParent 如果值为真，该控件将被至于父控件水平方向和垂直方向的中央</li>
<li>android:layout_centerVertical 如果值为真，该控件将被至于垂直方向的中央</li>
</ul>
<ul>
<li>android:padding和android:layout_margin    通俗的理解 Padding 为内边框，Margin 为外边框</li>
<li><p>android:padding和android:layout_margin的区别，其实概念很简单，padding是站在父view的角度描述问题，它规定它里面的内容必须与这个父view边界的距离。margin则是站在自己的角度描述问题，规定自己和其他（上下左右）的view之间的距离，如果同一级只有一个view，那么它的效果基本上就和padding一样了。</p>
</li>
<li><p>android:layout_gravity=”center”</p>
</li>
<li>android:gravity　属性是对该view 内容的限定．比如一个button 上面的text.  你可以设置该text 在view的靠左，靠右等位置．．</li>
<li>android:layout_gravity是用来设置该view相对与起父view 的位置．比如一个button 在linearlayout里，你想把该button放在靠左　　靠右等位置就可以通过该属性设置．</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/26/2015-7-27/" data-id="cicluhcr900021ob2w8c586wf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-26-TabHost" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/2015-7-26-TabHost/">2015/7/26-TabHost</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/26/2015-7-26-TabHost/">
    <time datetime="2015-07-26T12:17:29.000Z" itemprop="datePublished">2015-07-26</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="TabHost实现">TabHost实现</h1><p>layout布局文件中的设置</p>
<pre><code><span class="tag">&lt;<span class="title">LinearLayout</span> <span class="attribute">xmlns:android</span>=<span class="value">"http://schemas.android.com/apk/res/android"</span>
<span class="attribute">xmlns:tools</span>=<span class="value">"http://schemas.android.com/tools"</span>
<span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
<span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> 
<span class="attribute">android:orientation</span>=<span class="value">"vertical"</span>
<span class="attribute">tools:context</span>=<span class="value">".MainActivity"</span> &gt;</span>
<span class="tag">&lt;<span class="title">Button</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/button1"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:text</span>=<span class="value">"Button"</span> /&gt;</span>
 <span class="tag">&lt;<span class="title">TabHost</span>
    <span class="attribute">android:id</span>=<span class="value">"@+id/tabhost"</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>&gt;</span>

    <span class="tag">&lt;<span class="title">LinearLayout</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span>
        <span class="attribute">android:orientation</span>=<span class="value">"vertical"</span> &gt;</span>

        <span class="tag">&lt;<span class="title">TabWidget</span>
            <span class="attribute">android:id</span>=<span class="value">"@android:id/tabs"</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span> &gt;</span>
        <span class="tag">&lt;/<span class="title">TabWidget</span>&gt;</span>

        <span class="tag">&lt;<span class="title">FrameLayout</span>
            <span class="attribute">android:id</span>=<span class="value">"@android:id/tabcontent"</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> &gt;</span>

            <span class="comment">&lt;!-- 第一个tab的布局 --&gt;</span>
            <span class="tag">&lt;<span class="title">LinearLayout</span>
                <span class="attribute">android:id</span>=<span class="value">"@+id/tab1"</span>
                <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
                <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> &gt;</span>

                <span class="tag">&lt;<span class="title">TextView</span>
                    <span class="attribute">android:id</span>=<span class="value">"@+id/textView1"</span>
                    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:text</span>=<span class="value">"林炳东"</span> /&gt;</span>

            <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>

            <span class="comment">&lt;!-- 第二个tab的布局 --&gt;</span>
            <span class="tag">&lt;<span class="title">LinearLayout</span>
                <span class="attribute">android:id</span>=<span class="value">"@+id/tab2"</span>
                <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
                <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> &gt;</span>

                <span class="tag">&lt;<span class="title">TextView</span>
                    <span class="attribute">android:id</span>=<span class="value">"@+id/textView2"</span>
                    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:text</span>=<span class="value">"张小媛"</span> /&gt;</span>

            <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>

            <span class="comment">&lt;!-- 第三个tab的布局 --&gt;</span>
            <span class="tag">&lt;<span class="title">LinearLayout</span>
                <span class="attribute">android:id</span>=<span class="value">"@+id/tab3"</span>
                <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span>
                <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span> &gt;</span>

                <span class="tag">&lt;<span class="title">TextView</span>
                    <span class="attribute">android:id</span>=<span class="value">"@+id/textView3"</span>
                    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
                    <span class="attribute">android:text</span>=<span class="value">"马贝贝"</span> /&gt;</span>

            <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">FrameLayout</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
<span class="tag">&lt;/<span class="title">TabHost</span>&gt;</span> 

<span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>于此同时也要在Activiyt中设置</p>
<pre><code><span class="keyword">th</span>= (TabHost) findViewById(R.id.tabHost);
  <span class="keyword">th</span>.setup();//初始化TabHost容器  

   //在TabHost创建标签，然后设置：标题／图标／标签页布局 
  <span class="keyword">th</span>.addTab(<span class="keyword">th</span>.newTabSpec(<span class="string">"tag1"</span>).setIndicator(<span class="string">"主页"</span>,getResources().getDrawable(R.drawable.notification_template_icon_bg)).setContent(R.id.tab1));
  <span class="keyword">th</span>.addTab(<span class="keyword">th</span>.newTabSpec(<span class="string">"tag2"</span>).setIndicator(<span class="string">"历史"</span>,getResources().getDrawable(R.drawable.abc_ab_share_pack_mtrl_alpha)).setContent(R.id.tab2));
  <span class="keyword">th</span>.addTab(<span class="keyword">th</span>.newTabSpec(<span class="string">"tag3"</span>).setIndicator(<span class="string">"机器人"</span>,getResources().getDrawable(R.drawable.abc_ab_share_pack_mtrl_alpha)).setContent(R.id.tab3));
  <span class="keyword">th</span>.addTab(<span class="keyword">th</span>.newTabSpec(<span class="string">"tag3"</span>).setIndicator(<span class="string">"设置"</span>,getResources().getDrawable(R.drawable.abc_ab_share_pack_mtrl_alpha)).setContent(R.id.tab4));
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/26/2015-7-26-TabHost/" data-id="cicluhcrj00041ob2vbh3vfvh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-26" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/2015-7-26/">2015/7/26</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/26/2015-7-26/">
    <time datetime="2015-07-26T04:54:15.000Z" itemprop="datePublished">2015-07-26</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/26问题集">2015/7/26问题集</h1><h2 id="从服务器得到所有图片信息">从服务器得到所有图片信息</h2><p>servlet</p>
<pre><code>package com.zsz.man;

<span class="keyword">import</span> java.io.IOException;
<span class="keyword">import</span> java.io.PrintWriter;
<span class="keyword">import</span> java.util.ArrayList;
<span class="keyword">import</span> java.util.List;

<span class="keyword">import</span> javax.servlet.ServletContext;
<span class="keyword">import</span> javax.servlet.ServletException;
<span class="keyword">import</span> javax.servlet.annotation.WebServlet;
<span class="keyword">import</span> javax.servlet.http.HttpServlet;
<span class="keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="keyword">import</span> com.google.gson.Gson;
<span class="keyword">import</span> com.zsz.develop.UserInfoBean;
<span class="keyword">import</span> com.zsz.develop.UserinfoDao;
<span class="keyword">import</span> com.zsz.main.ImageUtil;

<span class="comment">/**
 * Servlet implementation class GetAllManServlet
 */</span>
@WebServlet(<span class="string">"/GetAllManServlet"</span>)
public <span class="class"><span class="keyword">class</span> <span class="title">GetAllManServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{
private static final long serialVersionUID = <span class="number">1</span>L;

<span class="comment">/**
 * @see HttpServlet#HttpServlet()
 */</span>
public GetAllManServlet() {
    <span class="keyword">super</span>();
    <span class="comment">// TODO Auto-generated constructor stub</span>
}

<span class="comment">/**
 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
 */</span>
protected <span class="keyword">void</span> doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    <span class="comment">// TODO Auto-generated method stub</span>
}

<span class="comment">/**
 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
 */</span>
protected <span class="keyword">void</span> doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {


    ServletContext context = getServletContext();
    <span class="built_in">String</span> contentType = context.getInitParameter(<span class="string">"contentType"</span>);
    <span class="built_in">String</span> jsonAction = request.getParameter(<span class="string">"action"</span>);
    int jsonImageSize =Integer.parseInt(request.getParameter(<span class="string">"imageSize"</span>)); 
    <span class="built_in">String</span> jsonName = request.getParameter(<span class="string">"name"</span>);
    System.out.println(<span class="string">"jsonName:"</span>+jsonName);
    <span class="built_in">String</span> outStr = <span class="string">""</span>;
    Gson gson = <span class="keyword">new</span> Gson();
    ManDao manDao=<span class="keyword">new</span> ManDaoImpl();


    <span class="keyword">if</span> (jsonAction.equals(<span class="string">"getAll"</span>)) {
        List&lt;ManBean&gt; manList=manDao.getAllMan(jsonName);;
        <span class="comment">// 將所有照片縮小</span>
        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; manList.size(); i++) {
            ManBean manBean = manList.get(i);
            manBean.setImage(ImageUtil.shrink(manBean.getImage(), jsonImageSize));
        }
        outStr = gson.toJson(manList);
    }

    response.setContentType(contentType);
    PrintWriter out = response.getWriter();
    System.out.println(outStr);
    out.print(outStr);
    out.close();

    }

}
</code></pre><p><strong>重点</strong>在这一段：</p>
<ul>
<li>判断功能选项</li>
<li>取得实体类集合</li>
<li>循环取出每张图片、并对他进行压缩</li>
<li><p>把压缩后的数据传递给实体类，并转为json格式输出</p>
<p>  if (jsonAction.equals(“getAll”)) {</p>
<pre><code>    <span class="built_in">List</span>&lt;ManBean&gt; manList=manDao.getAllMan(jsonName);;
    <span class="comment">// 將所有照片縮小</span>
    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; manList.size(); i++) {
        ManBean manBean = manList.<span class="literal">get</span>(i);
        manBean.setImage(ImageUtil.shrink(manBean.getImage(), jsonImageSize));
    }
    outStr = gson.toJson(manList);
}
</code></pre><h2 id="图片压缩代码">图片压缩代码</h2></li>
</ul>
<p>调用方法：manBean.setImage(ImageUtil.shrink(manBean.getImage(), jsonImageSize));</p>
<pre><code><span class="keyword">package</span> com.zsz.main;

<span class="keyword">import</span> java.awt.Graphics;
<span class="keyword">import</span> java.awt.image.BufferedImage;
<span class="keyword">import</span> java.io.ByteArrayInputStream;
<span class="keyword">import</span> java.io.ByteArrayOutputStream;
<span class="keyword">import</span> java.io.IOException;

<span class="keyword">import</span> javax.imageio.ImageIO;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageUtil</span> </span>{

<span class="javadoc">/**
 * 將圖形縮小後回傳，如果發生錯誤就直接回傳原圖， 例如：imageSize值&lt;=1、無法取得圖的寬高、發生Exception
 * 
 *<span class="javadoctag"> @param</span> srcImageData
 *            來源圖形資料
 *<span class="javadoctag"> @param</span> scaleSize
 *            欲將圖形縮至多少尺寸以下，50代表將尺寸縮小至50x50以內
 *<span class="javadoctag"> @return</span> 縮小完畢的圖形資料
 */</span>
<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] shrink(<span class="keyword">byte</span>[] srcImageData, <span class="keyword">int</span> scaleSize) {
    ByteArrayInputStream bais = <span class="keyword">new</span> ByteArrayInputStream(srcImageData);
    <span class="comment">// 縮小比例，4代表除以4</span>
    <span class="keyword">int</span> sampleSize = <span class="number">1</span>;
    <span class="keyword">int</span> imageWidth = <span class="number">0</span>;
    <span class="keyword">int</span> imageHeight = <span class="number">0</span>;

    <span class="comment">// 如果imageSize為0、負數(代表錯誤)或1(1代表與原圖一樣大小)，就直接回傳原圖資料</span>
    <span class="keyword">if</span> (scaleSize &lt;= <span class="number">1</span>) {
        <span class="keyword">return</span> srcImageData;
    }

    <span class="keyword">try</span> {
        BufferedImage srcBufferedImage = ImageIO.read(bais);
        <span class="comment">// 如果無法識別圖檔格式(TYPE_CUSTOM)就回傳TYPE_INT_ARGB；否則回傳既有格式</span>
        <span class="keyword">int</span> type = srcBufferedImage.getType() == BufferedImage.TYPE_CUSTOM ? BufferedImage.TYPE_INT_RGB
                : srcBufferedImage.getType();
        imageWidth = srcBufferedImage.getWidth();
        imageHeight = srcBufferedImage.getHeight();
        <span class="keyword">if</span> (imageWidth == <span class="number">0</span> || imageHeight == <span class="number">0</span>) {
            <span class="keyword">return</span> srcImageData;
        }
        <span class="comment">// 只要圖檔較長的一邊超過指定長度(desireSize)，就計算欲縮小的比例</span>
        <span class="comment">// 並將圖檔寬高都除以欲縮小比例</span>
        <span class="keyword">int</span> longer = Math.max(imageWidth, imageHeight);
        <span class="keyword">if</span> (longer &gt; scaleSize) {
            sampleSize = longer / scaleSize;
            imageWidth = srcBufferedImage.getWidth() / sampleSize;
            imageHeight = srcBufferedImage.getHeight() / sampleSize;
        }
        BufferedImage scaledBufferedImage = <span class="keyword">new</span> BufferedImage(imageWidth,
                imageHeight, type);
        Graphics graphics = scaledBufferedImage.createGraphics();
        graphics.drawImage(srcBufferedImage, <span class="number">0</span>, <span class="number">0</span>, imageWidth, imageHeight,
                <span class="keyword">null</span>);
        ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();
        ImageIO.write(scaledBufferedImage, <span class="string">"jpg"</span>, baos);
        <span class="function"><span class="keyword">return</span> baos.<span class="title">toByteArray</span><span class="params">()</span></span>;
    } <span class="keyword">catch</span> (IOException e) {
        e.printStackTrace();
        <span class="keyword">return</span> srcImageData;
    }
}
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/26/2015-7-26/" data-id="cicluhcrg00031ob22jxg1bkz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-25" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/25/2015-7-25/">servlet与404错误，清空Tomcat缓存</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/25/2015-7-25/">
    <time datetime="2015-07-25T10:00:01.000Z" itemprop="datePublished">2015-07-25</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/25">2015/7/25</h1><p>被两个非代码错误折腾了一天！！！奔溃 </p>
<h2 id="servlet与404错误">servlet与404错误</h2><p>servlet在tomcat8之后无需自己配置信息。<br>404错误是因为servlet没有找到控制的页面显示！！</p>
<p>。。。。。。。。一上午！</p>
<h2 id="清空Tomcat缓存">清空Tomcat缓存</h2><p>因为没有清空缓存，以至于一直显示错误的信息。明明已经没有代码在里面了。关闭eclipse也没用</p>
<p>点击eclipse菜单栏中的project-选择clean</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/25/2015-7-25/" data-id="cicluhcrr00051ob205y2w2b6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-23-URI-Intent" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/23/2015-7-23-URI-Intent/"> 2015/7/23-URI-Intent</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/23/2015-7-23-URI-Intent/">
    <time datetime="2015-07-23T01:05:42.000Z" itemprop="datePublished">2015-07-23</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="通过URI和Intent启动各种功能">通过URI和Intent启动各种功能</h1><h2 id="Uri">Uri</h2><p>就Android平台而言，URI主要分三个部分：scheme, authority and path。其中authority又分为host和port。格式如下：<br>scheme://host:port/path<br>举个实际的例子：</p>
<p><img src="http://cl.ly/image/2l2F3K3b2W2n/36D61U2UNF%25SOXIFK2%60UN%25N.png" alt=""></p>
<p>现在大家应该知道data flag中那些属性的含义了吧，看下data flag<br><data android:host="string" android:mimetype="string" android:path="string" android:pathpattern="string" android:pathprefix="string" android:port="string" android:scheme="string"></data></p>
<p>但是我们在程序中一般是不直接用URI来标识CP的，是的，正如我们通常见到的用定义的常量来标识。例如standard CP中的Contacts，我们就用Contacts.People.CONTENT_URI来标识Contacts CP中People这个表。那么要标识某个具体的人怎么办呢？ 这就用到了ContentUris.withAppendedId() 和 Uri.withAppendedPath()。例如我们要表示content://contacts/people/20，那么我们就可以用如下语句：<br>Uri uri = ContentUris.withAppendedId(People.CONTENT_URI, 20); 或者<br>Uri uri = Uri.withAppendedPath(People.CONTENT_URI, “20”);</p>
<p>举些例子，如：</p>
<p>所有联系人的Uri： content://contacts/people</p>
<p>某个联系人的Uri: content://contacts/people/5</p>
<p>所有图片Uri: content://media/external</p>
<p>某个图片的Uri：content://media/external/images/media/4</p>
<p>下面是一些常用的Uri</p>
<p><strong>显示网页:</strong></p>
<ol>
<li>Uri uri = Uri.parse(“<a href="http://www.google.com" target="_blank" rel="external">http://www.google.com</a>“);</li>
<li>Intent it = new Intent(Intent.ACTION_VIEW,uri);</li>
<li>startActivity(it);</li>
</ol>
<p><strong>显示地图:</strong></p>
<ol>
<li>Uri uri = Uri.parse(“geo:38.899533,-77.036476”);<ol>
<li>Intent it = new Intent(Intent.Action_VIEW,uri);</li>
<li>startActivity(it);</li>
</ol>
</li>
</ol>
<p><strong>路径规划:</strong></p>
<ol>
<li>Uri uri = Uri.parse(“<a href="http://maps.google.com/maps?f=d&amp;saddr=startLat%20startLng&amp;daddr=endLat%20endLng&amp;hl=en" target="_blank" rel="external">http://maps.google.com/maps?f=d&amp;saddr=startLat%20startLng&amp;daddr=endLat%20endLng&amp;hl=en</a>“);</li>
<li>Intent it = new Intent(Intent.ACTION_VIEW,URI);</li>
<li>startActivity(it);</li>
</ol>
<p><strong>拨打电话:<br>调用拨号程序</strong></p>
<ol>
<li>Uri uri = Uri.parse(“tel:xxxxxx”);</li>
<li>Intent it = new Intent(Intent.ACTION_DIAL, uri);   </li>
<li>startActivity(it);   </li>
<li>Uri uri = Uri.parse(“tel.xxxxxx”);</li>
<li>Intent it =new Intent(Intent.ACTION_CALL,uri);</li>
<li>要使用这个必须在配置文件中加入<uses-permission id="Android.permission.CALL_PHONE"></uses-permission></li>
</ol>
<p><strong>发送SMS/MMS<br>调用发送短信的程序</strong></p>
<ol>
<li>Intent it = new Intent(Intent.ACTION_VIEW);</li>
<li>it.putExtra(“sms_body”, “The SMS text”);</li>
<li>it.setType(“vnd.android-dir/mms-sms”);</li>
<li>startActivity(it);   </li>
</ol>
<p><strong>发送短信</strong></p>
<ol>
<li>Uri uri = Uri.parse(“smsto:0800000123”);</li>
<li>Intent it = new Intent(Intent.ACTION_SENDTO, uri);</li>
<li>it.putExtra(“sms_body”, “The SMS text”);</li>
<li>startActivity(it);   </li>
</ol>
<p><strong>发送彩信</strong></p>
<ol>
<li>Uri uri = Uri.parse(“content://media/external/images/media/23”);</li>
<li>Intent it = new Intent(Intent.ACTION_SEND);</li>
<li>it.putExtra(“sms_body”, “some text”);</li>
<li>it.putExtra(Intent.EXTRA_STREAM, uri);</li>
<li>it.setType(“image/png”);</li>
<li>startActivity(it);</li>
</ol>
<p><strong><br>发送Email</strong></p>
<p>  1.</p>
<ol>
<li>Uri uri = Uri.parse(“mailto:xxx@abc.com”);</li>
<li>Intent it = new Intent(Intent.ACTION_SENDTO, uri);</li>
<li>startActivity(it);</li>
<li>Intent it = new Intent(Intent.ACTION_SEND);</li>
<li>it.putExtra(Intent.EXTRA_EMAIL, “me@abc.com”);</li>
<li>it.putExtra(Intent.EXTRA_TEXT, “The email body text”);</li>
<li>it.setType(“text/plain”);</li>
<li>startActivity(Intent.createChooser(it, “Choose Email Client”));   </li>
<li>Intent it=new Intent(Intent.ACTION_SEND);   </li>
<li>String[] tos={“me@abc.com”};   </li>
<li>String[] ccs={“you@abc.com”};   </li>
<li>it.putExtra(Intent.EXTRA_EMAIL, tos);   </li>
<li>it.putExtra(Intent.EXTRA_CC, ccs);   </li>
<li>it.putExtra(Intent.EXTRA_TEXT, “The email body text”);   </li>
<li>it.putExtra(Intent.EXTRA_SUBJECT, “The email subject text”);   </li>
<li>it.setType(“message/rfc822”);   </li>
<li>startActivity(Intent.createChooser(it, “Choose Email Client”));</li>
</ol>
<p><strong>添加附件</strong></p>
<ol>
<li>Intent it = new Intent(Intent.ACTION_SEND);</li>
<li>it.putExtra(Intent.EXTRA_SUBJECT, “The email subject text”);</li>
<li>it.putExtra(Intent.EXTRA_STREAM, “[url=]file:///sdcard/mysong.mp3[/url]”);</li>
<li>sendIntent.setType(“audio/mp3”);</li>
<li>startActivity(Intent.createChooser(it, “Choose Email Client”));</li>
</ol>
<p><strong>播放多媒体</strong></p>
<ol>
<li></li>
<li>Intent it = new Intent(Intent.ACTION_VIEW);</li>
<li>Uri uri = Uri.parse(“[url=]file:///sdcard/song.mp3[/url]”);</li>
<li>it.setDataAndType(uri, “audio/mp3”);</li>
<li>startActivity(it);</li>
<li>Uri uri = Uri.withAppendedPath(MediaStore.Audio.Media.INTERNAL_CONTENT_URI, “1”);</li>
<li>Intent it = new Intent(Intent.ACTION_VIEW, uri);</li>
<li>startActivity(it);   </li>
</ol>
<p><strong>Uninstall 程序</strong></p>
<ol>
<li>Uri uri = Uri.fromParts(“package”, strPackageName, null);</li>
<li>Intent it = new Intent(Intent.ACTION_DELETE, uri);</li>
<li>startActivity(it);</li>
</ol>
<p><strong>//调用相册</strong></p>
<p>public static final String MIME_TYPE_IMAGE_JPEG = “image/*”;<br>public static final int ACTIVITY_GET_IMAGE = 0;<br>Intent getImage = new Intent(Intent.ACTION_GET_CONTENT);<br>getImage.addCategory(Intent.CATEGORY_OPENABLE);<br>getImage.setType(MIME_TYPE_IMAGE_JPEG);<br>startActivityForResult(getImage, ACTIVITY_GET_IMAGE);</p>
<p><strong>//调用系统相机应用程序，并存储拍下来的照片</strong></p>
<p>Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);<br>time = Calendar.getInstance().getTimeInMillis();<br>intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(new File(Environment<br>.getExternalStorageDirectory().getAbsolutePath()+”/tucue”, time + “.jpg”)));<br>startActivityForResult(intent, ACTIVITY_GET_CAMERA_IMAGE);</p>
<p>uninstall apk</p>
<p><strong>未测试</strong></p>
<p>Uri uninstallUri = Uri.fromParts(“package”, “xxx”, null);<br>returnIt = new Intent(Intent.ACTION_DELETE, uninstallUri);<br>*/<br>Uri packageURI = Uri.parse(“package:”+wistatmap);<br>Intent uninstallIntent = new Intent(Intent.ACTION_DELETE, packageURI);<br>startActivity(uninstallIntent);</p>
<p>install apk<br>Uri installUri = Uri.fromParts(“package”, “xxx”, null);<br>returnIt = new Intent(Intent.ACTION_PACKAGE_ADDED, installUri);<br>play audio<br>Uri playUri = Uri.parse(“[url=]file:///sdcard/download/everything.mp3[/url]”);<br>returnIt = new Intent(Intent.ACTION_VIEW, playUri);</p>
<p><strong>//发送附件</strong></p>
<p>Intent it = new Intent(Intent.ACTION_SEND);<br>it.putExtra(Intent.EXTRA_SUBJECT, “The email subject text”);<br>it.putExtra(Intent.EXTRA_STREAM, “[url=]file:///sdcard/eoe.mp3[/url]”);<br>sendIntent.setType(“audio/mp3”);<br>startActivity(Intent.createChooser(it, “Choose Email Client”));</p>
<p><strong>//搜索应用</strong></p>
<p>Uri uri = Uri.parse(“market://search?q=pname:pkg_name”);<br>Intent it = new Intent(Intent.ACTION_VIEW, uri);<br>startActivity(it);<br>//where pkg_name is the full package path for an application</p>
<p><strong>进入联系人页面</strong></p>
<p>Intent intent = new Intent();<br>intent.setAction(Intent.ACTION_VIEW);<br>intent.setData(People.CONTENT_URI);<br>startActivity(intent);</p>
<p><strong>查看指定联系人</strong></p>
<p>Uri personUri = ContentUris.withAppendedId(People.CONTENT_URI, info.id);//info.id联系人ID<br>Intent intent = new Intent();<br>intent.setAction(Intent.ACTION_VIEW);<br>intent.setData(personUri);<br>startActivity(intent);</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/23/2015-7-23-URI-Intent/" data-id="cicluhcrv00071ob2jjhnwxpg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-23" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/23/2015-7-23/"> 注销，TaskStack，affinity</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/23/2015-7-23/">
    <time datetime="2015-07-23T01:05:22.000Z" itemprop="datePublished">2015-07-23</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="7-23日问题集">7.23日问题集</h1><h2 id="Android注销流程">Android注销流程</h2><p>当我们点击注销按钮之后，一般都会重新返回登陆界面，这时候我们再按返回键是没有用的。这时候其实我们是将Android 的TaskStack清空。</p>
<p>这里要设置Intent的FLAG,在执行完成Activity跳转的时候会清空TaskStack，并且将创建一个新的TaskStack</p>
<p>注销</p>
<pre><code><span class="type">Intent</span> logoutIntent = new <span class="type">Intent</span>(ctx, LoginActivity.<span class="keyword">class</span>);
                logoutIntent.setFlags(<span class="type">Intent</span>.FLAG_ACTIVITY_CLEAR_TASK | <span class="type">Intent</span>.FLAG_ACTIVITY_NEW_TASK);
                startActivity(logoutIntent);
</code></pre><h2 id="什么是Activity_Stack？">什么是Activity Stack？</h2><p>　　Activity承担了大量的显示和交互工作，从某种角度上将，我们看见的应用程序就是许多个Activity的组合。为了让这许多 Activity协同工作而不至于产生混乱，Android平台设计了一种堆栈机制用于管理Activity，其遵循先进后出的原则，系统总是显示位于栈 顶的Activity，从逻辑上将，位于栈顶的Activity也就是最后打开的Activity，这也是符合逻辑的。</p>
<p>　　在操作应用程序时，每次启动新的Activity，都会将此压入Activity Stack，当用户执行返回操作时，移除Activity Stack顶上的Activity，这样就实现了返回上一个Activty的功能。直到用户一直返回到Home Screen，这时候可以理解为移除了Activity Stack所有的Activity，这个Activity Stack不再存在，应用程序也结束了运行。</p>
<h2 id="什么是Task？">什么是Task？</h2><p>　　Task是指将相关的Activity组合到一起，以Activity Stack的方式进行管理。从用户体验上讲，一个“应用程序”就是一个Task，但是从根本上讲，一个Task是可以有一个或多个Android Application组成的。例如：你想在发送短信时，拍一张照并作为彩信发出去，这时你首先停留在短信应用程序的的Acitivity上，然后跳转到 Camera应用程序的Activity上，当完成拍照功能后，再返回到短信应用程序的Activity。这实际上是两个Android Application协同合作后完成的工作，但为了更好的用户体验，Android平台加入了Task这么一种机制，让用户没有感觉到应用的中断，让用 户感觉在一“应用程序”里就完成了想完成的工作。</p>
<h2 id="Activity的affinity(亲和力)">Activity的affinity(亲和力)</h2><p>task对于Activity来说就好像它的身份证一样，可以告诉所在的task，自己属于这个task中的一员；拥有相同affinity的多个Activity理论同属于一个task，task自身的affinity决定于根Activity的affinity值。affinity在什么场合应用呢？1.根据affinity重新为Activity选择宿主task（与allowTaskReparenting属性配合工作）；2.启动一个Activity过程中Intent使用了FLAG_ACTIVITY_NEW_TASK标记，根据affinity查找或创建一个新的具有对应affinity的task。我们会在后面进行详细讲解。</p>
<p>默认情况下，一个应用内的所有Activity都具有相同的affinity，都是从Application（参考<application>的taskAffinity属性）继承而来，而Application默认的affinity是<manifest>中的包名，我们可以为<application>设置taskAffinity属性值，这样可以应用到<application>下的所有<activity>，也可以单独为某个Activity设置taskAffinity。</activity></application></application></manifest></application></p>
<h2 id="Intent几种常见的flags：">Intent几种常见的flags：</h2><h3 id="FLAG_ACTIVITY_CLEAR_TASK">FLAG_ACTIVITY_CLEAR_TASK</h3><p><strong>FLAG_ACTIVITY_CLEAR_TASK </strong>:如果在调用Context.startActivity时传递这个标记，将会导致任何用来放置该activity的已经存在的task里面的已经存在的activity先清空，然后该activity再在该task中启动，也就是说，这个新启动的activity变为了这个空tas的根activity.所有老的activity都结束掉。该标志必须和FLAG_ACTIVITY_NEW_TASK一起使用。</p>
<h3 id="-FLAG_ACTIVITY_CLEAR_TOP">.FLAG_ACTIVITY_CLEAR_TOP</h3><p>当Intent对象包含这个标记时，如果在栈中发现存在Activity实例，则清空这个实例之上的Activity，使其处于栈顶。例如：我们的FirstActivity跳转到SecondActivity，SecondActivity跳转到ThirdActivity，而ThirdActivity又跳到SecondActivity，那么ThirdActivity实例将被弹出栈，使SecondActivity处于栈顶，显示到幕前，栈内只剩下FirstActivity和SecondActivity。这个SecondActivity既可以在onNewIntent()中接收到传来的Intent，也可以把自己销毁之后重新启动来接受这个Intent。在使用默认的“standard”启动模式下，如果没有在Intent使用到FLAG_ACTIVITY_SINGLE_TOP标记，那么它将关闭后重建，如果使用了这个FLAG_ACTIVITY_SINGLE_TOP标记，则会使用已存在的实例；对于其他启动模式，无需再使用FLAG_ACTIVITY_SINGLE_TOP，它都将使用已存在的实例，Intent会被传递到这个实例的onNewIntent()中。</p>
<h3 id="FLAG_ACTIVITY_SINGLE_TOP">FLAG_ACTIVITY_SINGLE_TOP</h3><p>当task中存在目标Activity实例并且位于栈的顶端时，不再创建一个新的，直接利用这个实例。我们在上边的例子中也有讲到。</p>
<h3 id="FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET">FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET</h3><p>如果一个Intent中包含此属性，则它转向的那个Activity以及在那个Activity其上的所有Activity都会在task重置时被清除出task。当我们将一个后台的task重新回到前台时，系统会在特定情况下为这个动作附带一个FLAG_ACTIVITY_RESET_TASK_IF_NEEDED标记，意味着必要时重置task，这时FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET就会生效。经过测试发现，对于一个处于后台的应用，如果在主选单点击应用，这个动作中含有FLAG_ACTIVITY_RESET_TASK_IF_NEEDED标记，长按Home键，然后点击最近记录，这个动作不含FLAG_ACTIVITY_RESET_TASK_IF_NEEDED标记,所以前者会清除，后者不会</p>
<h3 id="FLAG_ACTIVITY_RESET_TASK_IF_NEEDED">FLAG_ACTIVITY_RESET_TASK_IF_NEEDED</h3><p>这个标记在以下情况下会生效：1.启动Activity时创建新的task来放置Activity实例；2.已存在的task被放置于前台。系统会根据affinity对指定的task进行重置操作，task会压入某些Activity实例或移除某些Activity实例。我们结合上面的CLEAR_WHEN_TASK_RESET可以加深理解。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/23/2015-7-23/" data-id="cicluhcrt00061ob287z54jg3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-22" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/22/2015-7-22/">putExtra()，Intent的构造函数，startActivityForResult的用法，onActivityResult</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/22/2015-7-22/">
    <time datetime="2015-07-22T11:30:13.000Z" itemprop="datePublished">2015-07-22</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/22问题集">2015/7/22问题集</h1><h2 id="intent-putExtra()传值">intent.putExtra()传值</h2><p>putExtra(“A”,B)中，AB为键值对，第一个参数为键名，第二个参数为键对应的值。顺便提一下，如果想取出Intent对象中的这些值，需要在你的另一个Activity中用getXXXXXExtra方法，注意需要使用对应类型的方法，参数为键名</p>
<p>第一个Activity，通过intent.putExtra(“key”,”value”);传给另一个Activity</p>
<pre><code>btnIntent.setOnClickListener(<span class="keyword">new</span> OnClickListener() {
       <span class="annotation">@Override</span>
       <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{
           Intent intent=<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>,ToIntentActicity.class);
           <span class="comment">//将要传递的值附加到Intent对象</span>
           intent.putExtra(<span class="string">"Main"</span>,<span class="string">"66666"</span>);
           startActivity(intent);
       }
   });
</code></pre><p>另一个页面接收数据</p>
<pre><code>tv= (TextView) findViewById(R.id.tv);
  <span class="comment">//取得启动该Activity的Intent对象</span>
  Intent intent=getIntent();
   <span class="comment">/*取出Intent中附加的数据*/</span>
  <span class="keyword">String</span> <span class="built_in">str</span>=intent.getStringExtra(<span class="string">"Main"</span>);
  tv.setText(<span class="string">"从其他Intent传过来的值"</span>+<span class="built_in">str</span>);
</code></pre><h2 id="Intent的构造函数">Intent的构造函数</h2><p>公共构造函数：</p>
<ul>
<li><p>1、Intent() 空构造函数</p>
</li>
<li><p>2、Intent(Intent o) 拷贝构造函数</p>
</li>
<li><p>3、Intent(String action) 指定action类型的构造函数</p>
</li>
<li><p>4、Intent(String action, Uri uri) 指定Action类型和Uri的构造函数，URI主要是结合程序之间的数据共享ContentProvider</p>
</li>
<li><p>5、Intent(Context packageContext, Class&lt;?&gt; cls) 传入组件的构造函数，也就是上文提到的</p>
</li>
<li><p>6、Intent(String action, Uri uri, Context packageContext, Class&lt;?&gt; cls) 前两种结合体</p>
</li>
</ul>
<p>Intent有六种构造函数，3、4、5是最常用的，并不是其他没用！</p>
<h2 id="startActivityForResult的用法：">startActivityForResult的用法：</h2><ul>
<li><p>1、startActivity( )<br>仅仅是跳转到目标页面，若是想跳回当前页面，则必须再使用一次startActivity( )。</p>
</li>
<li><p>2、startActivityForResult( )<br>可以一次性完成这项任务，当程序执行到这段代码的时候，假若从T1Activity跳转到下一个Text2Activity，而当这个Text2Activity调用了finish()方法以后，程序会自动跳转回T1Activity，并调用前一个T1Activity中的onActivityResult( )方法。</p>
</li>
</ul>
<p>如果想在Activity中得到新打开Activity 关闭后返回的数据，需要使用系统提供的startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，新的Activity 关闭后会向前面的Activity传回数据，为了得到传回的数据，必须在前面的Activity中重写onActivityResult(int requestCode, int resultCode, Intent data)方法。</p>
<pre><code><span class="comment">//这里采用startActivityForResult来做跳转，此处的0为一个依据，可以写其他的值，但一定要&gt;=0</span>

startActivityForResult<span class="comment">(intent, 0)</span>;
</code></pre><h2 id="onActivityResult传值的使用">onActivityResult传值的使用</h2><p>多个activity之间的传值 其实就是onActivityResult，然后别忘了还有一个action的问题 就是在主xml中添加自己的action以便于识别，最后次activity别忘了finansh。</p>
<h2 id="针对startActivityForResult实例代码">针对startActivityForResult实例代码</h2><pre><code><span class="keyword">package</span> com.ljq.activitys;

<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.util.Log;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.Button;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{
<span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> String TAG=<span class="string">"MainActivity"</span>;

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Button btnOpen=(Button)<span class="keyword">this</span>.findViewById(R.id.btnOpen);
    btnOpen.setOnClickListener(<span class="keyword">new</span> View.OnClickListener(){
        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
            <span class="comment">//得到新打开Activity关闭后返回的数据</span>
            <span class="comment">//第二个参数为请求码，可以根据业务需求自己编号</span>
            startActivityForResult(<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, OtherActivity.class), <span class="number">1</span>);
        }
    });
}

<span class="javadoc">/**
 * 为了得到传回的数据，必须在前面的Activity中（指MainActivity类）重写onActivityResult方法
 * 
 * requestCode 请求码，即调用startActivityForResult()传递过去的值
 * resultCode 结果码，结果码用于标识返回数据来自哪个新Activity
 */</span>
<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>{
    String result = data.getExtras().getString(<span class="string">"result"</span>);<span class="comment">//得到新Activity 关闭后返回的数据</span>
    Log.i(TAG, result);
}
}
</code></pre><p>当新Activity关闭后，新Activity返回的数据通过Intent进行传递，android平台会调用前面Activity 的onActivityResult()方法，把存放了返回数据的Intent作为第三个输入参数传入，在onActivityResult()方法中使用第三个输入参数可以取出新Activity返回的数据。</p>
<h3 id="二、使用startActivityForResult(Intent_intent,_int_requestCode)方法打开新的Activity，新Activity关闭前需要向前面的Activity返回数据需要使用系统提供的setResult(int_resultCode,_Intent_data)方法实现：">二、使用startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，新Activity关闭前需要向前面的Activity返回数据需要使用系统提供的setResult(int resultCode, Intent data)方法实现：</h3><pre><code><span class="keyword">package</span> com.ljq.activitys;

<span class="keyword">import</span> android.app.<span class="type">Activity</span>;
<span class="keyword">import</span> android.content.<span class="type">Intent</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">View</span>;
<span class="keyword">import</span> android.widget.<span class="type">Button</span>;

public <span class="class"><span class="keyword">class</span> <span class="title">OtherActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> {</span>

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.other);

    <span class="type">Button</span> btnClose=(<span class="type">Button</span>)findViewById(<span class="type">R</span>.id.btnClose);
    btnClose.setOnClickListener(<span class="keyword">new</span> <span class="type">View</span>.<span class="type">OnClickListener</span>(){
        public void onClick(<span class="type">View</span> v) {
            <span class="comment">//数据是使用Intent返回</span>
            <span class="type">Intent</span> intent = <span class="keyword">new</span> <span class="type">Intent</span>();
            <span class="comment">//把返回数据存入Intent</span>
            intent.putExtra(<span class="string">"result"</span>, <span class="string">"My name is linjiqin"</span>);
            <span class="comment">//设置返回数据</span>
            <span class="type">OtherActivity</span>.<span class="keyword">this</span>.setResult(<span class="type">RESULT_OK</span>, intent);
            <span class="comment">//关闭Activity</span>
            <span class="type">OtherActivity</span>.<span class="keyword">this</span>.finish();
        }
    });

}

}
</code></pre><p>setResult()方法的第一个参数值可以根据业务需要自己定义，上面代码中使用到的RESULT_OK是系统Activity类定义的一个常量，值为-1，代码片断如下：<br>public class android.app.Activity extends ……{<br>  public static final int RESULT_CANCELED = 0;<br>  public static final int RESULT_OK = -1;<br>  public static final int RESULT_FIRST_USER = 1;<br>}</p>
<h3 id="请求码的作用">请求码的作用</h3><p>使用startActivityForResult(Intent intent, int requestCode)方法打开新的Activity，我们需要为startActivityForResult()方法传入一个请求码(第二个参数)。请求码的值是根据业务需要由自已设定，用于标识请求来源。例如：一个Activity有两个按钮，点击这两个按钮都会打开同一个Activity，不管是那个按钮打开新Activity，当这个新Activity关闭后，系统都会调用前面Activity的onActivityResult(int requestCode, int resultCode, Intent data)方法。在onActivityResult()方法如果需要知道新Activity是由那个按钮打开的，并且要做出相应的业务处理，这时可以这样做：</p>
<pre><code> @<span class="function">Override  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
        ....
    button1.setOnClickListener(<span class="keyword">new</span> View.OnClickListener(){
        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
            startActivityForResult (<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, NewActivity.<span class="keyword">class</span>), <span class="number">1</span>);

       }

    });
    button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener(){
        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>{
             startActivityForResult (<span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, NewActivity.<span class="keyword">class</span>), <span class="number">2</span>);

        }

    });


   @<span class="function">Override <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>{
           <span class="keyword">switch</span>(requestCode){
               <span class="keyword">case</span> <span class="number">1</span>:
               <span class="comment">//来自按钮1的请求，作相应业务处理</span>
               <span class="keyword">case</span> <span class="number">2</span>:
               <span class="comment">//来自按钮2的请求，作相应业务处理</span>
            }
      }
}
</code></pre><h3 id="结果码的作用">结果码的作用</h3><p>在一个Activity中，可能会使用startActivityForResult()方法打开多个不同的Activity处理不同的业务，当这些新Activity关闭后，系统都会调用前面Activity的onActivityResult(int requestCode, int resultCode, Intent data)方法。为了知道返回的数据来自于哪个新Activity，在onActivityResult()方法中可以这样做(ResultActivity和NewActivity为要打开的新Activity)：<br>public class ResultActivity extends Activity {<br>       …..<br>       ResultActivity.this.setResult(1, intent);<br>       ResultActivity.this.finish();<br>}<br>public class NewActivity extends Activity {<br>       ……<br>        NewActivity.this.setResult(2, intent);<br>        NewActivity.this.finish();<br>}<br>public class MainActivity extends Activity { // 在该Activity会打开ResultActivity和NewActivity<br>       @Override protected void onActivityResult(int requestCode, int resultCode, Intent data) {<br>               switch(resultCode){<br>                   case 1:<br>                   // ResultActivity的返回数据<br>                   case 2:<br>                    // NewActivity的返回数据<br>                }<br>          }<br>} </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/22/2015-7-22/" data-id="cicluhcry00081ob2vdyy900v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-21" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/21/2015-7-21/">URIs, URLs, and URNs之间的关系区别，Android拍照功能</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/21/2015-7-21/">
    <time datetime="2015-07-21T00:48:01.000Z" itemprop="datePublished">2015-07-21</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/21问题集">2015/7/21问题集</h1><h2 id="URIs,_URLs,_and_URNs之间的关系区别">URIs, URLs, and URNs之间的关系区别</h2><ul>
<li>URI：是uniform resource identifier，统一资源标识符，用来唯一的标识一个资源。</li>
<li>URL：是uniform resource locator，统一资源定位器，它是一种具体的URI，即URL可以用来标识一个资源，而且还指明了如何locate这个资源。</li>
<li>URN：uniform resource name，统一资源命名，是通过名字来标识资源，比如mailto:java-net@java.sun.com。</li>
</ul>
<p>也就是说，URI是以一种抽象的，高层次概念定义统一资源标识，而URL和URN则是具体的资源标识的方式。URL和URN都是一种URI。</p>
<h2 id="Android拍照功能">Android拍照功能</h2><pre><code>package com.zsz.develop.picturedemo;

    <span class="keyword">import</span> java.io.BufferedOutputStream;
    <span class="keyword">import</span> java.io.File;
    <span class="keyword">import</span> java.io.FileNotFoundException;
    <span class="keyword">import</span> java.io.FileOutputStream;
    <span class="keyword">import</span> java.io.IOException;
    <span class="keyword">import</span> java.util.Calendar;
    <span class="keyword">import</span> java.util.Locale;

    <span class="keyword">import</span> android.app.Activity;
    <span class="keyword">import</span> android.content.Intent;
    <span class="keyword">import</span> android.graphics.Bitmap;
    <span class="keyword">import</span> android.os.Bundle;
    <span class="keyword">import</span> android.os.Environment;
    <span class="keyword">import</span> android.provider.MediaStore;
    <span class="keyword">import</span> android.text.format.DateFormat;
    <span class="keyword">import</span> android.util.Log;
    <span class="keyword">import</span> android.view.View;
    <span class="keyword">import</span> android.view.View.OnClickListener;
    <span class="keyword">import</span> android.widget.Button;
    <span class="keyword">import</span> android.widget.ImageView;
    <span class="keyword">import</span> android.widget.Toast;

public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{
<span class="comment">/** Called when the activity is first created. */</span>
private Button button;

@Override
public <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    button = (Button) findViewById(R.id.btnPicture);
    button.setOnClickListener(<span class="keyword">new</span> OnClickListener() {

        @Override
        public <span class="keyword">void</span> onClick(View v) {
            <span class="comment">// TODO Auto-generated method stub</span>
            Intent intent = <span class="keyword">new</span> Intent(MediaStore.ACTION_IMAGE_CAPTURE);

            startActivityForResult(intent, <span class="number">1</span>);
        }
    });
}

@Override
protected <span class="keyword">void</span> onActivityResult(int requestCode, int resultCode, Intent data) {
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);
    <span class="keyword">if</span> (resultCode == Activity.RESULT_OK) {
        <span class="built_in">String</span> sdStatus = Environment.getExternalStorageState();
        <span class="keyword">if</span> (!sdStatus.equals(Environment.MEDIA_MOUNTED)) { <span class="comment">// 检测sd是否可用</span>
            Log.i(<span class="string">"TestFile"</span>,
                    <span class="string">"SD card is not avaiable/writeable right now."</span>);
            <span class="keyword">return</span>;
        }
        <span class="built_in">String</span> name = <span class="keyword">new</span> DateFormat().format(<span class="string">"yyyyMMdd_hhmmss"</span>,Calendar.getInstance(Locale.CHINA)) + <span class="string">".jpg"</span>;
        Toast.makeText(<span class="keyword">this</span>, name, Toast.LENGTH_LONG).show();
        Bundle bundle = data.getExtras();
        Bitmap bitmap = (Bitmap) bundle.get(<span class="string">"data"</span>);<span class="comment">// 获取相机返回的数据，并转换为Bitmap图片格式</span>

        FileOutputStream b = <span class="literal">null</span>;
        <span class="comment">//???????????????????????????????为什么不能直接保存在系统相册位置呢？？？？？？？？？？？？</span>
        File file = <span class="keyword">new</span> File(<span class="string">"/sdcard/myImage/"</span>);
        file.mkdirs();<span class="comment">// 创建文件夹</span>
        <span class="built_in">String</span> fileName = <span class="string">"/sdcard/myImage/"</span>+name;

        <span class="keyword">try</span> {
            b = <span class="keyword">new</span> FileOutputStream(fileName);
            bitmap.compress(Bitmap.CompressFormat.JPEG, <span class="number">100</span>, b);<span class="comment">// 把数据写入文件</span>
        } <span class="keyword">catch</span> (FileNotFoundException e) {
            e.printStackTrace();
        } <span class="keyword">finally</span> {
            <span class="keyword">try</span> {
                b.flush();
                b.close();
            } <span class="keyword">catch</span> (IOException e) {
                e.printStackTrace();
            }
        }
        ((ImageView) findViewById(R.id.imageView)).setImageBitmap(bitmap);<span class="comment">// 将图片显示在ImageView里</span>
    }
}
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/21/2015-7-21/" data-id="cicluhcs100091ob2rsfqhmi5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-20" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/20/2015-7-20/">字节流如何转换为字符流，去除文件中的空格和回车，LayoutInflater加载布局，新建http连接</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/20/2015-7-20/">
    <time datetime="2015-07-20T01:51:03.000Z" itemprop="datePublished">2015-07-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/20_问题集">2015/7/20 问题集</h1><h2 id="字节流如何转换为字符流">字节流如何转换为字符流</h2><pre><code>FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:/abc.txt"</span>);<span class="comment">// 字节流</span>
 InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis);<span class="comment">// 字符流</span>
 <span class="keyword">BufferedReader</span> br = <span class="keyword">new</span> <span class="keyword">BufferedReader</span>(isr);<span class="comment">// 缓冲流</span>
 <span class="keyword">String</span> <span class="built_in">str</span> = <span class="keyword">null</span>;
 <span class="keyword">if</span> ((<span class="built_in">str</span> = br.readLine()) != <span class="keyword">null</span>) {
  System.out.<span class="built_in">println</span>(<span class="built_in">str</span>);
 }
 br.close();
 isr.close();
 fis.close();
}
</code></pre><h2 id="去除文件中的空格和回车">去除文件中的空格和回车</h2><pre><code>  content_str=etSend.getText().<span class="keyword">toString</span>();
<span class="comment">//去除空格</span>
    String <span class="keyword">drop</span>=content_str.<span class="keyword">replace</span>(<span class="string">" "</span>,<span class="string">""</span>);
<span class="comment">//    去除回车</span>
    String droph=<span class="keyword">drop</span>.<span class="keyword">replace</span>(<span class="string">"\n"</span>,<span class="string">""</span>);
</code></pre><h2 id="LayoutInflater加载布局">LayoutInflater加载布局</h2><p>findViewById加载控件，LayoutInflater加载布局</p>
<pre><code>LayoutInflater <span class="variable">layoutInflater=</span>LayoutInflater.from(context);

     <span class="variable">layout=</span> (RelativeLayout) layoutInflater.inflate(R.layout.left_item,<span class="constant">null</span>);
</code></pre><h2 id="新建http连接">新建http连接</h2><pre><code><span class="keyword">protected</span> <span class="keyword">String</span> doInBackground(<span class="keyword">String</span>... strings) {

 <span class="keyword">try</span> {
     client=<span class="keyword">new</span> DefaultHttpClient();
     httpGet=<span class="keyword">new</span> HttpGet(url);
    httpResponse= client.execute(httpGet);
    entity= httpResponse.getEntity();
     InputStream is=entity.getContent();
     InputStreamReader isr=<span class="keyword">new</span> InputStreamReader(is);
     <span class="keyword">BufferedReader</span> br=<span class="keyword">new</span> <span class="keyword">BufferedReader</span>(isr);
     <span class="keyword">String</span> <span class="built_in">line</span>;
     StringBuffer sb=<span class="keyword">new</span> StringBuffer();
     <span class="keyword">while</span> ((<span class="built_in">line</span>=br.readLine())!=<span class="keyword">null</span>){
         sb.<span class="built_in">append</span>(<span class="built_in">line</span>);
     }
     <span class="keyword">return</span> sb.toString();
 } <span class="keyword">catch</span> (IOException e) {
     e.printStackTrace();
 }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/20/2015-7-20/" data-id="cicluhcs5000a1ob2a0zcsc40" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-18-adapter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/19/2015-7-18-adapter/">adapter</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/19/2015-7-18-adapter/">
    <time datetime="2015-07-19T05:10:37.000Z" itemprop="datePublished">2015-07-19</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Adapter">Adapter</h1><h2 id="Adapter的概念">Adapter的概念</h2><p> Adapter是连接后端数据和前端显示的适配器接口，是数据和UI（View）之间一个重要的纽带。在常见的View(List View,Grid View)等地方都需要用到Adapter。如下图直观的表达了Data、Adapter、View三者的关系：</p>
<h2 id="常用Adapter">常用Adapter</h2><ul>
<li>BaseAdapter是一个抽象类，继承它需要实现较多的方法，所以也就具有较高的灵活性；</li>
<li>ArrayAdapter支持泛型操作，最为简单，只能展示一行字。</li>
<li>SimpleAdapter有最好的扩充性，可以自定义出各种效果。</li>
<li>SimpleCursorAdapter可以适用于简单的纯文字型ListView，它需要Cursor的字段和UI的id对应起来。如需要实现更复杂的UI也可以重写其他方法。可以认为是SimpleAdapter对数据库的简单结合，可以方便地把数据库的内容以列表的形式展示出来。</li>
</ul>
<h2 id="ArrayAdapter的操作">ArrayAdapter的操作</h2><p>ArrayAdapter的操作很简单，构建一个ArrayAdapter（）实例。其中要传入三个参数。</p>
<p>依次为this,布局文件（注意这里的布局文件描述的是列表的每一行的布局，android.R.layout.simple_list_item_1是系统定义好的布局文件只显示一行文字，数据源(一个List集合)。</p>
<p>最后绑定显示。</p>
<pre><code>package com.zsz.develop.adaptertest;

<span class="keyword">import</span> android.app.ListActivity;
<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.Menu;
<span class="keyword">import</span> android.view.MenuItem;
<span class="keyword">import</span> android.widget.Adapter;
<span class="keyword">import</span> android.widget.ArrayAdapter;
<span class="keyword">import</span> android.widget.ListView;

<span class="keyword">import</span> java.util.ArrayList;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">ActionBarActivity</span> </span>{

private ListView lv;
private ArrayList&lt;<span class="built_in">String</span>&gt; mArrayList = <span class="keyword">new</span> ArrayList&lt;<span class="built_in">String</span>&gt;();
@Override
protected <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ArrayAdapter&lt;<span class="built_in">String</span>&gt; adapter=<span class="keyword">new</span> ArrayAdapter&lt;<span class="built_in">String</span>&gt;(<span class="keyword">this</span>,android.R.layout.simple_list_item_1,getData());
    lv= (ListView) findViewById(R.id.lv);
    lv.setAdapter(adapter);

}
private ArrayList&lt;<span class="built_in">String</span>&gt; getData(){

    mArrayList.add(<span class="string">"测试一"</span>);
    mArrayList.add(<span class="string">"测试二"</span>);
    mArrayList.add(<span class="string">"测试三"</span>);
    mArrayList.add(<span class="string">"测试死"</span>);
    <span class="keyword">return</span> mArrayList;

}



}
</code></pre><h2 id="java与Mysql类型对应">java与Mysql类型对应</h2><p><img src="http://cl.ly/image/1k1z2h033V2O/QL" alt="">TTDB2<a href="RH(0A]8QQRR.png">N</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/19/2015-7-18-adapter/" data-id="cicluhcsc000c1ob2yk3x3t5f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
      </nav>
    </section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 zszdevelop<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>