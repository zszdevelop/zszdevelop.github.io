<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zszBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this zszdeveloper blog��welcome��">
<meta property="og:type" content="website">
<meta property="og:title" content="zszBlog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="zszBlog">
<meta property="og:description" content="this zszdeveloper blog��welcome��">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zszBlog">
<meta name="twitter:description" content="this zszdeveloper blog��welcome��">
  
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">zszBlog</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/.">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/categories">Categories</a></td>
      
        <td><a class="main-nav-link" href="/tags">Tags</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </td>
      </tr>
    </table>
  </div>
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png">
      <h2 id="name">zszdevelop</h2>
      <h3 id="title">Java&amp;Android Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>XiaMen, China</span>
      <a id="follow" href="undefined">FOLLOW</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        37
        <span>posts</span>
      </div>
      <div class="article-info-block">
        0
        <span>tag</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="https://github.com/zszdevelop" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="/#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="https://www.facebook.com/profile.php?id=100007317255366" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      <section id="main">
      <article id="post-2015-8-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/19/2015-8-19/">2015/8/19</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/19/2015-8-19/">
    <time datetime="2015-08-19T08:36:41.000Z" itemprop="datePublished">2015-08-19</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/19问题集">2015/8/19问题集</h1><h2 id="volley的简单使用">volley的简单使用</h2><p>MyApplication中的代码：主要是建立一个queue对列。并给出一个调用方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;

<span class="keyword">import</span> com.android.volley.<span class="type">RequestQueue</span>;
<span class="keyword">import</span> com.android.volley.toolbox.<span class="type">Volley</span>;

<span class="comment">/**
 * Created by shengzhong on 2015/8/19.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>

public static <span class="type">RequestQueue</span> queue;

<span class="annotation">@Override</span>
public void onCreate() {
    <span class="keyword">super</span>.onCreate();
    queue= <span class="type">Volley</span>.newRequestQueue(getApplicationContext());
}

public static <span class="type">RequestQueue</span> getHttpQueue(){
    <span class="keyword">return</span> queue;
}

}
</code></pre><p>=</p>
<p>MainActivity中的代码。调用和实现volley的post和get方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.Menu;
<span class="keyword">import</span> android.view.MenuItem;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.android.volley.AuthFailureError;
<span class="keyword">import</span> com.android.volley.Request;
<span class="keyword">import</span> com.android.volley.Response;
<span class="keyword">import</span> com.android.volley.VolleyError;
<span class="keyword">import</span> com.android.volley.toolbox.StringRequest;

<span class="keyword">import</span> java.lang.reflect.Method;
<span class="keyword">import</span> java.util.<span class="keyword">HashMap</span>;
<span class="keyword">import</span> java.util.Map;


<span class="keyword">public</span> class MainActivity extends ActionBarActivity {

@Override
<span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
<span class="comment">//        volley_Get();</span>
    volley_Post();
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Post() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.POST,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    }){
        <span class="comment">//与get最大的不同就是在这后面要添加getParams的方法来传递参数</span>
        @Override
        <span class="keyword">protected</span> Map&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; getParams() <span class="keyword">throws</span> AuthFailureError {
            <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>,<span class="keyword">String</span>&gt; <span class="built_in">map</span>=<span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;&gt;();
            <span class="built_in">map</span>.put(<span class="string">"phone"</span>,<span class="string">"13616008640"</span>);
            <span class="built_in">map</span>.put(<span class="string">"key"</span>,<span class="string">"a8d4ff7a12cabef64ac6fe7871baf073"</span>);
            <span class="comment">//返回map就好了</span>
            <span class="keyword">return</span> <span class="built_in">map</span>;
        }
    };
    request.setTag(<span class="string">"abcPost"</span>);
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Get() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?phone=13616008640&amp;key=a8d4ff7a12cabef64ac6fe7871baf073"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.GET,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {

            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    });
    <span class="comment">//添加标签，当取消这个请求的时候可以取消这个标签</span>
    request.setTag(<span class="string">"abcGET"</span>);
    <span class="comment">//将我们的请求添加到我们的对列里面</span>
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);

}


}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/19/2015-8-19/" data-id="cidixhxzm0003esb27ecvq3sy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/17/2015-8-17/">2015/8/17</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/17/2015-8-17/">
    <time datetime="2015-08-17T09:29:48.000Z" itemprop="datePublished">2015-08-17</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/17问题集">2015/8/17问题集</h1><h2 id="Android日志系统">Android日志系统</h2><p>这个类比较常用的打印日志的方法有5个,这5个方法都会把日志打印到LogCat中: </p>
<ul>
<li>Log.v(tag,message);        //verbose模式,打印最详细的日志 </li>
<li>Log.d(tag,message);        //debug级别的日志 </li>
<li>Log.i(tag,message);        //info级别的日志 </li>
<li>Log.w(tag,message);        //warn级别的日志 </li>
<li>Log.e(tag,message);        //error级别的日志 </li>
</ul>
<p>其中tag和message分别是两个String值.从android开发帮助文档中来看,tag和message的定义分别是:</p>
<ul>
<li>tag ：    Used to identify the source of a log message. It usually identifies the class or activity where the log call occurs. </li>
<li>msg ：    The message you would like logged. </li>
</ul>
<p>可看出tag用来标记log消息的源头的.而message则是这条log的内容. </p>
<p>从日志的输出数量来算,error,warn,info,debug,verbose,数量从少到多.</p>
<h2 id="Android_Studio中获取SHA1或MD5的方法">Android Studio中获取SHA1或MD5的方法</h2><p>第一步、打开Android Studio的Tools-&gt;Open Terminal…</p>
<p>第二步、输入命令：keytool -v -list -keystore keystore.jks</p>
<p>【一定要记得加上 -v 参数，不然只能看到SHA1，没有MD5】【keystore.jks，需要替换为你自己的密钥所在路径和文件名】</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/17/2015-8-17/" data-id="cidixhxzp0004esb2lpt382sb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/16/2015-8-16/">2015/8/15</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/16/2015-8-16/">
    <time datetime="2015-08-16T10:56:23.000Z" itemprop="datePublished">2015-08-16</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/16问题集">2015/8/16问题集</h1><h2 id="聚合数据API使用">聚合数据API使用</h2><p>MainActivity里的代码：使用的时候只需要更改Parameters</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.Button;
<span class="keyword">import</span> android.widget.TextView;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.thinkland.sdk.android.DataCallBack;
<span class="keyword">import</span> com.thinkland.sdk.android.JuheData;
<span class="keyword">import</span> com.thinkland.sdk.android.Parameters;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{

<span class="keyword">private</span> Context mContext;
TextView tv;
<span class="keyword">private</span> Button btn,btnWeather;

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    mContext = <span class="keyword">this</span>;
    tv = (TextView) findViewById(R.id.tv);



    <span class="javadoc">/**
     * 请不要添加key参数.
     */</span>
    Parameters params = <span class="keyword">new</span> Parameters();
    params.add(<span class="string">"ip"</span>, <span class="string">"www.juhe.cn"</span>);
    params.add(<span class="string">"dtype"</span>, <span class="string">"xml"</span>);
    <span class="javadoc">/**
     * 请求的方法 参数: 第一个参数 当前请求的context;
     *                   第二个参数 接口id;
     *                   第三个参数 接口请求的url;
     *                   第四个参数 接口请求的方式;
     *                   第五个参数 接口请求的参数,键值对com.thinkland.sdk.android.Parameters类型;
     *                   第六个参数请求的回调方法,com.thinkland.sdk.android.DataCallBack;
     * 
     */</span>
    JuheData.executeWithAPI(mContext, <span class="number">1</span>, <span class="string">"http://apis.juhe.cn/ip/ip2addr"</span>,
            JuheData.GET, params, <span class="keyword">new</span> DataCallBack() {
                <span class="javadoc">/**
                 * 请求成功时调用的方法 statusCode为http状态码,responseString为请求返回数据.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(<span class="keyword">int</span> statusCode, String responseString)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(responseString + <span class="string">"\n"</span>);
                }

                <span class="javadoc">/**
                 * 请求完成时调用的方法,无论成功或者失败都会调用.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFinish</span><span class="params">()</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    Toast.makeText(getApplicationContext(), <span class="string">"finish"</span>,
                            Toast.LENGTH_SHORT).show();
                }

                <span class="javadoc">/**
                 * 请求失败时调用的方法,statusCode为http状态码,throwable为捕获到的异常
                 * statusCode:30002 没有检测到当前网络.
                 *               30003 没有进行初始化.
                 *               0 未明异常,具体查看Throwable信息.
                 *               其他异常请参照http状态码.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> statusCode,
                        String responseString, Throwable throwable)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(throwable.getMessage() + <span class="string">"\n"</span>);
                }
            });

}

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onDestroy();
    <span class="javadoc">/**
     * 关闭当前页面正在进行中的请求.
     */</span>
    JuheData.cancelRequests(mContext);
}

}
</code></pre><p>需要继承Application</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> com.thinkland.sdk.android.<span class="type">JuheSDKInitializer</span>;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;
<span class="keyword">import</span> android.widget.<span class="type">Button</span>;

public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>



<span class="annotation">@Override</span>
public void onCreate() {
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onCreate();
    <span class="type">JuheSDKInitializer</span>.initialize(getApplicationContext());

}
}
</code></pre><p>更改manifest的设置即可</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;manifest xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
<span class="variable">package=</span><span class="string">"com.thinkland.juheapi.demo"</span>
android:<span class="variable">versionCode=</span><span class="string">"1"</span>
android:<span class="variable">versionName=</span><span class="string">"1.0"</span> &gt;

&lt;uses-sdk
    android:<span class="variable">minSdkVersion=</span><span class="string">"9"</span>
    android:<span class="variable">targetSdkVersion=</span><span class="string">"15"</span> /&gt;

&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.READ_PHONE_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.INTERNET"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;

&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;
&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.READ_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;

&lt;application
    android:<span class="variable">name=</span><span class="string">".MyApplication"</span>
    android:<span class="variable">allowBackup=</span><span class="string">"true"</span>
    android:<span class="variable">icon=</span><span class="string">"@drawable/ic_launcher"</span>
    android:<span class="variable">label=</span><span class="string">"@string/app_name"</span>
    android:<span class="variable">theme=</span><span class="string">"@style/AppTheme"</span> &gt;
    &lt;meta-data
        android:<span class="variable">name=</span><span class="string">"com.thinkland.juheapi.openid"</span>
        android:<span class="variable">value=</span><span class="string">"JHf2946fb83e4a9d7dbd854fa65bd130b1"</span> /&gt;

    &lt;activity
        android:<span class="variable">name=</span><span class="string">".MainActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/app_name"</span> &gt;
        &lt;intent-filter&gt;
            &lt;action android:<span class="variable">name=</span><span class="string">"android.intent.action.MAIN"</span> /&gt;

            &lt;category android:<span class="variable">name=</span><span class="string">"android.intent.category.LAUNCHER"</span> /&gt;
        &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".CaptchaActicity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha_acticity"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".Captcha"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".WeatherActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_weather"</span> &gt;
    &lt;/activity&gt;
&lt;/application&gt;

&lt;/manifest&gt;
</code></pre><h2 id="Activity继承错误">Activity继承错误</h2><p>错误代码提示：</p>
<pre><code>java<span class="class">.lang</span><span class="class">.IllegalStateException</span>: You need to use <span class="tag">a</span> Theme<span class="class">.AppCompat</span> theme (or descendant) with this activity.
</code></pre><p>原因：<br>从错误提示中提到Theme.AppCompat theme，这是因为我们的activity一定是继承了兼容包中的类，<br>比如我这里就无意中继承了ActionBarActivity，它来自android.support.v7.app.ActionBarActivity。<br>所以就要使用与其配合的AppCompat的theme才行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/16/2015-8-16/" data-id="cidixhxzv0005esb2zsdypr4c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-15" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/15/2015-8-15/">Android手机的通讯录</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/15/2015-8-15/">
    <time datetime="2015-08-15T12:16:59.000Z" itemprop="datePublished">2015-08-15</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Android手机的通讯录">Android手机的通讯录</h1><p>Android手机的通讯录联系人全部都存在系统的数据库中，如果须要获得通讯里联系人的信息就须要访问系统的数据库，才能将信息拿出来。</p>
<h2 id="contacts_表">contacts 表</h2><ul>
<li>_id ：表的ID，主要用于其它表通过contacts 表中的ID可以查到相应的数据。</li>
<li>display_name:  联系人名称</li>
<li>photo_id:头像的ID，如果没有设置联系人头像，这个字段就为空</li>
<li>times_contacted:通话记录的次数</li>
<li>last_time_contacted: 最后的通话时间 </li>
<li>lookup :是一个持久化的储存 因为用户可能会改名子 但是它改不了lookup</li>
</ul>
<h2 id="简单实例">简单实例</h2><p>要先添加权限</p>
<pre><code><span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_CONTACTS"</span>&gt;</span><span class="tag">&lt;/<span class="title">uses-permission</span>&gt;</span>
</code></pre><p>这个简单实例只是把数据显示在控制台上。</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));

            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }


    }


    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><h2 id="把通讯录显示在页面上">把通讯录显示在页面上</h2><p>MainActivity中的代码：主要加载页面信息</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;
<span class="keyword">import</span> android.widget.<span class="type">ListView</span>;

<span class="keyword">import</span> java.util.<span class="type">List</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>
<span class="keyword">private</span> <span class="type">ListView</span> lv;
<span class="keyword">private</span> <span class="type">MyAdapter</span> adapter;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);
    <span class="type">GetNumber</span>.getNumber(<span class="keyword">this</span>);

    lv= (<span class="type">ListView</span>) findViewById(<span class="type">R</span>.id.lv);
    adapter=<span class="keyword">new</span> <span class="type">MyAdapter</span>(<span class="type">GetNumber</span>.lists,<span class="keyword">this</span>);
    lv.setAdapter(adapter);
}
}
</code></pre><p>GetNumber中的代码主要获得通讯录信息</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="keyword">import</span> java.util.ArrayList;
<span class="keyword">import</span> java.util.List;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static List&lt;PhoneInfo&gt; lists=<span class="keyword">new</span> ArrayList&lt;PhoneInfo&gt;();

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            PhoneInfo phoneInfo=<span class="keyword">new</span> PhoneInfo(phoneName,phoneNumber);
            lists.add(phoneInfo);
            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }
    }
    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><p>PhoneInfo对数据进行封装</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="comment">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> class PhoneInfo {

   <span class="keyword">private</span> <span class="keyword">String</span> phoneName;
<span class="keyword">private</span> <span class="keyword">String</span> phoneNumber;

<span class="keyword">public</span> PhoneInfo(<span class="keyword">String</span> phoneName,<span class="keyword">String</span> phoneNumber){
    setPhoneName(phoneName);
    setPhoneNumber(phoneNumber);
}


<span class="keyword">public</span> <span class="keyword">String</span> getPhoneName() {
    <span class="keyword">return</span> phoneName;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneName(<span class="keyword">String</span> phoneName) {
    <span class="keyword">this</span>.phoneName = phoneName;
}

<span class="keyword">public</span> <span class="keyword">String</span> getPhoneNumber() {
    <span class="keyword">return</span> phoneNumber;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneNumber(<span class="keyword">String</span> phoneNumber) {
    <span class="keyword">this</span>.phoneNumber = phoneNumber;
}
}
</code></pre><p>MyAdapter对listview进行适配。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
    layoutInflater=LayoutInflater.from(context);
    layout= (LinearLayout) layoutInflater.inflate(R.layout.call,<span class="keyword">null</span>);
    TextView tvName= (TextView) layout.findViewById(R.id.tvName);
    TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);
    tvName.setText(lists.get(i).getPhoneName());
    tvNumber.setText(lists.get(i).getPhoneNumber());

    <span class="keyword">return</span> layout;
}
}
</code></pre><p>call的layout。在main中有一个list</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span> android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span>
android:<span class="variable">orientation=</span><span class="string">"vertical"</span>&gt;

&lt;LinearLayout
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">orientation=</span><span class="string">"horizontal"</span>
    &gt;
    &lt;ImageView
        android:<span class="variable">layout_width=</span><span class="string">"45dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"45dp"</span>
        android:<span class="variable">src=</span><span class="string">"@drawable/jiamin"</span>
        /&gt;
    &lt;LinearLayout
        android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
        &gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvName"</span>
            /&gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvNumber"</span>
            /&gt;


    &lt;/LinearLayout&gt;


&lt;/LinearLayout&gt;

&lt;/LinearLayout&gt;
</code></pre><h2 id="listView优化">listView优化</h2><p>使用holder新建textview来操作。</p>
<p>重用了convertView，很大程度上的减少了内存的消耗。通过判断convertView是否为null，是的话就需要产生一个视图出来，然后给这个视图数据，最后将这个视图返回给底层，呈献给用户。<br>特点：如果当前的convertView为null，则通过LayoutInflat产生一个view。</p>
<p>其中converView会反复使用，目的是为了提高ListView效率。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
<span class="comment">//        layoutInflater=LayoutInflater.from(context);</span>
<span class="comment">//        layout= (LinearLayout) layoutInflater.inflate(R.layout.call,null);</span>
<span class="comment">//        TextView tvName= (TextView) layout.findViewById(R.id.tvName);</span>
<span class="comment">//        TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);</span>
<span class="comment">//        tvName.setText(lists.get(i).getPhoneName());</span>
<span class="comment">//        tvNumber.setText(lists.get(i).getPhoneNumber());</span>
<span class="comment">//</span>
    ViewHolder holder;
    <span class="keyword">if</span> (view==<span class="keyword">null</span>){
        view=LayoutInflater.from(context).inflate(R.layout.call,<span class="keyword">null</span>);
        holder=<span class="keyword">new</span> ViewHolder();
        holder.tvName= (TextView) view.findViewById(R.id.tvName);
        holder.tvNumber= (TextView) view.findViewById(R.id.tvNumber);
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());
        view.setTag(holder);

    }<span class="keyword">else</span> {
        holder= (ViewHolder) view.getTag();
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());

    }

    <span class="keyword">return</span> view;
}

<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>{

    TextView tvName;
    TextView tvNumber;
}
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/15/2015-8-15/" data-id="cidixhxzx0006esb23hrp8nht" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/10/2015-8-10/">部署代码到CentOS云服务器</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/10/2015-8-10/">
    <time datetime="2015-08-10T01:31:22.000Z" itemprop="datePublished">2015-08-10</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="部署代码到CentOS云服务器">部署代码到CentOS云服务器</h1><h2 id="FTP通道">FTP通道</h2><p>用户需要使用FTP通道，将应用程序从用户自己的服务器上传到云服务器上。</p>
<blockquote>
<p>FTP（File Transfer Protocol，文件传输协议） 是 TCP/IP 协议组中的协议之一。FTP协议包括两个组成部分，其一为FTP服务器，其二为FTP客户端。其中FTP服务器用来存储文件，用户可以使用FTP客户端通过FTP协议访问位于FTP服务器上的资源。在开发网站的时候，通常利用FTP协议把网页或程序传到Web服务器上。此外，由于FTP传输效率非常高，在网络上传输大的文件时，一般也采用该协议。</p>
<p>默认情况下FTP协议使用TCP端口中的 20和21这两个端口，其中20用于传输数据，21用于传输控制信息。但是，是否使用20作为传输数据的端口与FTP使用的传输模式有关，如果采用主动模式，那么数据传输端口就是20；如果采用被动模式，则具体最终使用哪个端口要服务器端和客户端协商决定。</p>
</blockquote>
<p><a href="http://www.qcloud.com/wiki/%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81%E5%88%B0CentOS%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8" target="_blank" rel="external">http://www.qcloud.com/wiki/%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81%E5%88%B0CentOS%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/10/2015-8-10/" data-id="cidixhy000007esb2s4wyfago" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/06/2015-8-6/">px和dp的转换公式， Android 判断当前线程是否是主线程的方法</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/06/2015-8-6/">
    <time datetime="2015-08-06T01:07:34.000Z" itemprop="datePublished">2015-08-06</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/6问题集">2015/8/6问题集</h1><h2 id="px和dp的转换公式">px和dp的转换公式</h2><p> px = dp * (dpi / 160)</p>
<ul>
<li><p>px：即像素，1px代表屏幕上一个物理的像素点；px单位不被建议使用，因为同样100px的图片，在不同手机上显示的实际大小可能不同</p>
</li>
<li><p>dp：它与“像素密度”密切相关，所以首先我们解释一下什么是像素密度。假设有一部手机，屏幕的物理尺寸为1.5英寸x2英寸，屏幕分辨率为240x320，则我们可以计算出在这部手机的屏幕上，每英寸包含的像素点的数量为240/1.5=160dpi（横向）或320/2=160dpi（纵向），160dpi就是这部手机的像素密度，像素密度的单位dpi是Dots Per Inch的缩写，即每英寸像素数量。横向和纵向的这个值都是相同的，原因是大部分手机屏幕使用正方形的像素点。</p>
</li>
</ul>
<ul>
<li><p>四种像素密度：而ldpi指120，mdpi指160，hdpi指240，xhdpi指320。低（120dpi）、中（160dpi）、高（240dpi）和超高（320dpi），它们对应的dp到px的系数分别为0.75、1、1.5和2，这个系数乘以dp长度就是像素数。例如界面上有一个长度为“80dp”的图片，那么它在240dpi的手机上实际显示为80x1.5=120px，在320dpi的手机上实际显示为80x2=160px</p>
</li>
<li><p>dip：<br>与dp完全相同，只是名字不同而已。在早期的Android版本里多使用dip，后来为了与sp统一就建议使用dp这个名字了。</p>
</li>
<li><p>sp：<br>与缩放无关的抽象像素（Scale-independent Pixel）。sp和dp很类似但唯一的区别是，Android系统允许用户自定义文字尺寸大小（小、正常、大、超大等等），当文字尺寸是“正常”时1sp=1dp=0.00625英寸，而当文字尺寸是“大”或“超大”时，1sp&gt;1dp=0.00625英寸。类似我们在windows里调整字体尺寸以后的效果——窗口大小不变，只有文字大小改变。</p>
</li>
<li><p>mm：<br>即毫米；</p>
</li>
<li><p>in：<br>即英寸，1英寸=2.54厘米（约）；</p>
</li>
<li><p>pt：<br>1pt=1/72英寸=0.035厘米；</p>
</li>
</ul>
<p>最佳实践，<strong>文字的尺寸一律用sp单位，非文字的尺寸一律使用dp单位</strong>。例如textSize=”16sp”、layout_width=”60dp”；偶尔需要使用px单位，例如需要在屏幕上画一条细的分隔线时：</p>
<h2 id="如何加载一张大图bitmap如（4096*4096）">如何加载一张大图bitmap如（4096*4096）</h2><h2 id="加载一张大图，有什么注意事项">加载一张大图，有什么注意事项</h2><ul>
<li><p>在展示高分辨率图片的时候，最好先将图片进行压缩。压缩后的图片大小应该和用来展示它的控件大小相近，在一个很小的ImageView上显示一张超大的图片不会带来任何视觉上的好处，但却会占用我们相当多宝贵的内存，而且在性能上还可能会带来负面影响。</p>
</li>
<li><p>为了避免OOM异常，最好在解析每张图片的时候都先检查一下图片的大小，除非你非常信任图片的来源，保证这些图片都不会超出你程序的可用内存。 </p>
</li>
</ul>
<h2 id="Android_判断当前线程是否是主线程的方法">Android 判断当前线程是否是主线程的方法</h2><ul>
<li><p>方法一：使用Looper类判断</p>
<pre><code>Looper.<span class="function"><span class="title">myLooper</span><span class="params">()</span></span> != Looper.<span class="function"><span class="title">getMainLooper</span><span class="params">()</span></span>  
</code></pre></li>
</ul>
<p>方法二：通过查看Thread类的当前线程</p>
<pre><code>Thread.<span class="function"><span class="title">currentThread</span><span class="params">()</span></span> == Looper.<span class="function"><span class="title">getMainLooper</span><span class="params">()</span></span>.<span class="function"><span class="title">getThread</span><span class="params">()</span></span> 
</code></pre><p>方法三：使用线程句柄判断，将主线程的Thread.currentThread()获取到主线程当前句柄，保存起来，在需要判断的时候调用Thread.currentThread()来与之比较，即可判断当前线程是否是主线程了，该方法可以参见Activity中</p>
<pre><code><span class="keyword">private</span> <span class="keyword">Thread</span> mUiThread;  
</code></pre><p>另</p>
<pre><code><span class="keyword">public</span> <span class="keyword">final</span> void runOnUiThread(Runnable <span class="keyword">action</span>) {  
    <span class="keyword">if</span> (Thread.currentThread() <span class="comment">!= mUiThread) {  </span>
        mHandler.post(<span class="keyword">action</span>);  
    } <span class="keyword">else</span> {  
        <span class="keyword">action</span>.run();  
    }  
}  
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/06/2015-8-6/" data-id="cidixhxzk0002esb2ztbrvukl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-30" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/30/2015-7-30/">android端乱码问题，RadioGroup多选一，对比空字符，4种方式实现java 保留2位小数点</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/30/2015-7-30/">
    <time datetime="2015-07-30T00:38:24.000Z" itemprop="datePublished">2015-07-30</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/5问题集">2015/8/5问题集</h1><h2 id="android端乱码问题">android端乱码问题</h2><p>服务器中没问题而单单android端乱码，那么一定是接收的时候出现问题</p>
<p>把这句代码</p>
<pre><code><span class="variable">entity=</span> EntityUtils.<span class="built_in">toString</span>(response.getEntity());
</code></pre><p>改成接收的时候也要转成UTF-8</p>
<pre><code><span class="variable">entity=</span> EntityUtils.<span class="built_in">toString</span>(response.getEntity(),<span class="string">"UTF-8"</span>);
</code></pre><h2 id="RadioGroup多选一">RadioGroup多选一</h2><p>程序中常常要用到多选一的时候，例如男女</p>
<p>就以男女为例</p>
<p>XML</p>
<pre><code> <span class="tag">&lt;<span class="title">LinearLayout</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"horizontal"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">TextView</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:text</span>=<span class="value">"性别："</span>
        /&gt;</span>
    <span class="tag">&lt;<span class="title">TextView</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:text</span>=<span class="value">"男"</span>
        <span class="attribute">android:id</span>=<span class="value">"@+id/etSex"</span>
        /&gt;</span>
    <span class="comment">&lt;!--&lt;EditText--&gt;</span>
        <span class="comment">&lt;!--android:id="@+id/etSex"--&gt;</span>
        <span class="comment">&lt;!--android:layout_width="fill_parent"--&gt;</span>
        <span class="comment">&lt;!--android:layout_height="wrap_content"--&gt;</span>
        <span class="comment">&lt;!--/&gt;--&gt;</span>

    <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>&gt;</span>

    <span class="tag">&lt;<span class="title">RadioGroup</span> <span class="attribute">android:id</span>=<span class="value">"@+id/radioGroup"</span>
        <span class="attribute">android:contentDescription</span>=<span class="value">"性别"</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>&gt;</span>

        <span class="tag">&lt;<span class="title">RadioButton</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:id</span>=<span class="value">"@+id/radioMale"</span>
            <span class="attribute">android:text</span>=<span class="value">"男"</span>
            <span class="attribute">android:checked</span>=<span class="value">"true"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">RadioButton</span>&gt;</span>
        <span class="tag">&lt;<span class="title">RadioButton</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:id</span>=<span class="value">"@+id/radioFemale"</span>
            <span class="attribute">android:text</span>=<span class="value">"女"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">RadioButton</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">RadioGroup</span>&gt;</span>

    <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>Activty中的代码如下</p>
<pre><code>etSex= (TextView) findViewById(R.id.etSex);

   radioGroup= (RadioGroup) findViewById(R.id.radioGroup);
   radioGroup.setOnCheckedChangeListener(<span class="keyword">new</span> RadioGroup.OnCheckedChangeListener() {
       <span class="annotation">@Override</span>
       <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(RadioGroup radioGroup, <span class="keyword">int</span> i)</span> </span>{
        <span class="keyword">int</span> radioButtonId = radioGroup.getCheckedRadioButtonId();
           rb = (RadioButton)EditDataActicity.<span class="keyword">this</span>.findViewById(radioButtonId);
           etSex.setText( rb.getText());
       }
   });
</code></pre><h2 id="对比空字符">对比空字符</h2><p>对比空字符要用equals(“”)</p>
<pre><code>etHeight.<span class="function"><span class="title">getText</span><span class="params">()</span></span>.<span class="function"><span class="title">toString</span><span class="params">()</span></span>.<span class="function"><span class="title">trim</span><span class="params">()</span></span>.<span class="function"><span class="title">equals</span><span class="params">(<span class="string">""</span>)</span></span>
</code></pre><h2 id="4种方式实现java_保留2位小数点">4种方式实现java 保留2位小数点</h2><h3 id="方式一：">方式一：</h3><p>四舍五入<br>double   f   =   111231.5585;<br>BigDecimal   b   =   new   BigDecimal(f);<br>double   f1   =   b.setScale(2,   BigDecimal.ROUND_HALF_UP).doubleValue();<br>保留两位小数</p>
<h3 id="方式二：">方式二：</h3><p>java.text.DecimalFormat   df   =new   java.text.DecimalFormat(”#.00″);<br>df.format(你要格式化的数字);<br>例：new java.text.DecimalFormat(”#.00″).format(3.1415926)</p>
<p>（#.00 表示两位小数 #.0000四位小数 以此类推…</p>
<h3 id="方式三：">方式三：</h3><p>double d = 3.1415926;<br>String result = String .format(”%.2f”);<br>%.2f %. 表示 小数点前任意位数   2 表示两位小数 格式后的结果为f 表示浮点型。</p>
<h3 id="方式四：">方式四：</h3><p>此外如果使用struts标签做输出的话，有个format属性,设置为format=”0.00”就是保留两位小数<br>例如：<bean:write name="entity" property="dkhAFSumPl" format="0.00"></bean:write></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/30/2015-7-30/" data-id="cidixhy020008esb2a2ovqx9c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-29-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/29/2015-7-29-1/">AChartEngine超简单实例</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/29/2015-7-29-1/">
    <time datetime="2015-07-29T13:19:12.000Z" itemprop="datePublished">2015-07-29</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="AChartEngine超简单实例">AChartEngine超简单实例</h1><p>其实无非就在做三件事</p>
<ul>
<li>1.添加数据进图标</li>
<li>2.线或条等设置</li>
<li>3.制作成什么表。仅此而已</li>
</ul>
<p>package com.zsz.develop.mychart02;</p>
<pre><code><span class="preprocessor"><span class="keyword">import</span> android.app.Activity;</span>
<span class="preprocessor"><span class="keyword">import</span> android.content.Intent;</span>
<span class="preprocessor"><span class="keyword">import</span> android.graphics.Color;</span>
<span class="preprocessor"><span class="keyword">import</span> android.os.Bundle;</span>
<span class="preprocessor"><span class="keyword">import</span> android.widget.Button;</span>
<span class="preprocessor"><span class="keyword">import</span> android.widget.LinearLayout;</span>


<span class="preprocessor"><span class="keyword">import</span> org.achartengine.ChartFactory;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.GraphicalView;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.chart.PointStyle;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYSeries;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYSeriesRenderer;</span>

<span class="preprocessor"><span class="keyword">import</span> java.util.Random;</span>

<span class="comment">/**
 * Created by shengzhong on 2015/7/29.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowExamActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span>{
<span class="keyword">private</span> LinearLayout llChart;
<span class="keyword">private</span> Button btn;
@Override
<span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {

    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.show_exam_activity);
    <span class="comment">// 1, 构造显示用渲染图</span>
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
    <span class="comment">// 2,进行显示</span>
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    <span class="comment">// 2.1, 构建数据</span>
    Random r = <span class="keyword">new</span> Random();
    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {
        XYSeries series = <span class="keyword">new</span> XYSeries(<span class="string">"test"</span> + (i + <span class="number">1</span>));
        <span class="comment">// 填充数据</span>
        <span class="keyword">for</span> (int k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++) {
            <span class="comment">// 填x,y值</span>
            series.add(k, <span class="number">20</span> + r.nextInt() % <span class="number">100</span>);
        }
        <span class="comment">// 需要绘制的点放进dataset中</span>
        dataset.addSeries(series);
    }
    <span class="comment">// 3, 对点的绘制进行设置</span>
    XYSeriesRenderer xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
    <span class="comment">// 3.1设置颜色</span>
    xyRenderer.setColor(Color.BLUE);
    <span class="comment">// 3.2设置点的样式</span>
    xyRenderer.setPointStyle(PointStyle.SQUARE);
    <span class="comment">// 3.3, 将要绘制的点添加到坐标绘制中</span>
    renderer.addSeriesRenderer(xyRenderer);
    <span class="comment">// 3.4,重复 1~3的步骤绘制第二个系列点</span>
    xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
    xyRenderer.setColor(Color.RED);
    xyRenderer.setPointStyle(PointStyle.CIRCLE);
    renderer.addSeriesRenderer(xyRenderer);
<span class="comment">//        Intent intent = new LinChart().execute(this);</span>
<span class="comment">//        Intent intent = ChartFactory</span>
<span class="comment">//                .getLineChartIntent(this, dataset, renderer);</span>
    GraphicalView graphicalView = ChartFactory.getLineChartView(<span class="keyword">this</span>, dataset, renderer);
    llChart= (LinearLayout) findViewById(R.id.llChart);
    llChart.addView(graphicalView);
<span class="comment">//                startActivity(intent);</span>

}

}
</code></pre><h2 id="详细配置。">详细配置。</h2><p>上面的配置只配置了几个基础的，还要进行更多配置才能使得图标更加简单通熟易懂。</p>
<ul>
<li>XYSeries: 最常用的数据结构，主要包括一系列的double型（x,y）点对及一个名称（title）。</li>
<li>XYValueSeries:包括一系列的(x,y,value)点对及一个名称（title）。</li>
<li>XYMultipleSeriesDataset:包含一系列XYSeries，是最终的数据结构</li>
<li>TimeSeries:与XYSeries类似，x变为Date型,可以转化为XYSeries。</li>
<li>CategorySeries:与XYSeries类似，x变为string型，可以转化为XYSeries。</li>
<li><p>MultipleCategorySeries:一系列CategorySeries。</p>
</li>
<li><p>XYSeriesRenderer，impleSeriesRenderer、用于设置每张图中每一个序列的绘制方法。- XYMultipleSeries，RendererDefaultRenderer用于设置整张图的绘制格式。</p>
</li>
</ul>
<p>XYMultipleSeriesRenderer.setAxisTitleTextSize</p>
<h2 id="详细配置">详细配置</h2><ul>
<li>1.修改背景色或设置背景图片：<br>背景色设置需要设置两项：setMarginsColor（设置四边颜色）以及setBackgroundColor（设置中间背景色）</li>
<li>设置背景图片：<pre><code><span class="symbol">http:</span>/<span class="regexp">/blog.csdn.net/kmyhy</span><span class="regexp">/article/details</span><span class="regexp">/6590294</span>
</code></pre></li>
</ul>
<ol>
<li>setAxisTitleTextSize(16);// 设置坐标轴标题文本大小</li>
<li>setChartTitleTextSize(20); // 设置图表标题文本大小</li>
<li>setLabelsTextSize(15); // 设置轴标签文本大小</li>
<li>setLegendTextSize(15); // 设置图例文本大小</li>
<li>renderer.setChartTitle( “个人收支表”);//设置柱图名称</li>
<li>renderer.setXTitle( “名单” );//设置X轴名称</li>
<li>renderer.setYTitle( “金额” );//设置Y轴名称</li>
<li>renderer.setXAxisMin(0.5);//设置X轴的最小值为0.5</li>
<li>renderer.setXAxisMax(5.5);//设置X轴的最大值为5</li>
<li>renderer.setYAxisMin(0);//设置Y轴的最小值为0</li>
<li>renderer.setYAxisMax(500);//设置Y轴最大值为500</li>
<li>renderer.setDisplayChartValues(true);//设置是否在柱体上方显示值</li>
<li>renderer.setShowGrid(true);//设置是否在图表中显示网格</li>
<li>renderer.setXLabels(0);//设置X轴显示的刻度标签的个数</li>
<li>如果想要在X轴显示自定义的标签，那么首先要设置renderer.setXLabels(0);  如果不设置为0，那么所设置的Labels会与原X坐标轴labels重叠<br>其次我们要renderer.addTextLabel()循环添加<br>eg：for(int i=0;i&lt;13;i++)<br>  {<pre><code><span class="keyword">renderer</span>.addTextLabel(i+<span class="number">1</span>,years[i]); <span class="comment">//循环添加Xlabel其中显示的label放在years数组中</span>
</code></pre>  }</li>
<li>renderer.setXLabelsAlign(Align.RIGHT);//设置刻度线与X轴之间的相对位置关系</li>
<li>renderer.setYLabelsAlign(Align.RIGHT);//设置刻度线与Y轴之间的相对位置关系</li>
<li>renderer.setZoomButtonsVisible(true);//设置可以缩放</li>
<li>renderer.setPanLimits(newdouble[] { 0, 20, 0, 140 });//设置拉动的范围</li>
<li>renderer.setZoomLimits(newdouble[] { 0.5, 20, 1, 150 });//设置缩放的范围</li>
<li>renderer.setRange(newdouble[]{0d, 5d, 0d, 100d}); //设置chart的视图范围</li>
<li>renderer.setFitLegend(true);// 调整合适的位置</li>
<li>renderer.setClickEnabled(true)//设置是否可以滑动及放大缩小;</li>
<li><p>Dataset和Render参数介绍：<br>  <a href="http://blog.csdn.net/lk_blog/article/details/7645661" target="_blank" rel="external">http://blog.csdn.net/lk_blog/article/details/7645661</a></p>
</li>
<li><p>ChartView.repaint()；是重新绘图的命令</p>
</li>
<li>renderer.setMargins(new int[] { 70, 70, 100, 70 });//设置图表的外边框(上/左/下/右)</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/29/2015-7-29-1/" data-id="cidixhy08000aesb2ylkz7rq9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-29" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/29/2015-7-29/">Android中图表AChartEngine</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/29/2015-7-29/">
    <time datetime="2015-07-29T02:53:38.000Z" itemprop="datePublished">2015-07-29</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/29问题集">2015/7/29问题集</h1><h2 id="Android中图表AChartEngine">Android中图表AChartEngine</h2><p>很多时候项目中我们需要对一些统计数据进行绘制表格，更多直观查看报表分析结果。基本有以下几种方法:</p>
<ul>
<li><p>1:可以进行android  api进行draw这样的话，效率比较低</p>
</li>
<li><p>2:使用开源绘表引擎，这样效率比较高.下面就介绍一种。</p>
</li>
</ul>
<p><strong>AChartEngine（简称ACE）</strong>是Google的一个开源图表库（for Android）。它功能强大，支持散点图、折线图、饼图、气泡图、柱状图、短棒图、仪表图等多种图表。</p>
<p>参考文章：<a href="http://www.cnblogs.com/android100/p/Android-AChartEngine.html" target="_blank" rel="external">http://www.cnblogs.com/android100/p/Android-AChartEngine.html</a></p>
<h2 id="achartengine的数据模型">achartengine的数据模型</h2><ul>
<li><p>XYSeries: 最常用的数据结构，主要包括一系列的double型（x,y）点对及一个名称（title）。</p>
</li>
<li><p>XYValueSeries:包括一系列的(x,y,value)点对及一个名称（title）。</p>
</li>
<li><p>XYMultipleSeriesDataset:包含一系列XYSeries，是最终的数据结构</p>
</li>
<li><p>TimeSeries:与XYSeries类似，x变为Date型,可以转化为XYSeries。</p>
</li>
<li><p>CategorySeries:与XYSeries类似，x变为string型，可以转化为XYSeries。</p>
</li>
<li><p>MultipleCategorySeries:一系列CategorySeries。</p>
</li>
</ul>
<p><strong>不同的数据模型用于不同的图表显示</strong>。XYSeries可以用于折线图、直方图。CategorySeries可以用于圆饼图。每种数据模型都提供了丰富的操作接口，用于插入删除数据等多种操作。我们可以根据需要将数据存为合适的数据模型。</p>
<h2 id="绘制器（渲染器Renderer）">绘制器（渲染器Renderer）</h2><p>绘制器声明了绘制图表的类型。主要包括以下几种。</p>
<p>SimpleSeriesRenderer、 XYSeriesRenderer用于设置每张图中每一个序列的绘制方法。而DefaultRenderer和 XYMultipleSeriesRenderer用于设置整张图的绘制格式。它们之间的关系类似于XYSeries 与XYMultipleSeriesDataset之间的关系。</p>
<h2 id="画图概念"><strong>画图概念</strong></h2><p>要 画一张图，我们需要设置好需要绘制的数据及绘制的方法。确定好data model及renderer后，再调用合适的绘制方法绘制图形。库提供了两种绘制图形的方法，一种是get<strong><em>Intent( )（如getLineChartIntent()）直接新建一个Activity全屏显示生成的图表，另一种是get</em></strong>View( )（如getLineChartView()）生成一个View，用户可以自行设置它的显示。</p>
<p>主要通过设置几个对象</p>
<p>  1、XYSeries对象：用于存储一条线的数据信息；<br>  2、XYMultipleSeriesDataset对象：即数据集，可添加多个XYSeries对象，因为一个折线图中可能有多条线。<br>  3、XYSeriesRenderer对象：主要是用来设置一条线条的风格，颜色啊，粗细之类的。<br>  4、XYMultipleSeriesRenderer对象：主要用来定义一个图的整体风格，设置xTitle,yTitle,chartName等等整体性的风格，<br>    可添加多个XYSeriesRenderer对象，因为一个图中可以有多条折线。<br>设置完那些对象之后，可通过 org.achartengine.ChartFactory调用数据集XYMultipleSeriesDataset对象<br>  与XYMultipleSeriesRenderer对象来画图并将图加载到GraphicalView中，<br>  ChartFactory有多种api，通过这些api调用来决定是画折线图还是柱状图。</p>
<h2 id="绘制基础">绘制基础</h2><p>1,ChartFactory ,传入XYMutilpleSeriesRenderer,XYMutilpleSeriesDataset,然后,我们只需用 getXXXChartIntent(Context context,XYMutilpleSeriesRenderer,XYMutilpleSeriesDataset,)方法就可以进行图表的显示</p>
<p>2,XYMutilpleSeriesRenderer 用于进行绘制的设置,添加的XYSeriesRender对象,用于定义绘制的点集合设置,注意数量要和XYMutilpleSeriesDataset,添加的XYseries一致!!!</p>
<p>3,XYMutilpleSeriesDataset 用于数据的存放,添加的XYseries对象,用于提供绘制的点集合的数据</p>
<h2 id="绘制实例">绘制实例</h2><p>这个实例告诉我们，不必跟着AChartEngine也可以照样实现。只需要懂得原理就行。<br>原理就是</p>
<ul>
<li>1.构造渲染图</li>
<li>2.进行显示（构建数据）</li>
<li>3.对点的绘制进行设置</li>
<li><p>/ 3.1设置颜色</p>
<p> 3.2设置点的样式</p>
<p> 3.3, 将要绘制的点添加到坐标绘制中</p>
<p> 3.4,重复 1~3的步骤绘制第二个系列点</p>
</li>
</ul>
<p>package com.zsz.develop.mychart;</p>
<pre><code><span class="preprocessor"><span class="keyword">import</span> android.app.Activity;</span>
<span class="preprocessor"><span class="keyword">import</span> android.content.Intent;</span>
<span class="preprocessor"><span class="keyword">import</span> android.graphics.Color;</span>
<span class="preprocessor"><span class="keyword">import</span> android.os.Bundle;</span>

<span class="preprocessor"><span class="keyword">import</span> org.achartengine.ChartFactory;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.chart.PointStyle;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYSeries;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYSeriesRenderer;</span>

<span class="preprocessor"><span class="keyword">import</span> java.util.Random;</span>

<span class="comment">/**
 * Created by shengzhong on 2015/7/29.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowExamActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span>{

    @Override
    <span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
        <span class="comment">// TODO Auto-generated method stub</span>
        <span class="keyword">super</span>.onCreate(savedInstanceState);
        <span class="comment">// 1, 构造显示用渲染图</span>
        XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
        <span class="comment">// 2,进行显示</span>
        XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
        <span class="comment">// 2.1, 构建数据</span>
        Random r = <span class="keyword">new</span> Random();
        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {
            XYSeries series = <span class="keyword">new</span> XYSeries(<span class="string">"test"</span> + (i + <span class="number">1</span>));
            <span class="comment">// 填充数据</span>
            <span class="keyword">for</span> (int k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++) {
                <span class="comment">// 填x,y值</span>
                series.add(k, <span class="number">20</span> + r.nextInt() % <span class="number">100</span>);
            }
            <span class="comment">// 需要绘制的点放进dataset中</span>
            dataset.addSeries(series);
        }
        <span class="comment">// 3, 对点的绘制进行设置</span>
        XYSeriesRenderer xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
        <span class="comment">// 3.1设置颜色</span>
        xyRenderer.setColor(Color.BLUE);
        <span class="comment">// 3.2设置点的样式</span>
        xyRenderer.setPointStyle(PointStyle.SQUARE);
        <span class="comment">// 3.3, 将要绘制的点添加到坐标绘制中</span>
        renderer.addSeriesRenderer(xyRenderer);
        <span class="comment">// 3.4,重复 1~3的步骤绘制第二个系列点</span>
        xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
        xyRenderer.setColor(Color.RED);
        xyRenderer.setPointStyle(PointStyle.CIRCLE);
        renderer.addSeriesRenderer(xyRenderer);
        <span class="comment">// Intent intent = new LinChart().execute(this);</span>
        Intent intent = ChartFactory
                .getLineChartIntent(<span class="keyword">this</span>, dataset, renderer);
        startActivity(intent);



<span class="comment">//          GraphicalView graphicalView = ChartFactory.getLineChartView(this, dataset, renderer);</span>
<span class="comment">//    llChart= (LinearLayout) findViewById(R.id.llChart);</span>
  <span class="comment">//  llChart.addView(graphicalView);</span>
    }

}    
</code></pre><hr>
<h2 id="把得到的图标设置成View"><strong>把得到的图标设置成View</strong></h2><p>绑定layout后找到LinearLayout，把他添加到LinearLayout里去</p>
<pre><code>  GraphicalView <span class="variable">graphicalView =</span> ChartFactory.getLineChartView(this, dataset, renderer);
<span class="variable">llChart=</span> (LinearLayout) findViewById(R.id.llChart);
llChart.addView(graphicalView);
</code></pre><hr>
<h2 id="构建一个柱状图实例">构建一个柱状图实例</h2><p><strong>先定义一个接口AChartAbstract</strong></p>
<pre><code>package com.zsz.develop.chartdemo;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.<span class="type">Intent</span>;

<span class="keyword">public</span> <span class="keyword">interface</span> AChartAbstract {
/**
 * 获取一个当前类型图标的<span class="type">Intent</span>实例
 */
<span class="keyword">public</span> <span class="type">Intent</span> getIntent(Context context);
}
</code></pre><p><strong>新建一个java类BarChart来实现AChartAbstract接口</strong></p>
<pre><code>package com.zsz.develop.chartdemo;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.graphics.Color;
<span class="keyword">import</span> android.graphics.Paint;

<span class="keyword">import</span> org.achartengine.ChartFactory;
<span class="keyword">import</span> org.achartengine.model.CategorySeries;
<span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;
<span class="keyword">import</span> org.achartengine.chart.BarChart.Type;
<span class="keyword">import</span> org.achartengine.renderer.SimpleSeriesRenderer;
<span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;

<span class="comment">/**
 * Created by shengzhong on 2015/7/29.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">BarChart</span> <span class="title">implements</span> <span class="title">AChartAbstract</span> </span>{

public Intent getIntent(Context context) {
    Intent mIntent=ChartFactory.getBarChartIntent(context, getDataSet(), getRenderer(), Type.STACKED, <span class="string">"当月开票金额树状图"</span>);
    <span class="keyword">return</span> mIntent;
}

<span class="comment">/**
 * 构造数据
 * @return
 */</span>
public XYMultipleSeriesDataset getDataSet() {
    <span class="comment">// 构造数据</span>
    XYMultipleSeriesDataset barDataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    CategorySeries barSeries = <span class="keyword">new</span> CategorySeries(<span class="string">"2014年3月"</span>);
    barSeries.add(<span class="number">865.5969</span>);
    barSeries.add(<span class="number">2492.6479</span>);
    barSeries.add(<span class="number">891.0137</span>);
    barSeries.add(<span class="number">0.0</span>);
    barSeries.add(<span class="number">691.0568</span>);
    barDataset.addSeries(barSeries.toXYSeries());
    <span class="keyword">return</span> barDataset;
}

<span class="comment">/**
 * 构造渲染器
 * @return
 */</span>
public XYMultipleSeriesRenderer getRenderer() {
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
<span class="comment">//      renderer.setChartTitle("当月开票");</span>
<span class="comment">//      // 设置标题的字体大小</span>
<span class="comment">//      renderer.setChartTitleTextSize(16);</span>
    renderer.setXTitle(<span class="string">"事业部"</span>);
    renderer.setYTitle(<span class="string">"单位(万元)"</span>);
    renderer.setAxesColor(Color.WHITE);
    renderer.setLabelsColor(Color.WHITE);
    <span class="comment">// 设置X轴的最小数字和最大数字</span>
    renderer.setXAxisMin(<span class="number">0.5</span>);
    renderer.setXAxisMax(<span class="number">5.5</span>);
    <span class="comment">// 设置Y轴的最小数字和最大数字</span>
    renderer.setYAxisMin(<span class="number">0</span>);
    renderer.setYAxisMax(<span class="number">3000</span>);
    renderer.addXTextLabel(<span class="number">1</span>, <span class="string">"电网"</span>);
    renderer.addXTextLabel(<span class="number">2</span>, <span class="string">"通信"</span>);
    renderer.addXTextLabel(<span class="number">3</span>, <span class="string">"宽带"</span>);
    renderer.addXTextLabel(<span class="number">4</span>, <span class="string">"专网"</span>);
    renderer.addXTextLabel(<span class="number">5</span>, <span class="string">"轨交"</span>);
    renderer.setZoomButtonsVisible(<span class="literal">true</span>);
    <span class="comment">// 设置渲染器允许放大缩小</span>
    renderer.setZoomEnabled(<span class="literal">true</span>);
    <span class="comment">// 消除锯齿</span>
    renderer.setAntialiasing(<span class="literal">true</span>);
    <span class="comment">// 设置背景颜色</span>
    renderer.setApplyBackgroundColor(<span class="literal">true</span>);
    renderer.setBackgroundColor(Color.GRAY);
    <span class="comment">// 设置每条柱子的颜色</span>
    SimpleSeriesRenderer sr = <span class="keyword">new</span> SimpleSeriesRenderer();
    sr.setColor(Color.YELLOW);
    renderer.addSeriesRenderer(sr);
    <span class="comment">// 设置每个柱子上是否显示数值</span>
    renderer.getSeriesRendererAt(<span class="number">0</span>).setDisplayChartValues(<span class="literal">true</span>);
    <span class="comment">// X轴的近似坐标数  (这样不显示横坐标)</span>
    renderer.setXLabels(<span class="number">0</span>);
    <span class="comment">// Y轴的近似坐标数</span>
    renderer.setYLabels(<span class="number">6</span>);
    <span class="comment">// 刻度线与X轴坐标文字左侧对齐</span>
    renderer.setXLabelsAlign(Paint.Align.LEFT);
    <span class="comment">// Y轴与Y轴坐标文字左对齐</span>
    renderer.setYLabelsAlign(Paint.Align.LEFT);
    <span class="comment">// 允许左右拖动,但不允许上下拖动.</span>
    renderer.setPanEnabled(<span class="literal">true</span>, <span class="literal">false</span>);
    <span class="comment">// 柱子间宽度</span>
    renderer.setBarSpacing(<span class="number">0.5</span>f);
    <span class="comment">// 设置X,Y轴单位的字体大小</span>
    renderer.setAxisTitleTextSize(<span class="number">20</span>);
    <span class="keyword">return</span> renderer;
}
}
</code></pre><p><strong>主函数中调用</strong></p>
<pre><code>Intent lineIntent = <span class="keyword">new</span> BarChart().getIntent(<span class="keyword">this</span>);
    startActivity(lineIntent);
</code></pre><p><strong>最后不要忘了在Androidmanifest.xml文件中进行配置文件</strong></p>
<pre><code>&lt;activity android:<span class="property">name</span>=<span class="string">"org.achartengine.GraphicalActivity"</span> /&gt;
</code></pre><hr>
<h2 id="Android_Studio的两个概念：Project_和_Module">Android Studio的两个概念：Project 和 Module</h2><p>Android Studio中的两个概念。 Project 和 Module 。<br>在Android Studio中，<strong> Project </strong>的真实含义是工作空间， <strong>Module</strong> 为一个具体的项目。</p>
<p>在 Eclipse 中，我们可以同时对多个 Eclipse 的 Project 进行同时编辑，这些 Project 在同一个 workspace 之中。在Android Studio中，我们可以同时对多个Android Studio的 Module 进行同时编辑，这些 Module 在同一个 Project 之中。</p>
<p>Eclipse 的 Project 等同于Android Studio的 Module 。<br>Eclipse 的 workspace 等同于Android Studio的 Project 。</p>
<hr>
<h2 id="AChartEngine日期折线图的例子">AChartEngine日期折线图的例子</h2><p>首先要导入他给的实例代码类<strong>AbstractDemoChart</strong>抽象类，和<strong>接口IDemoChart</strong>，与<strong>WeightDialChart</strong>。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.mychart;

<span class="keyword">import</span> java.util.Date;
<span class="keyword">import</span> java.util.List;

<span class="keyword">import</span> org.achartengine.chart.PointStyle;
<span class="keyword">import</span> org.achartengine.model.CategorySeries;
<span class="keyword">import</span> org.achartengine.model.MultipleCategorySeries;
<span class="keyword">import</span> org.achartengine.model.TimeSeries;
<span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;
<span class="keyword">import</span> org.achartengine.model.XYSeries;
<span class="keyword">import</span> org.achartengine.renderer.DefaultRenderer;
<span class="keyword">import</span> org.achartengine.renderer.SimpleSeriesRenderer;
<span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;
<span class="keyword">import</span> org.achartengine.renderer.XYSeriesRenderer;

<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractDemoChart</span> <span class="keyword">implements</span> <span class="title">IDemoChart</span> </span>{

<span class="javadoc">/**
 * 构建 XYMultipleSeriesDataset.
 *
 *<span class="javadoctag"> @param</span> titles 每个序列的图例
 *<span class="javadoctag"> @param</span> xValues X轴的坐标
 *<span class="javadoctag"> @param</span> yValues Y轴的坐标
 *<span class="javadoctag"> @return</span> XYMultipleSeriesDataset
 */</span>
<span class="function"><span class="keyword">protected</span> XYMultipleSeriesDataset <span class="title">buildDataset</span><span class="params">(String[] titles, List&lt;<span class="keyword">double</span>[]&gt; xValues,
                                               List&lt;<span class="keyword">double</span>[]&gt; yValues)</span> </span>{
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    addXYSeries(dataset, titles, xValues, yValues, <span class="number">0</span>);
    <span class="keyword">return</span> dataset;
}

<span class="comment">//向DataSet中添加序列.</span>
<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addXYSeries</span><span class="params">(XYMultipleSeriesDataset dataset, String[] titles, List&lt;<span class="keyword">double</span>[]&gt; xValues,
                        List&lt;<span class="keyword">double</span>[]&gt; yValues, <span class="keyword">int</span> scale)</span> </span>{
    <span class="keyword">int</span> length = titles.length;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        XYSeries series = <span class="keyword">new</span> XYSeries(titles[i], scale); <span class="comment">//这里注意与TimeSeries区别.</span>
        <span class="keyword">double</span>[] xV = xValues.get(i);
        <span class="keyword">double</span>[] yV = yValues.get(i);
        <span class="keyword">int</span> seriesLength = xV.length;
        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; seriesLength; k++) {
            series.add(xV[k], yV[k]);
        }
        dataset.addSeries(series);
    }
}

<span class="javadoc">/**
 * 构建XYMultipleSeriesRenderer.
 *
 *<span class="javadoctag"> @param</span> colors 每个序列的颜色
 *<span class="javadoctag"> @param</span> styles 每个序列点的类型(可设置三角,圆点,菱形,方块等多种)
 *<span class="javadoctag"> @return</span> XYMultipleSeriesRenderer
 */</span>
<span class="function"><span class="keyword">protected</span> XYMultipleSeriesRenderer <span class="title">buildRenderer</span><span class="params">(<span class="keyword">int</span>[] colors, PointStyle[] styles)</span> </span>{
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
    setRenderer(renderer, colors, styles);
    <span class="keyword">return</span> renderer;
}

<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">setRenderer</span><span class="params">(XYMultipleSeriesRenderer renderer, <span class="keyword">int</span>[] colors, PointStyle[] styles)</span> </span>{
    <span class="comment">//整个图表属性设置</span>
    <span class="comment">//--&gt;start</span>
    renderer.setAxisTitleTextSize(<span class="number">16</span>);<span class="comment">//设置轴标题文字的大小</span>
    renderer.setChartTitleTextSize(<span class="number">40</span>);<span class="comment">//设置整个图表标题文字的大小</span>
    renderer.setLabelsTextSize(<span class="number">15</span>);<span class="comment">//设置轴刻度文字的大小</span>
    renderer.setLegendTextSize(<span class="number">15</span>);<span class="comment">//设置图例文字大小</span>
    renderer.setPointSize(<span class="number">5f</span>);<span class="comment">//设置点的大小(图上显示的点的大小和图例中点的大小都会被设置)</span>
    renderer.setMargins(<span class="keyword">new</span> <span class="keyword">int</span>[] { <span class="number">20</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">20</span> });<span class="comment">//设置图表的外边框(上/左/下/右)</span>
    <span class="comment">//--&gt;end</span>

    <span class="comment">//以下代码设置没个序列的颜色.</span>
    <span class="comment">//--&gt;start</span>
    <span class="keyword">int</span> length = colors.length;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        XYSeriesRenderer r = <span class="keyword">new</span> XYSeriesRenderer();
        r.setColor(colors[i]);<span class="comment">//设置颜色</span>
        r.setPointStyle(styles[i]);
        renderer.addSeriesRenderer(r);
    }
    <span class="comment">//--&gt;end</span>
}

<span class="javadoc">/**
 * 设置renderer的一些属性.
 *
 *<span class="javadoctag"> @param</span> renderer 要设置的renderer
 *<span class="javadoctag"> @param</span> title 图表标题
 *<span class="javadoctag"> @param</span> xTitle X轴标题
 *<span class="javadoctag"> @param</span> yTitle Y轴标题
 *<span class="javadoctag"> @param</span> xMin X轴最小值
 *<span class="javadoctag"> @param</span> xMax X轴最大值
 *<span class="javadoctag"> @param</span> yMin Y轴最小值
 *<span class="javadoctag"> @param</span> yMax Y轴最大值
 *<span class="javadoctag"> @param</span> axesColor X轴颜色
 *<span class="javadoctag"> @param</span> labelsColor Y轴颜色
 */</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">setChartSettings</span><span class="params">(XYMultipleSeriesRenderer renderer, String title, String xTitle,
                                String yTitle, <span class="keyword">double</span> xMin, <span class="keyword">double</span> xMax, <span class="keyword">double</span> yMin, <span class="keyword">double</span> yMax, <span class="keyword">int</span> axesColor,
                                <span class="keyword">int</span> labelsColor)</span> </span>{
    renderer.setChartTitle(title);
    renderer.setXTitle(xTitle);
    renderer.setYTitle(yTitle);
    renderer.setXAxisMin(xMin);
    renderer.setXAxisMax(xMax);
    renderer.setYAxisMin(yMin);
    renderer.setYAxisMax(yMax);
    renderer.setAxesColor(axesColor);
    renderer.setLabelsColor(labelsColor);
}

<span class="javadoc">/**
 * 构建和时间有关的XYMultipleSeriesDataset,这个方法与buildDataset在参数上区别是需要List&lt;Date[]&gt;作参数.
 *
 *<span class="javadoctag"> @param</span> titles 序列图例
 *<span class="javadoctag"> @param</span> xValues X轴值
 *<span class="javadoctag"> @param</span> yValues Y轴值
 *<span class="javadoctag"> @return</span> XYMultipleSeriesDataset
 */</span>
<span class="function"><span class="keyword">protected</span> XYMultipleSeriesDataset <span class="title">buildDateDataset</span><span class="params">(String[] titles, List&lt;Date[]&gt; xValues,
                                                   List&lt;<span class="keyword">double</span>[]&gt; yValues)</span> </span>{
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    <span class="keyword">int</span> length = titles.length;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        TimeSeries series = <span class="keyword">new</span> TimeSeries(titles[i]);<span class="comment">//构建时间序列TimeSeries,</span>
        Date[] xV = xValues.get(i);
        <span class="keyword">double</span>[] yV = yValues.get(i);
        <span class="keyword">int</span> seriesLength = xV.length;
        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; seriesLength; k++) {
            series.add(xV[k], yV[k]);
        }
        dataset.addSeries(series);
    }
    <span class="keyword">return</span> dataset;
}

<span class="javadoc">/**
 * 构建单个CategorySeries,可用于生成饼图,注意与buildMultipleCategoryDataset(构建圆环图)相区别.
 *
 *<span class="javadoctag"> @param</span> titles the series titles
 *<span class="javadoctag"> @param</span> values the values
 *<span class="javadoctag"> @return</span> the category series
 */</span>
<span class="function"><span class="keyword">protected</span> CategorySeries <span class="title">buildCategoryDataset</span><span class="params">(String title, <span class="keyword">double</span>[] values)</span> </span>{
    CategorySeries series = <span class="keyword">new</span> CategorySeries(title);
    <span class="keyword">int</span> k = <span class="number">0</span>;
    <span class="keyword">for</span> (<span class="keyword">double</span> value : values) {
        series.add(<span class="string">"Project "</span> + ++k, value);
    }

    <span class="keyword">return</span> series;
}

<span class="javadoc">/**
 * 构建MultipleCategorySeries,可用于构建圆环图(每个环是一个序列)
 *
 *<span class="javadoctag"> @param</span> titles the series titles
 *<span class="javadoctag"> @param</span> values the values
 *<span class="javadoctag"> @return</span> the category series
 */</span>
<span class="function"><span class="keyword">protected</span> MultipleCategorySeries <span class="title">buildMultipleCategoryDataset</span><span class="params">(String title,
                                                              List&lt;String[]&gt; titles, List&lt;<span class="keyword">double</span>[]&gt; values)</span> </span>{
    MultipleCategorySeries series = <span class="keyword">new</span> MultipleCategorySeries(title);
    <span class="keyword">int</span> k = <span class="number">0</span>;
    <span class="keyword">for</span> (<span class="keyword">double</span>[] value : values) {
        series.add(<span class="number">2007</span> + k + <span class="string">""</span>, titles.get(k), value);
        k++;
    }
    <span class="keyword">return</span> series;
}

<span class="javadoc">/**
 * 构建DefaultRenderer.
 *
 *<span class="javadoctag"> @param</span> colors 每个序列的颜色
 *<span class="javadoctag"> @return</span> DefaultRenderer
 */</span>
<span class="function"><span class="keyword">protected</span> DefaultRenderer <span class="title">buildCategoryRenderer</span><span class="params">(<span class="keyword">int</span>[] colors)</span> </span>{
    DefaultRenderer renderer = <span class="keyword">new</span> DefaultRenderer();
    renderer.setLabelsTextSize(<span class="number">15</span>);
    renderer.setLegendTextSize(<span class="number">15</span>);
    renderer.setMargins(<span class="keyword">new</span> <span class="keyword">int</span>[] { <span class="number">20</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">0</span> });
    <span class="keyword">for</span> (<span class="keyword">int</span> color : colors) {
        SimpleSeriesRenderer r = <span class="keyword">new</span> SimpleSeriesRenderer();
        r.setColor(color);
        renderer.addSeriesRenderer(r);
    }
    <span class="keyword">return</span> renderer;
}

<span class="javadoc">/**
 * 构建XYMultipleSeriesDataset,适用于柱状图.
 *
 *<span class="javadoctag"> @param</span> titles 每中柱子序列的图列
 *<span class="javadoctag"> @param</span> values 柱子的高度值
 *<span class="javadoctag"> @return</span> XYMultipleSeriesDataset
 */</span>
<span class="function"><span class="keyword">protected</span> XYMultipleSeriesDataset <span class="title">buildBarDataset</span><span class="params">(String[] titles, List&lt;<span class="keyword">double</span>[]&gt; values)</span> </span>{
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    <span class="keyword">int</span> length = titles.length;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        CategorySeries series = <span class="keyword">new</span> CategorySeries(titles[i]);
        <span class="keyword">double</span>[] v = values.get(i);
        <span class="keyword">int</span> seriesLength = v.length;
        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; seriesLength; k++) {
            series.add(v[k]);
        }
        dataset.addSeries(series.toXYSeries());
    }
    <span class="keyword">return</span> dataset;
}

<span class="javadoc">/**
 * 构建XYMultipleSeriesRenderer,适用于柱状图.
 *
 *<span class="javadoctag"> @param</span> colors 每个序列的颜色
 *<span class="javadoctag"> @return</span> XYMultipleSeriesRenderer
 */</span>
<span class="function"><span class="keyword">protected</span> XYMultipleSeriesRenderer <span class="title">buildBarRenderer</span><span class="params">(<span class="keyword">int</span>[] colors)</span> </span>{
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
    renderer.setAxisTitleTextSize(<span class="number">16</span>);
    renderer.setChartTitleTextSize(<span class="number">20</span>);
    renderer.setLabelsTextSize(<span class="number">15</span>);
    renderer.setLegendTextSize(<span class="number">15</span>);
    <span class="keyword">int</span> length = colors.length;
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        SimpleSeriesRenderer r = <span class="keyword">new</span> SimpleSeriesRenderer();
        r.setColor(colors[i]);
        renderer.addSeriesRenderer(r);
    }
    <span class="keyword">return</span> renderer;
}

}
</code></pre><p>=======<br><strong>接口IDemoChart</strong></p>
<pre><code>/<span class="keyword">*</span><span class="keyword">*</span>
 <span class="keyword">*</span> Copyright (C) 2009 - 2013 SC 4ViewSoft SRL
 <span class="keyword">*</span>  
 <span class="keyword">*</span> Licensed under the Apache License, Version 2.0 (the <span class="string">"License"</span>);
 <span class="keyword">*</span> you may not use this file except in compliance with the License.
 <span class="keyword">*</span> You may obtain a copy of the License at
 <span class="keyword">*</span>  
 <span class="keyword">*</span>      http://www.apache.org/licenses/LICENSE-2.0
 <span class="keyword">*</span>  
 <span class="keyword">*</span> Unless required by applicable law or agreed to in writing, software
 <span class="keyword">*</span> distributed under the License is distributed on an <span class="string">"AS IS"</span> BASIS,
 <span class="keyword">*</span> WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 <span class="keyword">*</span> See the License for the specific language governing permissions and
 <span class="keyword">*</span> limitations under the License.
 <span class="keyword">*</span>/
package com.zsz.develop.mychart;

import android.content.Context;
import android.content.Intent;

/<span class="keyword">*</span><span class="keyword">*</span>
 <span class="keyword">*</span> Defines the demo charts.
 <span class="keyword">*</span>/
public interface IDemoChart {
  /<span class="keyword">*</span><span class="keyword">*</span> A constant for the name field in a list activity. <span class="keyword">*</span>/
  String NAME = <span class="string">"name"</span>;
  /<span class="keyword">*</span><span class="keyword">*</span> A constant for the description field in a list activity. <span class="keyword">*</span>/
  String DESC = <span class="string">"desc"</span>;

  /<span class="keyword">*</span><span class="keyword">*</span>
   <span class="keyword">*</span> Returns the chart name.
   <span class="keyword">*</span> 
   <span class="keyword">*</span> <span class="comment">@return the chart name</span>
   <span class="keyword">*</span>/
  String getName();

  /<span class="keyword">*</span><span class="keyword">*</span>
   <span class="keyword">*</span> Returns the chart description.
   <span class="keyword">*</span> 
   <span class="keyword">*</span> <span class="comment">@return the chart description</span>
   <span class="keyword">*</span>/
  String getDesc();

  /<span class="keyword">*</span><span class="keyword">*</span>
   <span class="keyword">*</span> Executes the chart demo.
   <span class="keyword">*</span> 
   <span class="keyword">*</span> <span class="comment">@param context the context</span>
   <span class="keyword">*</span> <span class="comment">@return the built intent</span>
   <span class="keyword">*</span>/
  Intent execute(Context context);

}
</code></pre><p>======<br>    /**</p>
<pre><code> * <span class="type">Copyright</span> (<span class="type">C</span>) <span class="number">2009</span> - <span class="number">2013</span> <span class="type">SC</span> <span class="number">4</span>ViewSoft <span class="type">SRL</span>
 *  
 * <span class="type">Licensed</span> under the <span class="type">Apache</span> <span class="type">License</span>, <span class="type">Version</span> <span class="number">2.0</span> (the <span class="string">"License"</span>);
 * you may not use <span class="keyword">this</span> file except in compliance <span class="keyword">with</span> the <span class="type">License</span>.
 * <span class="type">You</span> may obtain a copy of the <span class="type">License</span> at
 *  
 *      http:<span class="comment">//www.apache.org/licenses/LICENSE-2.0</span>
 *  
 * <span class="type">Unless</span> required by applicable law or agreed to in writing, software
 * distributed under the <span class="type">License</span> is distributed on an <span class="string">"AS IS"</span> <span class="type">BASIS</span>,
 * <span class="type">WITHOUT</span> <span class="type">WARRANTIES</span> <span class="type">OR</span> <span class="type">CONDITIONS</span> <span class="type">OF</span> <span class="type">ANY</span> <span class="type">KIND</span>, either express or implied.
 * <span class="type">See</span> the <span class="type">License</span> <span class="keyword">for</span> the specific language governing permissions and
 * limitations under the <span class="type">License</span>.
 */
<span class="keyword">package</span> com.zsz.develop.mychart;

<span class="keyword">import</span> org.achartengine.<span class="type">ChartFactory</span>;
<span class="keyword">import</span> org.achartengine.model.<span class="type">CategorySeries</span>;
<span class="keyword">import</span> org.achartengine.renderer.<span class="type">DialRenderer</span>;
<span class="keyword">import</span> org.achartengine.renderer.<span class="type">SimpleSeriesRenderer</span>;
<span class="keyword">import</span> org.achartengine.renderer.<span class="type">DialRenderer</span>.<span class="type">Type</span>;

<span class="keyword">import</span> android.content.<span class="type">Context</span>;
<span class="keyword">import</span> android.content.<span class="type">Intent</span>;
<span class="keyword">import</span> android.graphics.<span class="type">Color</span>;

<span class="comment">/**
 * Budget demo pie chart.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">WeightDialChart</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">AbstractDemoChart</span> {</span>
  <span class="comment">/**
   * Returns the chart name.
   * @return the chart name
   */</span>
  public <span class="type">String</span> getName() {
    <span class="keyword">return</span> <span class="string">"Weight chart"</span>;
  }

  <span class="comment">/**
   * Returns the chart description.
   * @return the chart description
   */</span>
  public <span class="type">String</span> getDesc() {
    <span class="keyword">return</span> <span class="string">"The weight indicator (dial chart)"</span>;
  }

  <span class="comment">/**
   * Executes the chart demo.
   * @param context the context
   * @return the built intent
   */</span>
  public <span class="type">Intent</span> execute(<span class="type">Context</span> context) {
   <span class="type">CategorySeries</span> category = <span class="keyword">new</span> <span class="type">CategorySeries</span>(<span class="string">"Weight indic"</span>);
category.add(<span class="string">"Current"</span>, <span class="number">75</span>);
category.add(<span class="string">"Minimum"</span>, <span class="number">65</span>);
category.add(<span class="string">"Maximum"</span>, <span class="number">90</span>);
<span class="type">DialRenderer</span> renderer = <span class="keyword">new</span> <span class="type">DialRenderer</span>();
renderer.setChartTitleTextSize(<span class="number">20</span>);
renderer.setLabelsTextSize(<span class="number">15</span>);
renderer.setLegendTextSize(<span class="number">15</span>);
renderer.setMargins(<span class="keyword">new</span> int[] {<span class="number">20</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">0</span>});
<span class="type">SimpleSeriesRenderer</span> r = <span class="keyword">new</span> <span class="type">SimpleSeriesRenderer</span>();
r.setColor(<span class="type">Color</span>.<span class="type">BLUE</span>);
renderer.addSeriesRenderer(r);
r = <span class="keyword">new</span> <span class="type">SimpleSeriesRenderer</span>();
r.setColor(<span class="type">Color</span>.rgb(<span class="number">0</span>, <span class="number">150</span>, <span class="number">0</span>));
renderer.addSeriesRenderer(r);
r = <span class="keyword">new</span> <span class="type">SimpleSeriesRenderer</span>();
r.setColor(<span class="type">Color</span>.<span class="type">GREEN</span>);
renderer.addSeriesRenderer(r);
renderer.setLabelsTextSize(<span class="number">10</span>);
renderer.setLabelsColor(<span class="type">Color</span>.<span class="type">WHITE</span>);
renderer.setShowLabels(<span class="literal">true</span>);
renderer.setVisualTypes(<span class="keyword">new</span> <span class="type">Type</span>[] {<span class="type">Type</span>.<span class="type">ARROW</span>, <span class="type">Type</span>.<span class="type">NEEDLE</span>, <span class="type">Type</span>.<span class="type">NEEDLE</span>});
renderer.setMinValue(<span class="number">0</span>);
renderer.setMaxValue(<span class="number">150</span>);
<span class="keyword">return</span> <span class="type">ChartFactory</span>.getDialChartIntent(context, category, renderer, <span class="string">"Weight indicator"</span>);
  }

}
</code></pre><p>通过这个<strong>WeightTimeChart</strong>类进行实现</p>
<pre><code><span class="javadoc">/**
 * WeightTimeChart.java
 * 版权所有(C) 2013 
 * 创建:cuiran 2013-10-24 下午4:11:28
 */</span>
<span class="keyword">package</span> com.zsz.develop.mychart;

<span class="keyword">import</span> java.text.ParsePosition;
<span class="keyword">import</span> java.text.SimpleDateFormat;
<span class="keyword">import</span> java.util.Date;
<span class="keyword">import</span> java.util.Random;

<span class="keyword">import</span> org.achartengine.ChartFactory;
<span class="keyword">import</span> org.achartengine.chart.PointStyle;
<span class="keyword">import</span> org.achartengine.chart.TimeChart;
<span class="keyword">import</span> org.achartengine.model.TimeSeries;
<span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;
<span class="keyword">import</span> org.achartengine.renderer.SimpleSeriesRenderer;
<span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;
<span class="keyword">import</span> org.achartengine.renderer.XYSeriesRenderer;



<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.graphics.Color;

<span class="javadoc">/**
 * TODO 折线图
 *<span class="javadoctag"> @author</span> cuiran
 *<span class="javadoctag"> @version</span> 1.0.0
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightTimeChart</span> <span class="keyword">extends</span> <span class="title">AbstractDemoChart</span> </span>{
<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SERIES_NR = <span class="number">1</span>;
<span class="comment">/* (non-Javadoc)
 * @see com.cayden.weightnotes.achartengine.IDemoChart#getName()
 */</span>
<span class="annotation">@Override</span>
<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">return</span> <span class="string">"WeightTimeChart"</span>;
}

<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">strToDate</span><span class="params">(String strDate)</span> </span>{
    SimpleDateFormat formatter = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd"</span>);
    ParsePosition pos = <span class="keyword">new</span> ParsePosition(<span class="number">0</span>);
    Date strtodate = formatter.parse(strDate, pos);
    <span class="keyword">return</span> strtodate;
}

<span class="comment">/* (non-Javadoc)
 * @see com.cayden.weightnotes.achartengine.IDemoChart#getDesc()
 */</span>
<span class="annotation">@Override</span>
<span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">return</span> <span class="string">"WeightTimeChart"</span>;
}

<span class="function"><span class="keyword">private</span> XYMultipleSeriesDataset <span class="title">getDateDemoDataset</span><span class="params">()</span> </span>{
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    <span class="keyword">final</span> <span class="keyword">int</span> nr = <span class="number">7</span>;



    <span class="keyword">long</span> value = <span class="keyword">new</span> Date().getTime() - <span class="number">3</span> * TimeChart.DAY;
    Random r = <span class="keyword">new</span> Random();
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; SERIES_NR; i++) {
        TimeSeries series = <span class="keyword">new</span> TimeSeries(<span class="string">"体重变化趋势 "</span>);

        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-19"</span>), <span class="number">85.3</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-20"</span>), <span class="number">85.6</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-21"</span>), <span class="number">84.5</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-22"</span>), <span class="number">85.0</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-23"</span>), <span class="number">85.1</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-24"</span>), <span class="number">85.3</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-25"</span>), <span class="number">85.3</span>);
        series.add(WeightTimeChart.strToDate(<span class="string">"2013-10-26"</span>), <span class="number">85.3</span>);

<span class="comment">//              for (int k = 0; k &lt; nr; k++) {</span>
<span class="comment">//                series.add(new Date(value + k * TimeChart.DAY / 4), 20 + r.nextInt() % 100);</span>
<span class="comment">//              }</span>

        dataset.addSeries(series);

    }
    <span class="keyword">return</span> dataset;
}

<span class="function"><span class="keyword">private</span> XYMultipleSeriesRenderer <span class="title">getDemoRenderer</span><span class="params">()</span> </span>{
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
    renderer.setAxisTitleTextSize(<span class="number">40</span>);
    renderer.setChartTitleTextSize(<span class="number">40</span>);
    renderer.setLabelsTextSize(<span class="number">40</span>);
    renderer.setLegendTextSize(<span class="number">18</span>);
    renderer.setPointSize(<span class="number">6f</span>);
    <span class="comment">//in this order: top, left, bottom, right</span>
    renderer.setMargins(<span class="keyword">new</span> <span class="keyword">int</span>[] {<span class="number">20</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">0</span>});


    XYSeriesRenderer r = <span class="keyword">new</span> XYSeriesRenderer();

    r = <span class="keyword">new</span> XYSeriesRenderer();
    r.setPointStyle(PointStyle.CIRCLE);
    r.setColor(Color.GREEN);
    r.setFillPoints(<span class="keyword">true</span>);

    renderer.addSeriesRenderer(r);
    renderer.setAxesColor(Color.DKGRAY);
    renderer.setLabelsColor(Color.LTGRAY);
    renderer.setChartTitle(<span class="string">"体重变化趋势"</span>);
    renderer.setXTitle(<span class="string">"日期"</span>);
    renderer.setYTitle(<span class="string">"体重(kg)"</span>);
    renderer.setZoomButtonsVisible(<span class="keyword">true</span>);

    <span class="keyword">int</span> length = renderer.getSeriesRendererCount();
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) {
        SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
        seriesRenderer.setDisplayChartValues(<span class="keyword">true</span>);
    }
    <span class="keyword">return</span> renderer;
}
<span class="comment">/* (non-Javadoc)
 * @see com.cayden.weightnotes.achartengine.IDemoChart#execute(android.content.Context)
 */</span>
<span class="annotation">@Override</span>
<span class="function"><span class="keyword">public</span> Intent <span class="title">execute</span><span class="params">(Context context)</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>

    <span class="keyword">return</span> ChartFactory.getTimeChartIntent(context, getDateDemoDataset(), getDemoRenderer(), <span class="string">"yyyy-MM-dd"</span>);
}

}
</code></pre><p>最后在<strong>MainActivity</strong>里调用</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.mychart;

<span class="keyword">import</span> android.content.<span class="type">Intent</span>;
<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>

<span class="keyword">private</span> <span class="type">IDemoChart</span>[] mCharts = <span class="keyword">new</span> <span class="type">IDemoChart</span>[] {<span class="keyword">new</span> <span class="type">WeightDialChart</span>(),
        <span class="keyword">new</span> <span class="type">WeightTimeChart</span>()};
<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);

    <span class="type">Intent</span> intent=mCharts[<span class="number">1</span>].execute(<span class="keyword">this</span>);

    startActivity(intent);

}



}
</code></pre><p>最后别忘了在<strong>配置文件</strong>中添加</p>
<activity android:name="org.achartengine.GraphicalActivity">  </activity>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/29/2015-7-29/" data-id="cidixhy050009esb22koorz4u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-28" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/28/2015-7-28/">json转化异常，JDBC查询之感悟</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/28/2015-7-28/">
    <time datetime="2015-07-28T12:50:57.000Z" itemprop="datePublished">2015-07-28</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/7/28问题集">2015/7/28问题集</h1><h2 id="json转化异常">json转化异常</h2><p>异常信息为：Expected BEGIN_ARRAY but was BEGIN_OBJECT<br>说不是数组，查找到当时的json数据.</p>
<p>{“id”:0,”name”:”zsz”,”age”:22,”goalTime”:”2015/7/28”,”goalWeight”:0.0,”height”:2.0}<br>这并不是一条数组信息</p>
<p>不管你有几条数据：他都要是一个数组类型。也就是返回的是一个list集合。</p>
<p>[{“id”:0,”name”:”zsz”,”age”:22,”goalTime”:”2015/7/28”,”goalWeight”:0.0,”height”:2.0}]</p>
<h3 id="修改方法_###添加的时候、不要在for循环里添加。"><strong>修改方法    </strong> ###添加的时候、不要在for循环里添加。</h3><pre><code>listDataBeans=dataDao.getEditData(jsonNameStr);
            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; listDataBeans.<span class="built_in">size</span>(); i++) {
               DataBean dataBean=listDataBeans.<span class="built_in">get</span>(i);
               System.out.<span class="built_in">println</span>(dataBean.getGoalTime()+<span class="string">"傻逼"</span>);
           }
            dataString = gson.toJson(listDataBeans);
</code></pre><h2 id="JDBC查询之感悟">JDBC查询之感悟</h2><p>查询必定是通过一个条件来查找，返回的数据可能会有多条（List）。<br>查询出来是一个ResultSet，所以也需要一条一条读取出来。有值得时候就设置进属性。</p>
<pre><code>    <span class="keyword">public</span> ArrayList&lt;ManBean&gt; getAllMan(<span class="keyword">String</span> name) {

    <span class="built_in">boolean</span> b=<span class="keyword">false</span>;
    ArrayList&lt;ManBean&gt; arrayList=<span class="keyword">new</span> ArrayList&lt;ManBean&gt;();
    Connection conn=<span class="keyword">null</span>;
    PreparedStatement ps=<span class="keyword">null</span>;
    ResultSet rs=<span class="keyword">null</span>;
    <span class="keyword">String</span> getAllManSQL=<span class="string">"SELECT * FROM man "</span>+<span class="string">"WHERE name=?"</span>;
    <span class="keyword">try</span> {
        conn=BaseConnection.getConnection();
        ps=(PreparedStatement) conn.prepareStatement(getAllManSQL);
        ps.setString(<span class="number">1</span>, name);
        System.out.<span class="built_in">println</span>(ps+<span class="string">")))))"</span>+name);
        rs=ps.executeQuery();
        <span class="keyword">String</span> <span class="built_in">line</span>;
        StringBuffer sb=<span class="keyword">new</span> StringBuffer();
        <span class="keyword">while</span> (rs.next()) {
            ManBean manBean=<span class="keyword">new</span> ManBean();
            manBean.setArm(rs.getString(<span class="string">"arm"</span>));
            manBean.setChest(rs.getString(<span class="string">"chest"</span>));
            manBean.setImage(rs.getBytes(<span class="string">"image"</span>));
            manBean.setTime(rs.getString(<span class="string">"time"</span>));
            manBean.setName(rs.getString(<span class="string">"name"</span>));
            manBean.setWeight(rs.getString(<span class="string">"weight"</span>));
            manBean.setWaust(rs.getString(<span class="string">"waust"</span>));
            manBean.setId(rs.getInt(<span class="string">"id"</span>));
            arrayList.<span class="built_in">add</span>(manBean);
        }
    } <span class="keyword">catch</span> (SQLException e) {
        <span class="comment">// TODO Auto-generated catch block</span>
        e.printStackTrace();
    }<span class="keyword">finally</span> {
        BaseConnection.closeResource(rs, ps, conn);
    }

    <span class="keyword">return</span> arrayList;
}
</code></pre><h2 id="JDBC等一干操作">JDBC等一干操作</h2><pre><code><span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">deleteMan</span><span class="params">(<span class="keyword">int</span> id)</span> </span>{

    <span class="keyword">boolean</span> b=<span class="keyword">false</span>;
    Connection conn=<span class="keyword">null</span>;
    PreparedStatement ps=<span class="keyword">null</span>;
    String deleteManSQL=<span class="string">"DELETE FROM man WHERE id=?"</span>;
    <span class="keyword">try</span> {
        conn=BaseConnection.getConnection();
        ps=(PreparedStatement) conn.prepareStatement(deleteManSQL);
        ps.setInt(<span class="number">1</span>, id);
        System.out.println(deleteManSQL);
        <span class="keyword">int</span> i=ps.executeUpdate();
        <span class="keyword">if</span> (i&gt;<span class="number">0</span>) {
            b=<span class="keyword">true</span>;
        }


    } <span class="keyword">catch</span> (Exception e) {
        e.printStackTrace();
    }<span class="keyword">finally</span> {
        BaseConnection.closeResource(ps, conn);
    }

    <span class="keyword">return</span> b;
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/28/2015-7-28/" data-id="cidixhy0a000besb28bvcv6op" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
      </nav>
    </section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 zszdevelop<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>