<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zszBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this zszdeveloper blog��welcome��">
<meta property="og:type" content="website">
<meta property="og:title" content="zszBlog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="zszBlog">
<meta property="og:description" content="this zszdeveloper blog��welcome��">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zszBlog">
<meta name="twitter:description" content="this zszdeveloper blog��welcome��">
  
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">zszBlog</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/.">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/categories">Categories</a></td>
      
        <td><a class="main-nav-link" href="/tags">Tags</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </td>
      </tr>
    </table>
  </div>
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png">
      <h2 id="name">zszdevelop</h2>
      <h3 id="title">Java&amp;Android Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>XiaMen, China</span>
      <a id="follow" href="undefined">FOLLOW</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        63
        <span>posts</span>
      </div>
      <div class="article-info-block">
        0
        <span>tag</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="https://github.com/zszdevelop" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="/#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="https://www.facebook.com/profile.php?id=100007317255366" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      <section id="main">
      <article id="post-2015-8-24" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/24/2015-8-24/">FrameLayout(框架布局)，shape包裹框的设置，ScrollView让页面也可以滚动拖，使用include重用UI組件，在textView上面在添加一张图片</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/24/2015-8-24/">
    <time datetime="2015-08-24T02:20:42.000Z" itemprop="datePublished">2015-08-24</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/24问题集">2015/8/24问题集</h1><h2 id="FrameLayout(框架布局)">FrameLayout(框架布局)</h2><p>框架布局是最简单的布局形式。所有添加到这个布局中的视图都以层叠的方式显示。第一个添加的控件被放在最底层，最后一个添加到框架布局中的视图显示在最顶层，上一层的控件会覆盖下一层的控件。这种显示方式有些类似于堆栈。</p>
<h2 id="shape包裹框的设置">shape包裹框的设置</h2><p>xml要添加在drawable</p>
<p>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;</p>
<shape xmlns:android="http://schemas.android.com/apk/res/android"><br>    <!-- 圆角 --><br>    <corners android:radius="5dp"><br>    <!-- 背景色 --><br>    <solid android:color="#FFFFFF"><br>    <!-- 线框 --><br>    <stroke android:color="#EEEEEE" android:width="0.5dp"><br><br></stroke></solid></corners></shape>

<h2 id="ScrollView让页面也可以滚动拖">ScrollView让页面也可以滚动拖</h2><pre><code> &lt;ScrollView
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>&gt;
    &lt;LinearLayout
        android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">orientation=</span><span class="string">"vertical"</span>&gt;

    //这里面填写要滚动的内容
 &lt;/ScrollView&gt;

&lt;/LinearLayout&gt;
</code></pre><h2 id="使用include重用UI組件">使用include重用UI組件</h2><p>把需要重用的Ui组件单独列在layout中</p>
<p>当再次需要使用的时候，在其他布局中使用include来调用。</p>
<pre><code><span class="keyword">include</span> android:id=<span class="string">"@+id/title"</span> layout=<span class="string">"@layout/title_include"</span>&gt;&lt;/<span class="keyword">include</span>&gt;
</code></pre><h2 id="在textView上面在添加一张图片">在textView上面在添加一张图片</h2><p>android:drawableTop=”@drawable/3to1”</p>
<h2 id="android布局—Android_fill_parent、wrap_content和match_parent的区别">android布局—Android fill_parent、wrap_content和match_parent的区别</h2><p>三个属性都用来适应视图的水平或垂直大小，一个以视图的内容或尺寸为基础的布局比精确地指定视图范围更加方便。</p>
<ul>
<li>1）fill_parent</li>
</ul>
<p>设置一个构件的布局为fill_parent将强制性地使构件扩展，以填充布局单元内尽可能多的空间。这跟Windows控件的dockstyle属性大体一致。设置一个顶部布局或控件为fill_parent将强制性让它布满整个屏幕。</p>
<ul>
<li>2） wrap_content</li>
</ul>
<p>设置一个视图的尺寸为wrap_content将强制性地使视图扩展以显示全部内容。以TextView和ImageView控件为例，设置为wrap_content将完整显示其内部的文本和图像。布局元素将根据内容更改大小。设置一个视图的尺寸为wrap_content大体等同于设置Windows控件的Autosize属性为True。</p>
<ul>
<li>3）match_parent<br> Android2.2中match_parent和fill_parent是一个意思 .两个参数意思一样，match_parent更贴切，于是从2.2开始两个词都可以用。那么如果考虑低版本的使用情况你就需要用fill_parent了a</li>
</ul>
<h2 id="Android颜色对比">Android颜色对比</h2><p><a href="http://www.cnblogs.com/bluestorm/p/3644669.html" target="_blank" rel="external">http://www.cnblogs.com/bluestorm/p/3644669.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/24/2015-8-24/" data-id="cieb6up3r000ntob2co8nv0k5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-21-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="百度地图开发">百度地图开发</h1><p>自己回去看发开文档吧</p>
<p><a href="http://developer.baidu.com/map/index.php?title=androidsdk/guide/hellobaidumap" target="_blank" rel="external">http://developer.baidu.com/map/index.php?title=androidsdk/guide/hellobaidumap</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/21/2015-8-21-2/" data-id="cieb6up41000ptob29q41c6q5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-21" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/21/2015-8-21/">android获取SHA1和MD5，LinearLayout中的控件对齐问题，Android之事件监听的使用(OnClickListener)</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/21/2015-8-21/">
    <time datetime="2015-08-21T03:22:27.000Z" itemprop="datePublished">2015-08-21</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/21问题集">2015/8/21问题集</h1><h2 id="android获取SHA1和MD5">android获取SHA1和MD5</h2><p>android studio安全码，在许多申请key的时候都要用到安全码。例如百度地图等</p>
<p>具体的操作方法：</p>
<ul>
<li>1.找到debug.keystore的位置，默认位置在C:\Users\shengzhong.android</li>
<li>2.cmd打开命令提示符，cd到keystore的位置</li>
<li>3.输入 keytool -list -v -keystore debug.keystore</li>
<li>回车就显示了要的SHA1和MD5</li>
</ul>
<h2 id="java-lang-IllegalArgumentException:_No_config_chosen">java.lang.IllegalArgumentException: No config chosen</h2><p>这种情况：</p>
<p>解决1.模拟器选项勾选gpu</p>
<p>解决2.用真机测试</p>
<h2 id="LinearLayout中的控件对齐问题">LinearLayout中的控件对齐问题</h2><p>LinearLayout中的控件对齐，如果他是水平布局，那么当他向左向右对齐的时候。他就不行，水平没有边界</p>
<p>解决办法：用相对布局啊！！RelativeLayout</p>
<p>android:layout_alignParentLeft 如果该值为true，则将该控件的左边与父控件的左边对齐<br>android:layout_alignParentRight 如果该值为true，则将该控件的右边与父控件的右边对齐</p>
<h2 id="Android之事件监听的使用(OnClickListener)">Android之事件监听的使用(OnClickListener)</h2><ul>
<li>实现implements View.OnClickListener接口</li>
<li>并实现OnClick方法。</li>
<li>取得每个的id，并根据id去判断</li>
</ul>
<pre><code><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{
    <span class="keyword">int</span> id=view.getId();
    <span class="keyword">switch</span> (id){
        <span class="keyword">case</span> R.id.tvCloud:
            pager.setCurrentItem(0);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> R.id.tvDoor:
            pager.setCurrentItem(1);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> R.id.tvMy:
            pager.setCurrentItem(2);
            <span class="keyword">break</span>;
    }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/21/2015-8-21/" data-id="cieb6up3v000otob21tgl5aqm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-20-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/2015-8-20-3/">ViewPager,ViewPager实现的功能,setOnPageChangeListener的三个方法,pager error</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/20/2015-8-20-3/">
    <time datetime="2015-08-20T09:28:16.000Z" itemprop="datePublished">2015-08-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ViewPager">ViewPager</h1><h2 id="ViewPager的简介">ViewPager的简介</h2><p> ViewPager是android扩展包v4包中的类，这个类可以让用户左右切换当前的view。</p>
<p>所以这时候定义View要这么定义android.support.v4.view.ViewPager</p>
<p>我们首先来看看API对于这个类的表述：</p>
<blockquote>
<p>Layout manager that allows the user to flip left and right through pages of data. You supply an implementation of a PagerAdapter to generate the pages that the view shows.<br>    Note this class is currently under early design and development. The API will likely change in later updates of the compatibility library, requiring changes to the source code of apps when they are compiled against the newer version.<br>    ViewPager is most often used in conjunction with Fragment, which is a convenient way to supply and manage the lifecycle of each page. There are standard adapters implemented for using fragments with the ViewPager, which cover the most common use cases. These are FragmentPagerAdapter andFragmentStatePagerAdapter; each of these classes have simple code showing how to build a full user interface with them.</p>
</blockquote>
<p>在编写ViewPager的应用的使用，还需要使用两个组件类分别是PagerTitleStrip类和PagerTabStrip类，PagerTitleStrip类直接继承自ViewGroup类，而PagerTabStrip类继承PagerTitleStrip类，所以这两个类也是容器类。但是有一点需要注意，在定义XML的layout的时候，这两个类必须是ViewPager标签的子标签，不然会出错。</p>
<h2 id="ViewPager实现的功能">ViewPager实现的功能</h2><p>ViewPager类提供了多界面切换的新效果，<br>新效果有如下特征：</p>
<ul>
<li><1>当前显示一组界面中的其中一个界面；</1></li>
<li><2>当用户通过左右滑动界面时，当前的屏幕显示当前界面和下一个界面的一部分；</2></li>
<li><3>滑动结束后，界面自动跳转到当前选择的界面中。</3></li>
</ul>
<h2 id="setOnPageChangeListener的三个方法">setOnPageChangeListener的三个方法</h2><ul>
<li><p>1.onPageSelected(int position)：这个方法有一个参数position，代表哪个页面被选中。当用手指滑动翻页的时候，如果翻动成功了（滑动的距离够长），手指抬起来就会立即执行这个方法，position就是当前滑动到的页面。如果直接setCurrentItem翻页，那position就和setCurrentItem的参数一致，这种情况在onPageScrolled执行方法前就会立即执行。</p>
</li>
<li><p>2.onPageScrolled(int position,float positionOffset, int positionOffsetPixels)：这个方法会在屏幕滚动过程中不断被调用。<br>有三个参数，第一个position，这个参数要特别注意一下。当用手指滑动时，如果手指按在页面上不动，position和当前页面index是一致的；如果手指向左拖动（相应页面向右翻动），这时候position大部分时间和当前页面是一致的，只有翻页成功的情况下最后一次调用才会变为目标页面；如果手指向右拖动（相应页面向左翻动），这时候position大部分时间和目标页面是一致的，只有翻页不成功的情况下最后一次调用才会变为原页面。<br>当直接设置setCurrentItem翻页时，如果是相邻的情况（比如现在是第二个页面，跳到第一或者第三个页面），如果页面向右翻动，大部分时间是和当前页面是一致的，只有最后才变成目标页面；如果向左翻动，position和目标页面是一致的。这和用手指拖动页面翻动是基本一致的。<br>如果不是相邻的情况，比如我从第一个页面跳到第三个页面，position先是0，然后逐步变成1，然后逐步变成2；我从第三个页面跳到第一个页面，position先是1，然后逐步变成0，并没有出现为2的情况。<br>positionOffset是当前页面滑动比例，如果页面向右翻动，这个值不断变大，最后在趋近1的情况后突变为0。如果页面向左翻动，这个值不断变小，最后变为0。<br>positionOffsetPixels是当前页面滑动像素，变化情况和positionOffset一致。</p>
</li>
<li><p>3.onPageScrollStateChanged(int state)：这个方法在手指操作屏幕的时候发生变化。有三个值：0（END）,1(PRESS) , 2(UP) 。<br>当用手指滑动翻页时，手指按下去的时候会触发这个方法，state值为1，手指抬起时，如果发生了滑动（即使很小），这个值会变为2，然后最后变为0 。总共执行这个方法三次。一种特殊情况是手指按下去以后一点滑动也没有发生，这个时候只会调用这个方法两次，state值分别是1,0 。<br>当setCurrentItem翻页时，会执行这个方法两次，state值分别为2 , 0 。</p>
</li>
</ul>
<p><strong>三个方法的执行顺序为</strong>：用手指拖动翻页时，最先执行一遍onPageScrollStateChanged（1），然后不断执行onPageScrolled，放手指的时候，直接立即执行一次onPageScrollStateChanged（2），然后立即执行一次onPageSelected，然后再不断执行onPageScrollStateChanged，最后执行一次onPageScrollStateChanged（0）。<br>其它的情况由这个可以推出来，不再赘述。</p>
<h2 id="pager-setCurrentItem(0)的使用">pager.setCurrentItem(0)的使用</h2><p> pager.setCurrentItem(0)直接设置显示的页面。0代表第一个页面，1代表第二个。</p>
<h2 id="简单小实例">简单小实例</h2><p>layout.xml:</p>
<pre><code>&lt;RelativeLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>
xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span>
android:layout_width=<span class="string">"match_parent"</span>
android:layout_height=<span class="string">"match_parent"</span>
tools:context=<span class="string">".MainActivity"</span> &gt;

&lt;android<span class="class">.support</span><span class="class">.v4</span><span class="class">.view</span><span class="class">.ViewPager</span>
    android:id=<span class="string">"@+id/viewpager"</span>
    android:layout_width=<span class="string">"wrap_content"</span>
    android:layout_height=<span class="string">"wrap_content"</span> &gt;

    &lt;android<span class="class">.support</span><span class="class">.v4</span><span class="class">.view</span><span class="class">.PagerTabStrip</span>
        android:id=<span class="string">"@+id/tabstrip"</span>
        android:layout_width=<span class="string">"wrap_content"</span>
        android:layout_height=<span class="string">"50dip"</span>
        android:gravity=<span class="string">"center"</span> /&gt;
&lt;/android<span class="class">.support</span><span class="class">.v4</span><span class="class">.view</span><span class="class">.ViewPager</span>&gt;

&lt;/RelativeLayout&gt;
</code></pre><p>MainActivity.java</p>
<ul>
<li><p>1.先找到viewPager和pagerTabStrip。</p>
</li>
<li><p>2.定义两个Array来当容器一个装载view一个装载title</p>
</li>
<li><p>3.pagerTabStrip对设置</p>
</li>
<li>4.把view和title装载进去</li>
<li><p>5.设置Adapter</p>
<p>  package com.example.android_viewpager1;</p>
<p>  import java.util.ArrayList;</p>
<p>  import android.annotation.SuppressLint;<br>  import android.app.Activity;<br>  import android.os.Bundle;<br>  import android.support.v4.view.PagerAdapter;<br>  import android.support.v4.view.PagerTabStrip;<br>  import android.support.v4.view.ViewPager;<br>  import android.support.v4.view.ViewPager.OnPageChangeListener;<br>  import android.util.Log;<br>  import android.view.LayoutInflater;<br>  import android.view.View;<br>  import android.view.ViewGroup;</p>
<p>  public class MainActivity extends Activity {</p>
<p>  ViewPager pager = null;<br>  PagerTabStrip tabStrip = null;<br>  ArrayList<view> viewContainter = new ArrayList<view>();<br>  ArrayList<string> titleContainer = new ArrayList<string>();<br>  public String TAG = “tag”;</string></string></view></view></p>
<p>  @SuppressLint(“ResourceAsColor”)<br>  @Override<br>  protected void onCreate(Bundle savedInstanceState) {</p>
<pre><code>  <span class="keyword">super</span>.onCreate(savedInstanceState);
  setContentView(R.layout.activity_main);

  pager = (ViewPager) <span class="keyword">this</span>.findViewById(R.id.viewpager);
  tabStrip = (PagerTabStrip) <span class="keyword">this</span>.findViewById(R.id.tabstrip);
  <span class="comment">//取消tab下面的长横线</span>
  tabStrip.setDrawFullUnderline(<span class="keyword">false</span>);
  <span class="comment">//设置tab的背景色</span>
  tabStrip.setBackgroundColor(<span class="keyword">this</span>.getResources().getColor(R.color.bg));
  <span class="comment">//设置当前tab页签的下划线颜色</span>
  tabStrip.setTabIndicatorColor(<span class="keyword">this</span>.getResources().getColor(R.color.red));
  tabStrip.setTextSpacing(<span class="number">200</span>);

  View view1 = LayoutInflater.from(<span class="keyword">this</span>).inflate(R.layout.tab1, <span class="keyword">null</span>);
  View view2 = LayoutInflater.from(<span class="keyword">this</span>).inflate(R.layout.tab2, <span class="keyword">null</span>);
  View view3 = LayoutInflater.from(<span class="keyword">this</span>).inflate(R.layout.tab3, <span class="keyword">null</span>);
  View view4 = LayoutInflater.from(<span class="keyword">this</span>).inflate(R.layout.tab4, <span class="keyword">null</span>);
<span class="comment">//viewpager开始添加view</span>
  viewContainter.add(view1);
  viewContainter.add(view2);
  viewContainter.add(view3);
  viewContainter.add(view4);
<span class="comment">//页签项</span>
  titleContainer.add(<span class="string">"网易新闻"</span>);
  titleContainer.add(<span class="string">"网易体育"</span>);
  titleContainer.add(<span class="string">"网易财经"</span>);
  titleContainer.add(<span class="string">"网易女人"</span>);

  pager.setAdapter(<span class="keyword">new</span> PagerAdapter() {

      <span class="comment">//viewpager中的组件数量</span>
      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
          <span class="function"><span class="keyword">return</span> viewContainter.<span class="title">size</span><span class="params">()</span></span>;
      }
    <span class="comment">//滑动切换的时候销毁当前的组件</span>
      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">destroyItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position,
              Object object)</span> </span>{
          ((ViewPager) container).removeView(viewContainter.get(position));
      }
    <span class="comment">//每次滑动的时候生成的组件</span>
      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function">Object <span class="title">instantiateItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position)</span> </span>{
          ((ViewPager) container).addView(viewContainter.get(position));
          <span class="function"><span class="keyword">return</span> viewContainter.<span class="title">get</span><span class="params">(position)</span></span>;
      }

      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">boolean</span> <span class="title">isViewFromObject</span><span class="params">(View arg0, Object arg1)</span> </span>{
          <span class="keyword">return</span> arg0 == arg1;
      }

      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getItemPosition</span><span class="params">(Object object)</span> </span>{
          <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">getItemPosition</span><span class="params">(object)</span></span>;
      }

      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function">CharSequence <span class="title">getPageTitle</span><span class="params">(<span class="keyword">int</span> position)</span> </span>{
          <span class="function"><span class="keyword">return</span> titleContainer.<span class="title">get</span><span class="params">(position)</span></span>;
      }
  });

  pager.setOnPageChangeListener(<span class="keyword">new</span> OnPageChangeListener() {
      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onPageScrollStateChanged</span><span class="params">(<span class="keyword">int</span> arg0)</span> </span>{
          Log.d(TAG, <span class="string">"--------changed:"</span> + arg0);
      }

      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onPageScrolled</span><span class="params">(<span class="keyword">int</span> arg0, <span class="keyword">float</span> arg1, <span class="keyword">int</span> arg2)</span> </span>{
          Log.d(TAG, <span class="string">"-------scrolled arg0:"</span> + arg0);
          Log.d(TAG, <span class="string">"-------scrolled arg1:"</span> + arg1);
          Log.d(TAG, <span class="string">"-------scrolled arg2:"</span> + arg2);
      }

      <span class="annotation">@Override</span>
      <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onPageSelected</span><span class="params">(<span class="keyword">int</span> arg0)</span> </span>{
          Log.d(TAG, <span class="string">"------selected:"</span> + arg0);
      }
  });
</code></pre><p>  }</p>
<p>  }</p>
</li>
</ul>
<p>程式中要使用ViewPager來顯示資訊必須自己繼承PagerAdapter，來完成手指滑動切換視窗的動作。 </p>
<h2 id="ViewPage_:Required_method_instantiateItem_was_not_overridde">ViewPage :Required method instantiateItem was not overridde</h2><p>错误代码提示</p>
<pre><code>java.lang.<span class="type">UnsupportedOperationException</span>: <span class="type">Required</span> <span class="keyword">method</span> instantiateItem was <span class="keyword">not</span> overridden
</code></pre><p>解决办法<br>把return super.instantiateItem(container, position);</p>
<p>换成：</p>
<p>return container;</p>
<h2 id="pager错误之二">pager错误之二</h2><p>java.lang.UnsupportedOperationException: Required method destroyItem was not overridden</p>
<p>这里说必须的方法没有实现，因为先super了。所以就没有实现了。把super删除就可以实现</p>
<pre><code><span class="comment">//每次滑动删除的页面</span>
    @<span class="function">Override
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroyItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position, Object <span class="keyword">object</span>)</span> </span>{

<span class="comment">//就是删除这行        super.destroyItem(container, position, object);</span>
        ((ViewPager) container).removeView(viewContainter.<span class="keyword">get</span>(position));
    }
</code></pre><h2 id="pager错误之三">pager错误之三</h2><p>页面没有显示出来，</p>
<p>解决过程</p>
<ul>
<li>1.查看页面本身是否有问题</li>
<li>2.ArrayList有没有添加页面</li>
<li>3.在instantiateItem中有没有添加页面并返回页面。</li>
</ul>
<p>我的原因是没有返回页面所以导致错误</p>
<pre><code><span class="comment">//每次滑动增加的页面</span>

        <span class="annotation">@Override</span>
        <span class="keyword">public</span> <span class="function">Object <span class="title">instantiateItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position)</span> </span>{
            container.addView(viewContainter.get(position));

            <span class="function"><span class="keyword">return</span> viewContainter.<span class="title">get</span><span class="params">(position)</span></span>;
        }
</code></pre><h2 id="pager错误之四">pager错误之四</h2><p>pager.setCurrentItem(1);</p>
<p>设置初始值没有反应。<br>设置的时候要放在Adapter里面</p>
<hr>
<h2 id="设置只可以通过点选，而不是滑动来切换页面">设置只可以通过点选，而不是滑动来切换页面</h2><ul>
<li>1.首先去掉layout中PagerTabStrip，采用TextView来当tab</li>
<li>2.点击TextView的时候再通过pager.setCurrentItem(0)来设置切换的页面</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/20/2015-8-20-3/" data-id="cieb6up4a000rtob2c0m1ofxc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-20-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/2015-8-20-2/">动态加载Fragment，Fragment常用的API</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/20/2015-8-20-2/">
    <time datetime="2015-08-20T07:32:15.000Z" itemprop="datePublished">2015-08-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="动态加载Fragment">动态加载Fragment</h1><p>在动态加载Fragment里面，就不需要把Fragment写死,写成View.而是采用动态加载的方式来实现操作。</p>
<p>我们先看布局文件：他是由一个FragmentLayout容器来存放Fragmeng（动态加载就是加载到这个地方）。还有两个选择按钮组成</p>
<pre><code>&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
xmlns:<span class="variable">tools=</span><span class="string">"http://schemas.android.com/tools"</span> android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span>
android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span> android:<span class="variable">paddingLeft=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingRight=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingTop=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">paddingBottom=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
&gt;

&lt;TextView android:<span class="variable">text=</span><span class="string">"@string/hello_world"</span> android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span> /&gt;
&lt;FrameLayout
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">id=</span><span class="string">"@+id/fl"</span>
    &gt;&lt;/FrameLayout&gt;

&lt;LinearLayout
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>&gt;
    &lt;TextView
        android:<span class="variable">layout_width=</span><span class="string">"0dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_weight=</span><span class="string">"1"</span>
        android:<span class="variable">text=</span><span class="string">"tv01"</span>
        android:<span class="variable">id=</span><span class="string">"@+id/tv01"</span>
        /&gt;
    &lt;TextView
        android:<span class="variable">layout_width=</span><span class="string">"0dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_weight=</span><span class="string">"1"</span>
        android:<span class="variable">text=</span><span class="string">"tv02"</span>
        android:<span class="variable">id=</span><span class="string">"@+id/tv02"</span>
        /&gt;

    &lt;/LinearLayout&gt;

&lt;/LinearLayout&gt;
</code></pre><p>在mainActivity里面就实现他的动态添加与管理</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.FragmentManager;
<span class="keyword">import</span> android.app.FragmentTransaction;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.TextView;


<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">ActionBarActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>{


<span class="keyword">private</span> FragmentTest fragmentTest;
<span class="keyword">private</span> FragmentTest02 fragmentTest02;
<span class="keyword">private</span> TextView tv01,tv02;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    initView();
}

<span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>{
    tv01= (TextView) findViewById(R.id.tv01);
    tv02= (TextView) findViewById(R.id.tv02);
    tv01.setOnClickListener(<span class="keyword">this</span>);
    tv02.setOnClickListener(<span class="keyword">this</span>);

    <span class="comment">// 设置默认的Fragment</span>
    setDefaultFragment();

}

<span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">setDefaultFragment</span><span class="params">()</span> </span>{
    <span class="comment">//使用FragmentManager来管理</span>
    FragmentManager manager=getFragmentManager();
    FragmentTransaction transaction = manager.beginTransaction();

    fragmentTest=<span class="keyword">new</span> FragmentTest();
    <span class="comment">//使用transaction.replace去FragmentLayout里添加Fragment。</span>
    transaction.replace(R.id.fl,fragmentTest);
    transaction.commit();
}


<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{

    FragmentManager fm = getFragmentManager();
    <span class="comment">// 开启Fragment事务</span>
    FragmentTransaction transaction = fm.beginTransaction();
    <span class="keyword">switch</span> (view.getId()) {
        <span class="keyword">case</span> R.id.tv01:
            <span class="keyword">if</span> ( fragmentTest== <span class="keyword">null</span>) {
                fragmentTest = <span class="keyword">new</span> FragmentTest();
            }
            <span class="comment">// 使用当前Fragment的布局替代id_content的控件</span>
            transaction.replace(R.id.fl, fragmentTest);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> R.id.tv02:
            <span class="keyword">if</span> (fragmentTest02 == <span class="keyword">null</span>) {
                fragmentTest02 = <span class="keyword">new</span> FragmentTest02();
            }
            transaction.replace(R.id.fl, fragmentTest02);
            <span class="keyword">break</span>;
    }
    <span class="comment">// transaction.addToBackStack();</span>
    <span class="comment">// 事务提交</span>
    transaction.commit();
}
}
</code></pre><h2 id="Fragment常用的API：">Fragment常用的API：</h2><p><strong>Fragment常用的三个类：</strong></p>
<ul>
<li><p>android.app.Fragment 主要用于定义Fragment</p>
</li>
<li><p>android.app.FragmentManager 主要用于在Activity中操作Fragment</p>
</li>
<li><p>android.app.FragmentTransaction 保证一些列Fragment操作的原子性，熟悉事务这个词，一定能明白~</p>
</li>
</ul>
<p><strong>a、获取FragmentManage的方式：</strong></p>
<p>getFragmentManager() // v4中，getSupportFragmentManager</p>
<p><strong>b、主要的操作都是FragmentTransaction的方法</strong></p>
<p>FragmentTransaction transaction = fm.benginTransatcion();//开启一个事务</p>
<p>transaction.add() </p>
<p>往Activity中添加一个Fragment</p>
<p>transaction.remove()</p>
<p>从Activity中移除一个Fragment，如果被移除的Fragment没有添加到回退栈（回退栈后面会详细说），这个Fragment实例将会被销毁。</p>
<p>transaction.replace()</p>
<p>使用另一个Fragment替换当前的，实际上就是remove()然后add()的合体~</p>
<p>transaction.hide()</p>
<p>隐藏当前的Fragment，仅仅是设为不可见，并不会销毁</p>
<p>transaction.show()</p>
<p>显示之前隐藏的Fragment</p>
<p>detach()</p>
<p>将此Fragment从Activity中分离，会销毁其布局，但不会销毁该实例</p>
<p>attach()</p>
<p>将从Activity中分离的Fragment，重新关联到该Activity，重新创建其视图层次</p>
<p>transatcion.commit()//提交一个事务</p>
<p><strong>注意：常用Fragment的哥们，可能会经常遇到这样Activity状态不一致：State loss这样的错误。主要是因为：commit方法一定要在Activity.onSaveInstance()之前调用。</strong></p>
<p>上述，基本是操作Fragment的所有的方式了，在一个事务开启到提交可以进行多个的添加、移除、替换等操作。</p>
<p>值得注意的是：如果你喜欢使用Fragment，一定要清楚这些方法，哪个会销毁视图，哪个会销毁实例，哪个仅仅只是隐藏，这样才能更好的使用它们。</p>
<ul>
<li><p>a、比如：我在FragmentA中的EditText填了一些数据，当切换到FragmentB时，如果希望会到A还能看到数据，则适合你的就是hide和show；也就是说，希望保留用户操作的面板，你可以使用hide和show，当然了不要使劲在那new实例，进行下非null判断。</p>
</li>
<li><p>b、再比如：我不希望保留用户操作，你可以使用remove()，然后add()；或者使用replace()这个和remove,add是相同的效果。</p>
</li>
<li><p>c、remove和detach有一点细微的区别，在不考虑回退栈的情况下，remove会销毁整个Fragment实例，而detach则只是销毁其视图结构，实例并不会被销毁。那么二者怎么取舍使用呢？如果你的当前Activity一直存在，那么在不希望保留用户操作的时候，你可以优先使用detach。</p>
</li>
</ul>
<p>上述已经介绍完成了Fragment常用的一些方法，相信看完，大家一定清楚了Fragment的产生理由，以及如何使用Fragment，再根据API的讲解，也能明白，曾经为何觉得Fragment会出现一些列乱七八槽的问题，终究是因为没有弄清楚其生命周期。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/20/2015-8-20-2/" data-id="cieb6up4f000stob2n0ezedi6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-20" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/2015-8-20/">Fragment的产生与介绍，Fragment的生命周期，Fragment相当于一个控件，静态Fragment的简单实例</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/20/2015-8-20/">
    <time datetime="2015-08-20T06:01:14.000Z" itemprop="datePublished">2015-08-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/20问题集">2015/8/20问题集</h1><h2 id="Fragment的产生与介绍">Fragment的产生与介绍</h2><p>Fragment支持在不同的Activity中使用并且可以处理自己的输入事件以及生命周期方法等。可以看做是一个子Activity。</p>
<p>Android运行在各种各样的设备中，有小屏幕的手机，超大屏的平板甚至电视。针对屏幕尺寸的差距，很多情况下，都是先针对手机开发一套App，然后拷贝一份，修改布局以适应平板神马超级大屏的。难道无法做到一个App可以同时适应手机和平板么，当然了，必须有啊。Fragment的出现就是为了解决这样的问题。你可以把Fragment当成Activity的一个界面的一个组成部分，甚至Activity的界面可以完全有不同的Fragment组成，更帅气的是Fragment拥有自己的生命周期和接收、处理用户的事件，这样就不必在Activity写一堆控件的事件处理的代码了。更为重要的是，你可以动态的添加、替换和移除某个Fragment。</p>
<h2 id="Fragment的生命周期">Fragment的生命周期</h2><p>Fragment必须是依存与Activity而存在的，因此Activity的生命周期会直接影响到Fragment的生命周期。官网这张图很好的说明了两者生命周期的关系：</p>
<p>可以看到Fragment比Activity多了几个额外的生命周期回调方法：<br>onAttach(Activity)<br>当Fragment与Activity发生关联时调用。<br>onCreateView(LayoutInflater, ViewGroup,Bundle)<br>创建该Fragment的视图<br>onActivityCreated(Bundle)<br>当Activity的onCreate方法返回时调用<br>onDestoryView()<br>与onCreateView想对应，当该Fragment的视图被移除时调用<br>onDetach()<br>与onAttach相对应，当Fragment与Activity关联被取消时调用<br>注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现，</p>
<h2 id="Fragment相当于一个控件">Fragment相当于一个控件</h2><p>Fragment可以被多个Activity重用，但是您也必须把Fragment关联到一个FragmentActivity上</p>
<h2 id="静态Fragment的简单实例">静态Fragment的简单实例</h2><p>先自己定义一个Fragment的view的layout。</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span> android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span>&gt;

&lt;ImageButton
    android:<span class="variable">id=</span><span class="string">"@+id/id_title_left_btn"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_centerVertical=</span><span class="string">"true"</span>
    android:<span class="variable">background=</span><span class="string">"@drawable/my_icon"</span> /&gt;

&lt;TextView
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">gravity=</span><span class="string">"center"</span>
    android:<span class="variable">text=</span><span class="string">"我是Fragment"</span>
     /&gt;

&lt;/LinearLayout&gt;
</code></pre><p>再定义Fragment，这个Fragment就相当于一个小Activity，Activity可以包含多个Fragment</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.<span class="type">Fragment</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.support.annotation.<span class="type">Nullable</span>;
<span class="keyword">import</span> android.view.<span class="type">LayoutInflater</span>;
<span class="keyword">import</span> android.view.<span class="type">View</span>;
<span class="keyword">import</span> android.view.<span class="type">ViewGroup</span>;
<span class="keyword">import</span> android.widget.<span class="type">ImageButton</span>;
<span class="keyword">import</span> android.widget.<span class="type">Toast</span>;

<span class="comment">/**
 * Created by shengzhong on 2015/8/20.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">FragmentTest</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Fragment</span> {</span>

<span class="keyword">private</span> <span class="type">ImageButton</span> mButton;

<span class="annotation">@Nullable</span>
<span class="annotation">@Override</span>
public <span class="type">View</span> onCreateView(<span class="type">LayoutInflater</span> inflater, <span class="type">ViewGroup</span> container, <span class="type">Bundle</span> savedInstanceState) {

    <span class="type">View</span> view = inflater.inflate(<span class="type">R</span>.layout.title_fragment, container, <span class="literal">false</span>);
    mButton = (<span class="type">ImageButton</span>)view.findViewById(<span class="type">R</span>.id.id_title_left_btn);
    mButton.setOnClickListener(<span class="keyword">new</span> <span class="type">View</span>.<span class="type">OnClickListener</span>() {

        <span class="annotation">@Override</span>
        public void onClick(<span class="type">View</span> v) {
            <span class="type">Toast</span>.makeText(getActivity(),
                    <span class="string">"i am an ImageButton in TitleFragment ! "</span>,
                    <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();
        }
    });
    <span class="keyword">return</span> view;
}
}
</code></pre><p>在Mainlayout里面添加Fragment，这就相当于一个view的使用</p>
<pre><code>&lt;RelativeLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
xmlns:<span class="variable">tools=</span><span class="string">"http://schemas.android.com/tools"</span> android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span>
android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span> android:<span class="variable">paddingLeft=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingRight=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingTop=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">paddingBottom=</span><span class="string">"@dimen/activity_vertical_margin"</span> tools:<span class="variable">context=</span><span class="string">".MainActivity"</span>&gt;

&lt;TextView android:<span class="variable">text=</span><span class="string">"@string/hello_world"</span> android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span> /&gt;
&lt;fragment
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"45dp"</span>
    android:<span class="variable">id=</span><span class="string">"@+id/fragmentTitle"</span>
    android:<span class="variable">name=</span><span class="string">"com.zsz.develop.firstfragment.FragmentTest"</span>
    &gt;&lt;/fragment&gt;

&lt;/RelativeLayout&gt;
</code></pre><p>在Main里调用</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.<span class="type">Fragment</span>;
<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;
<span class="keyword">import</span> android.view.<span class="type">View</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>

<span class="keyword">private</span> <span class="type">View</span> fragmentTitle;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);
    fragmentTitle=findViewById(<span class="type">R</span>.id.fragmentTitle);
}


}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/20/2015-8-20/" data-id="cieb6up45000qtob2s63ygkmw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/19/2015-8-19/">volley的简单使用</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/19/2015-8-19/">
    <time datetime="2015-08-19T08:36:41.000Z" itemprop="datePublished">2015-08-19</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/19问题集">2015/8/19问题集</h1><h2 id="volley的简单使用">volley的简单使用</h2><p>MyApplication中的代码：主要是建立一个queue对列。并给出一个调用方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;

<span class="keyword">import</span> com.android.volley.<span class="type">RequestQueue</span>;
<span class="keyword">import</span> com.android.volley.toolbox.<span class="type">Volley</span>;

<span class="comment">/**
 * Created by shengzhong on 2015/8/19.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>

public static <span class="type">RequestQueue</span> queue;

<span class="annotation">@Override</span>
public void onCreate() {
    <span class="keyword">super</span>.onCreate();
    queue= <span class="type">Volley</span>.newRequestQueue(getApplicationContext());
}

public static <span class="type">RequestQueue</span> getHttpQueue(){
    <span class="keyword">return</span> queue;
}

}
</code></pre><p>=</p>
<p>MainActivity中的代码。调用和实现volley的post和get方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.Menu;
<span class="keyword">import</span> android.view.MenuItem;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.android.volley.AuthFailureError;
<span class="keyword">import</span> com.android.volley.Request;
<span class="keyword">import</span> com.android.volley.Response;
<span class="keyword">import</span> com.android.volley.VolleyError;
<span class="keyword">import</span> com.android.volley.toolbox.StringRequest;

<span class="keyword">import</span> java.lang.reflect.Method;
<span class="keyword">import</span> java.util.<span class="keyword">HashMap</span>;
<span class="keyword">import</span> java.util.Map;


<span class="keyword">public</span> class MainActivity extends ActionBarActivity {

@Override
<span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
<span class="comment">//        volley_Get();</span>
    volley_Post();
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Post() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.POST,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    }){
        <span class="comment">//与get最大的不同就是在这后面要添加getParams的方法来传递参数</span>
        @Override
        <span class="keyword">protected</span> Map&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; getParams() <span class="keyword">throws</span> AuthFailureError {
            <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>,<span class="keyword">String</span>&gt; <span class="built_in">map</span>=<span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;&gt;();
            <span class="built_in">map</span>.put(<span class="string">"phone"</span>,<span class="string">"13616008640"</span>);
            <span class="built_in">map</span>.put(<span class="string">"key"</span>,<span class="string">"a8d4ff7a12cabef64ac6fe7871baf073"</span>);
            <span class="comment">//返回map就好了</span>
            <span class="keyword">return</span> <span class="built_in">map</span>;
        }
    };
    request.setTag(<span class="string">"abcPost"</span>);
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Get() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?phone=13616008640&amp;key=a8d4ff7a12cabef64ac6fe7871baf073"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.GET,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {

            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    });
    <span class="comment">//添加标签，当取消这个请求的时候可以取消这个标签</span>
    request.setTag(<span class="string">"abcGET"</span>);
    <span class="comment">//将我们的请求添加到我们的对列里面</span>
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);

}


}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/19/2015-8-19/" data-id="cieb6up4i000ttob2pwn4q125" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/17/2015-8-17/">Android日志系统，Android Studio中获取SHA1或MD5的方法</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/17/2015-8-17/">
    <time datetime="2015-08-17T09:29:48.000Z" itemprop="datePublished">2015-08-17</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/17问题集">2015/8/17问题集</h1><h2 id="Android日志系统">Android日志系统</h2><p>这个类比较常用的打印日志的方法有5个,这5个方法都会把日志打印到LogCat中: </p>
<ul>
<li>Log.v(tag,message);        //verbose模式,打印最详细的日志 </li>
<li>Log.d(tag,message);        //debug级别的日志 </li>
<li>Log.i(tag,message);        //info级别的日志 </li>
<li>Log.w(tag,message);        //warn级别的日志 </li>
<li>Log.e(tag,message);        //error级别的日志 </li>
</ul>
<p>其中tag和message分别是两个String值.从android开发帮助文档中来看,tag和message的定义分别是:</p>
<ul>
<li>tag ：    Used to identify the source of a log message. It usually identifies the class or activity where the log call occurs. </li>
<li>msg ：    The message you would like logged. </li>
</ul>
<p>可看出tag用来标记log消息的源头的.而message则是这条log的内容. </p>
<p>从日志的输出数量来算,error,warn,info,debug,verbose,数量从少到多.</p>
<h2 id="Android_Studio中获取SHA1或MD5的方法">Android Studio中获取SHA1或MD5的方法</h2><p>第一步、打开Android Studio的Tools-&gt;Open Terminal…</p>
<p>第二步、输入命令：keytool -v -list -keystore keystore.jks</p>
<p>【一定要记得加上 -v 参数，不然只能看到SHA1，没有MD5】【keystore.jks，需要替换为你自己的密钥所在路径和文件名】</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/17/2015-8-17/" data-id="cieb6up4m000utob29ohfmvnx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/16/2015-8-16/">聚合数据API使用</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/16/2015-8-16/">
    <time datetime="2015-08-16T10:56:23.000Z" itemprop="datePublished">2015-08-16</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/16问题集">2015/8/16问题集</h1><h2 id="聚合数据API使用">聚合数据API使用</h2><p>MainActivity里的代码：使用的时候只需要更改Parameters</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.Button;
<span class="keyword">import</span> android.widget.TextView;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.thinkland.sdk.android.DataCallBack;
<span class="keyword">import</span> com.thinkland.sdk.android.JuheData;
<span class="keyword">import</span> com.thinkland.sdk.android.Parameters;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{

<span class="keyword">private</span> Context mContext;
TextView tv;
<span class="keyword">private</span> Button btn,btnWeather;

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    mContext = <span class="keyword">this</span>;
    tv = (TextView) findViewById(R.id.tv);



    <span class="javadoc">/**
     * 请不要添加key参数.
     */</span>
    Parameters params = <span class="keyword">new</span> Parameters();
    params.add(<span class="string">"ip"</span>, <span class="string">"www.juhe.cn"</span>);
    params.add(<span class="string">"dtype"</span>, <span class="string">"xml"</span>);
    <span class="javadoc">/**
     * 请求的方法 参数: 第一个参数 当前请求的context;
     *                   第二个参数 接口id;
     *                   第三个参数 接口请求的url;
     *                   第四个参数 接口请求的方式;
     *                   第五个参数 接口请求的参数,键值对com.thinkland.sdk.android.Parameters类型;
     *                   第六个参数请求的回调方法,com.thinkland.sdk.android.DataCallBack;
     * 
     */</span>
    JuheData.executeWithAPI(mContext, <span class="number">1</span>, <span class="string">"http://apis.juhe.cn/ip/ip2addr"</span>,
            JuheData.GET, params, <span class="keyword">new</span> DataCallBack() {
                <span class="javadoc">/**
                 * 请求成功时调用的方法 statusCode为http状态码,responseString为请求返回数据.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(<span class="keyword">int</span> statusCode, String responseString)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(responseString + <span class="string">"\n"</span>);
                }

                <span class="javadoc">/**
                 * 请求完成时调用的方法,无论成功或者失败都会调用.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFinish</span><span class="params">()</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    Toast.makeText(getApplicationContext(), <span class="string">"finish"</span>,
                            Toast.LENGTH_SHORT).show();
                }

                <span class="javadoc">/**
                 * 请求失败时调用的方法,statusCode为http状态码,throwable为捕获到的异常
                 * statusCode:30002 没有检测到当前网络.
                 *               30003 没有进行初始化.
                 *               0 未明异常,具体查看Throwable信息.
                 *               其他异常请参照http状态码.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> statusCode,
                        String responseString, Throwable throwable)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(throwable.getMessage() + <span class="string">"\n"</span>);
                }
            });

}

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onDestroy();
    <span class="javadoc">/**
     * 关闭当前页面正在进行中的请求.
     */</span>
    JuheData.cancelRequests(mContext);
}

}
</code></pre><p>需要继承Application</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> com.thinkland.sdk.android.<span class="type">JuheSDKInitializer</span>;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;
<span class="keyword">import</span> android.widget.<span class="type">Button</span>;

public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>



<span class="annotation">@Override</span>
public void onCreate() {
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onCreate();
    <span class="type">JuheSDKInitializer</span>.initialize(getApplicationContext());

}
}
</code></pre><p>更改manifest的设置即可</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;manifest xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
<span class="variable">package=</span><span class="string">"com.thinkland.juheapi.demo"</span>
android:<span class="variable">versionCode=</span><span class="string">"1"</span>
android:<span class="variable">versionName=</span><span class="string">"1.0"</span> &gt;

&lt;uses-sdk
    android:<span class="variable">minSdkVersion=</span><span class="string">"9"</span>
    android:<span class="variable">targetSdkVersion=</span><span class="string">"15"</span> /&gt;

&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.READ_PHONE_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.INTERNET"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;

&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;
&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.READ_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;

&lt;application
    android:<span class="variable">name=</span><span class="string">".MyApplication"</span>
    android:<span class="variable">allowBackup=</span><span class="string">"true"</span>
    android:<span class="variable">icon=</span><span class="string">"@drawable/ic_launcher"</span>
    android:<span class="variable">label=</span><span class="string">"@string/app_name"</span>
    android:<span class="variable">theme=</span><span class="string">"@style/AppTheme"</span> &gt;
    &lt;meta-data
        android:<span class="variable">name=</span><span class="string">"com.thinkland.juheapi.openid"</span>
        android:<span class="variable">value=</span><span class="string">"JHf2946fb83e4a9d7dbd854fa65bd130b1"</span> /&gt;

    &lt;activity
        android:<span class="variable">name=</span><span class="string">".MainActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/app_name"</span> &gt;
        &lt;intent-filter&gt;
            &lt;action android:<span class="variable">name=</span><span class="string">"android.intent.action.MAIN"</span> /&gt;

            &lt;category android:<span class="variable">name=</span><span class="string">"android.intent.category.LAUNCHER"</span> /&gt;
        &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".CaptchaActicity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha_acticity"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".Captcha"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".WeatherActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_weather"</span> &gt;
    &lt;/activity&gt;
&lt;/application&gt;

&lt;/manifest&gt;
</code></pre><h2 id="Activity继承错误">Activity继承错误</h2><p>错误代码提示：</p>
<pre><code>java<span class="class">.lang</span><span class="class">.IllegalStateException</span>: You need to use <span class="tag">a</span> Theme<span class="class">.AppCompat</span> theme (or descendant) with this activity.
</code></pre><p>原因：<br>从错误提示中提到Theme.AppCompat theme，这是因为我们的activity一定是继承了兼容包中的类，<br>比如我这里就无意中继承了ActionBarActivity，它来自android.support.v7.app.ActionBarActivity。<br>所以就要使用与其配合的AppCompat的theme才行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/16/2015-8-16/" data-id="cieb6up4r000vtob236lxym0l" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-15" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/15/2015-8-15/">Android手机的通讯录</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/15/2015-8-15/">
    <time datetime="2015-08-15T12:16:59.000Z" itemprop="datePublished">2015-08-15</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Android手机的通讯录">Android手机的通讯录</h1><p>Android手机的通讯录联系人全部都存在系统的数据库中，如果须要获得通讯里联系人的信息就须要访问系统的数据库，才能将信息拿出来。</p>
<h2 id="contacts_表">contacts 表</h2><ul>
<li>_id ：表的ID，主要用于其它表通过contacts 表中的ID可以查到相应的数据。</li>
<li>display_name:  联系人名称</li>
<li>photo_id:头像的ID，如果没有设置联系人头像，这个字段就为空</li>
<li>times_contacted:通话记录的次数</li>
<li>last_time_contacted: 最后的通话时间 </li>
<li>lookup :是一个持久化的储存 因为用户可能会改名子 但是它改不了lookup</li>
</ul>
<h2 id="简单实例">简单实例</h2><p>要先添加权限</p>
<pre><code><span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_CONTACTS"</span>&gt;</span><span class="tag">&lt;/<span class="title">uses-permission</span>&gt;</span>
</code></pre><p>这个简单实例只是把数据显示在控制台上。</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));

            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }


    }


    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><h2 id="把通讯录显示在页面上">把通讯录显示在页面上</h2><p>MainActivity中的代码：主要加载页面信息</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;
<span class="keyword">import</span> android.widget.<span class="type">ListView</span>;

<span class="keyword">import</span> java.util.<span class="type">List</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>
<span class="keyword">private</span> <span class="type">ListView</span> lv;
<span class="keyword">private</span> <span class="type">MyAdapter</span> adapter;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);
    <span class="type">GetNumber</span>.getNumber(<span class="keyword">this</span>);

    lv= (<span class="type">ListView</span>) findViewById(<span class="type">R</span>.id.lv);
    adapter=<span class="keyword">new</span> <span class="type">MyAdapter</span>(<span class="type">GetNumber</span>.lists,<span class="keyword">this</span>);
    lv.setAdapter(adapter);
}
}
</code></pre><p>GetNumber中的代码主要获得通讯录信息</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="keyword">import</span> java.util.ArrayList;
<span class="keyword">import</span> java.util.List;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static List&lt;PhoneInfo&gt; lists=<span class="keyword">new</span> ArrayList&lt;PhoneInfo&gt;();

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            PhoneInfo phoneInfo=<span class="keyword">new</span> PhoneInfo(phoneName,phoneNumber);
            lists.add(phoneInfo);
            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }
    }
    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><p>PhoneInfo对数据进行封装</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="comment">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> class PhoneInfo {

   <span class="keyword">private</span> <span class="keyword">String</span> phoneName;
<span class="keyword">private</span> <span class="keyword">String</span> phoneNumber;

<span class="keyword">public</span> PhoneInfo(<span class="keyword">String</span> phoneName,<span class="keyword">String</span> phoneNumber){
    setPhoneName(phoneName);
    setPhoneNumber(phoneNumber);
}


<span class="keyword">public</span> <span class="keyword">String</span> getPhoneName() {
    <span class="keyword">return</span> phoneName;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneName(<span class="keyword">String</span> phoneName) {
    <span class="keyword">this</span>.phoneName = phoneName;
}

<span class="keyword">public</span> <span class="keyword">String</span> getPhoneNumber() {
    <span class="keyword">return</span> phoneNumber;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneNumber(<span class="keyword">String</span> phoneNumber) {
    <span class="keyword">this</span>.phoneNumber = phoneNumber;
}
}
</code></pre><p>MyAdapter对listview进行适配。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
    layoutInflater=LayoutInflater.from(context);
    layout= (LinearLayout) layoutInflater.inflate(R.layout.call,<span class="keyword">null</span>);
    TextView tvName= (TextView) layout.findViewById(R.id.tvName);
    TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);
    tvName.setText(lists.get(i).getPhoneName());
    tvNumber.setText(lists.get(i).getPhoneNumber());

    <span class="keyword">return</span> layout;
}
}
</code></pre><p>call的layout。在main中有一个list</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span> android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span>
android:<span class="variable">orientation=</span><span class="string">"vertical"</span>&gt;

&lt;LinearLayout
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">orientation=</span><span class="string">"horizontal"</span>
    &gt;
    &lt;ImageView
        android:<span class="variable">layout_width=</span><span class="string">"45dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"45dp"</span>
        android:<span class="variable">src=</span><span class="string">"@drawable/jiamin"</span>
        /&gt;
    &lt;LinearLayout
        android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
        &gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvName"</span>
            /&gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvNumber"</span>
            /&gt;


    &lt;/LinearLayout&gt;


&lt;/LinearLayout&gt;

&lt;/LinearLayout&gt;
</code></pre><h2 id="listView优化">listView优化</h2><p>使用holder新建textview来操作。</p>
<p>重用了convertView，很大程度上的减少了内存的消耗。通过判断convertView是否为null，是的话就需要产生一个视图出来，然后给这个视图数据，最后将这个视图返回给底层，呈献给用户。<br>特点：如果当前的convertView为null，则通过LayoutInflat产生一个view。</p>
<p>其中converView会反复使用，目的是为了提高ListView效率。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
<span class="comment">//        layoutInflater=LayoutInflater.from(context);</span>
<span class="comment">//        layout= (LinearLayout) layoutInflater.inflate(R.layout.call,null);</span>
<span class="comment">//        TextView tvName= (TextView) layout.findViewById(R.id.tvName);</span>
<span class="comment">//        TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);</span>
<span class="comment">//        tvName.setText(lists.get(i).getPhoneName());</span>
<span class="comment">//        tvNumber.setText(lists.get(i).getPhoneNumber());</span>
<span class="comment">//</span>
    ViewHolder holder;
    <span class="keyword">if</span> (view==<span class="keyword">null</span>){
        view=LayoutInflater.from(context).inflate(R.layout.call,<span class="keyword">null</span>);
        holder=<span class="keyword">new</span> ViewHolder();
        holder.tvName= (TextView) view.findViewById(R.id.tvName);
        holder.tvNumber= (TextView) view.findViewById(R.id.tvNumber);
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());
        view.setTag(holder);

    }<span class="keyword">else</span> {
        holder= (ViewHolder) view.getTag();
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());

    }

    <span class="keyword">return</span> view;
}

<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>{

    TextView tvName;
    TextView tvNumber;
}
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/15/2015-8-15/" data-id="cieb6up4v000wtob25opjdget" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
      </nav>
    </section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 zszdevelop<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>