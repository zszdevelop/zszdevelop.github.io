<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>zszBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="this zszdeveloper blog��welcome��">
<meta property="og:type" content="website">
<meta property="og:title" content="zszBlog">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="zszBlog">
<meta property="og:description" content="this zszdeveloper blog��welcome��">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zszBlog">
<meta name="twitter:description" content="this zszdeveloper blog��welcome��">
  
  
  <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo"></i><span class="site-title">zszBlog</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div class="profile" id="profile-nav">
          <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png"><i class="fa fa-caret-down"></i></a>
        </div>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
      
        <td><a class="main-nav-link" href="/.">Home</a></td>
      
        <td><a class="main-nav-link" href="/archives">Archives</a></td>
      
        <td><a class="main-nav-link" href="/categories">Categories</a></td>
      
        <td><a class="main-nav-link" href="/tags">Tags</a></td>
      
        <td><a class="main-nav-link" href="/about">About</a></td>
      
      <td>
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </td>
      </tr>
    </table>
  </div>
</header>
    <div class="outer">
      <aside id="profile">
  <div class="inner profile-inner">
  	<div class="base-info profile-block">
		  <img id="avatar" src="http://cl.ly/image/382p262u1E3o/%60IF)_M7]QGJMAK096_$F$$6.png">
      <h2 id="name">zszdevelop</h2>
      <h3 id="title">Java&amp;Android Developer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>XiaMen, China</span>
      <a id="follow" href="undefined">FOLLOW</a>
  	</div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        79
        <span>posts</span>
      </div>
      <div class="article-info-block">
        0
        <span>tag</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
        
          <td><a href="https://github.com/zszdevelop" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
        
          <td><a href="/#" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
        
          <td><a href="https://www.facebook.com/profile.php?id=100007317255366" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
        
        </tr>
      </table>
    </div>
    
  </div>
</aside>
      <section id="main">
      <article id="post-2015-8-20-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/2015-8-20-2/">动态加载Fragment，Fragment常用的API</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/20/2015-8-20-2/">
    <time datetime="2015-08-20T07:32:15.000Z" itemprop="datePublished">2015-08-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="动态加载Fragment">动态加载Fragment</h1><p>在动态加载Fragment里面，就不需要把Fragment写死,写成View.而是采用动态加载的方式来实现操作。</p>
<p>我们先看布局文件：他是由一个FragmentLayout容器来存放Fragmeng（动态加载就是加载到这个地方）。还有两个选择按钮组成</p>
<pre><code>&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
xmlns:<span class="variable">tools=</span><span class="string">"http://schemas.android.com/tools"</span> android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span>
android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span> android:<span class="variable">paddingLeft=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingRight=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingTop=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">paddingBottom=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
&gt;

&lt;TextView android:<span class="variable">text=</span><span class="string">"@string/hello_world"</span> android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span> /&gt;
&lt;FrameLayout
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">id=</span><span class="string">"@+id/fl"</span>
    &gt;&lt;/FrameLayout&gt;

&lt;LinearLayout
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>&gt;
    &lt;TextView
        android:<span class="variable">layout_width=</span><span class="string">"0dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_weight=</span><span class="string">"1"</span>
        android:<span class="variable">text=</span><span class="string">"tv01"</span>
        android:<span class="variable">id=</span><span class="string">"@+id/tv01"</span>
        /&gt;
    &lt;TextView
        android:<span class="variable">layout_width=</span><span class="string">"0dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_weight=</span><span class="string">"1"</span>
        android:<span class="variable">text=</span><span class="string">"tv02"</span>
        android:<span class="variable">id=</span><span class="string">"@+id/tv02"</span>
        /&gt;

    &lt;/LinearLayout&gt;

&lt;/LinearLayout&gt;
</code></pre><p>在mainActivity里面就实现他的动态添加与管理</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.FragmentManager;
<span class="keyword">import</span> android.app.FragmentTransaction;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.TextView;


<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">ActionBarActivity</span> <span class="keyword">implements</span> <span class="title">View</span>.<span class="title">OnClickListener</span> </span>{


<span class="keyword">private</span> FragmentTest fragmentTest;
<span class="keyword">private</span> FragmentTest02 fragmentTest02;
<span class="keyword">private</span> TextView tv01,tv02;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    initView();
}

<span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>{
    tv01= (TextView) findViewById(R.id.tv01);
    tv02= (TextView) findViewById(R.id.tv02);
    tv01.setOnClickListener(<span class="keyword">this</span>);
    tv02.setOnClickListener(<span class="keyword">this</span>);

    <span class="comment">// 设置默认的Fragment</span>
    setDefaultFragment();

}

<span class="keyword">private</span> <span class="function"><span class="keyword">void</span> <span class="title">setDefaultFragment</span><span class="params">()</span> </span>{
    <span class="comment">//使用FragmentManager来管理</span>
    FragmentManager manager=getFragmentManager();
    FragmentTransaction transaction = manager.beginTransaction();

    fragmentTest=<span class="keyword">new</span> FragmentTest();
    <span class="comment">//使用transaction.replace去FragmentLayout里添加Fragment。</span>
    transaction.replace(R.id.fl,fragmentTest);
    transaction.commit();
}


<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>{

    FragmentManager fm = getFragmentManager();
    <span class="comment">// 开启Fragment事务</span>
    FragmentTransaction transaction = fm.beginTransaction();
    <span class="keyword">switch</span> (view.getId()) {
        <span class="keyword">case</span> R.id.tv01:
            <span class="keyword">if</span> ( fragmentTest== <span class="keyword">null</span>) {
                fragmentTest = <span class="keyword">new</span> FragmentTest();
            }
            <span class="comment">// 使用当前Fragment的布局替代id_content的控件</span>
            transaction.replace(R.id.fl, fragmentTest);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> R.id.tv02:
            <span class="keyword">if</span> (fragmentTest02 == <span class="keyword">null</span>) {
                fragmentTest02 = <span class="keyword">new</span> FragmentTest02();
            }
            transaction.replace(R.id.fl, fragmentTest02);
            <span class="keyword">break</span>;
    }
    <span class="comment">// transaction.addToBackStack();</span>
    <span class="comment">// 事务提交</span>
    transaction.commit();
}
}
</code></pre><h2 id="Fragment常用的API：">Fragment常用的API：</h2><p><strong>Fragment常用的三个类：</strong></p>
<ul>
<li><p>android.app.Fragment 主要用于定义Fragment</p>
</li>
<li><p>android.app.FragmentManager 主要用于在Activity中操作Fragment</p>
</li>
<li><p>android.app.FragmentTransaction 保证一些列Fragment操作的原子性，熟悉事务这个词，一定能明白~</p>
</li>
</ul>
<p><strong>a、获取FragmentManage的方式：</strong></p>
<p>getFragmentManager() // v4中，getSupportFragmentManager</p>
<p><strong>b、主要的操作都是FragmentTransaction的方法</strong></p>
<p>FragmentTransaction transaction = fm.benginTransatcion();//开启一个事务</p>
<p>transaction.add() </p>
<p>往Activity中添加一个Fragment</p>
<p>transaction.remove()</p>
<p>从Activity中移除一个Fragment，如果被移除的Fragment没有添加到回退栈（回退栈后面会详细说），这个Fragment实例将会被销毁。</p>
<p>transaction.replace()</p>
<p>使用另一个Fragment替换当前的，实际上就是remove()然后add()的合体~</p>
<p>transaction.hide()</p>
<p>隐藏当前的Fragment，仅仅是设为不可见，并不会销毁</p>
<p>transaction.show()</p>
<p>显示之前隐藏的Fragment</p>
<p>detach()</p>
<p>将此Fragment从Activity中分离，会销毁其布局，但不会销毁该实例</p>
<p>attach()</p>
<p>将从Activity中分离的Fragment，重新关联到该Activity，重新创建其视图层次</p>
<p>transatcion.commit()//提交一个事务</p>
<p><strong>注意：常用Fragment的哥们，可能会经常遇到这样Activity状态不一致：State loss这样的错误。主要是因为：commit方法一定要在Activity.onSaveInstance()之前调用。</strong></p>
<p>上述，基本是操作Fragment的所有的方式了，在一个事务开启到提交可以进行多个的添加、移除、替换等操作。</p>
<p>值得注意的是：如果你喜欢使用Fragment，一定要清楚这些方法，哪个会销毁视图，哪个会销毁实例，哪个仅仅只是隐藏，这样才能更好的使用它们。</p>
<ul>
<li><p>a、比如：我在FragmentA中的EditText填了一些数据，当切换到FragmentB时，如果希望会到A还能看到数据，则适合你的就是hide和show；也就是说，希望保留用户操作的面板，你可以使用hide和show，当然了不要使劲在那new实例，进行下非null判断。</p>
</li>
<li><p>b、再比如：我不希望保留用户操作，你可以使用remove()，然后add()；或者使用replace()这个和remove,add是相同的效果。</p>
</li>
<li><p>c、remove和detach有一点细微的区别，在不考虑回退栈的情况下，remove会销毁整个Fragment实例，而detach则只是销毁其视图结构，实例并不会被销毁。那么二者怎么取舍使用呢？如果你的当前Activity一直存在，那么在不希望保留用户操作的时候，你可以优先使用detach。</p>
</li>
</ul>
<p>上述已经介绍完成了Fragment常用的一些方法，相信看完，大家一定清楚了Fragment的产生理由，以及如何使用Fragment，再根据API的讲解，也能明白，曾经为何觉得Fragment会出现一些列乱七八槽的问题，终究是因为没有弄清楚其生命周期。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/20/2015-8-20-2/" data-id="ciexyqvcl00181wb2dibf0ppq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-20" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/2015-8-20/">Fragment的产生与介绍，Fragment的生命周期，Fragment相当于一个控件，静态Fragment的简单实例</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/20/2015-8-20/">
    <time datetime="2015-08-20T06:01:14.000Z" itemprop="datePublished">2015-08-20</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/20问题集">2015/8/20问题集</h1><h2 id="Fragment的产生与介绍">Fragment的产生与介绍</h2><p>Fragment支持在不同的Activity中使用并且可以处理自己的输入事件以及生命周期方法等。可以看做是一个子Activity。</p>
<p>Android运行在各种各样的设备中，有小屏幕的手机，超大屏的平板甚至电视。针对屏幕尺寸的差距，很多情况下，都是先针对手机开发一套App，然后拷贝一份，修改布局以适应平板神马超级大屏的。难道无法做到一个App可以同时适应手机和平板么，当然了，必须有啊。Fragment的出现就是为了解决这样的问题。你可以把Fragment当成Activity的一个界面的一个组成部分，甚至Activity的界面可以完全有不同的Fragment组成，更帅气的是Fragment拥有自己的生命周期和接收、处理用户的事件，这样就不必在Activity写一堆控件的事件处理的代码了。更为重要的是，你可以动态的添加、替换和移除某个Fragment。</p>
<h2 id="Fragment的生命周期">Fragment的生命周期</h2><p>Fragment必须是依存与Activity而存在的，因此Activity的生命周期会直接影响到Fragment的生命周期。官网这张图很好的说明了两者生命周期的关系：</p>
<p>可以看到Fragment比Activity多了几个额外的生命周期回调方法：<br>onAttach(Activity)<br>当Fragment与Activity发生关联时调用。<br>onCreateView(LayoutInflater, ViewGroup,Bundle)<br>创建该Fragment的视图<br>onActivityCreated(Bundle)<br>当Activity的onCreate方法返回时调用<br>onDestoryView()<br>与onCreateView想对应，当该Fragment的视图被移除时调用<br>onDetach()<br>与onAttach相对应，当Fragment与Activity关联被取消时调用<br>注意：除了onCreateView，其他的所有方法如果你重写了，必须调用父类对于该方法的实现，</p>
<h2 id="Fragment相当于一个控件">Fragment相当于一个控件</h2><p>Fragment可以被多个Activity重用，但是您也必须把Fragment关联到一个FragmentActivity上</p>
<h2 id="静态Fragment的简单实例">静态Fragment的简单实例</h2><p>先自己定义一个Fragment的view的layout。</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span> android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span>&gt;

&lt;ImageButton
    android:<span class="variable">id=</span><span class="string">"@+id/id_title_left_btn"</span>
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_centerVertical=</span><span class="string">"true"</span>
    android:<span class="variable">background=</span><span class="string">"@drawable/my_icon"</span> /&gt;

&lt;TextView
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">gravity=</span><span class="string">"center"</span>
    android:<span class="variable">text=</span><span class="string">"我是Fragment"</span>
     /&gt;

&lt;/LinearLayout&gt;
</code></pre><p>再定义Fragment，这个Fragment就相当于一个小Activity，Activity可以包含多个Fragment</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.<span class="type">Fragment</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.support.annotation.<span class="type">Nullable</span>;
<span class="keyword">import</span> android.view.<span class="type">LayoutInflater</span>;
<span class="keyword">import</span> android.view.<span class="type">View</span>;
<span class="keyword">import</span> android.view.<span class="type">ViewGroup</span>;
<span class="keyword">import</span> android.widget.<span class="type">ImageButton</span>;
<span class="keyword">import</span> android.widget.<span class="type">Toast</span>;

<span class="comment">/**
 * Created by shengzhong on 2015/8/20.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">FragmentTest</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Fragment</span> {</span>

<span class="keyword">private</span> <span class="type">ImageButton</span> mButton;

<span class="annotation">@Nullable</span>
<span class="annotation">@Override</span>
public <span class="type">View</span> onCreateView(<span class="type">LayoutInflater</span> inflater, <span class="type">ViewGroup</span> container, <span class="type">Bundle</span> savedInstanceState) {

    <span class="type">View</span> view = inflater.inflate(<span class="type">R</span>.layout.title_fragment, container, <span class="literal">false</span>);
    mButton = (<span class="type">ImageButton</span>)view.findViewById(<span class="type">R</span>.id.id_title_left_btn);
    mButton.setOnClickListener(<span class="keyword">new</span> <span class="type">View</span>.<span class="type">OnClickListener</span>() {

        <span class="annotation">@Override</span>
        public void onClick(<span class="type">View</span> v) {
            <span class="type">Toast</span>.makeText(getActivity(),
                    <span class="string">"i am an ImageButton in TitleFragment ! "</span>,
                    <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();
        }
    });
    <span class="keyword">return</span> view;
}
}
</code></pre><p>在Mainlayout里面添加Fragment，这就相当于一个view的使用</p>
<pre><code>&lt;RelativeLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
xmlns:<span class="variable">tools=</span><span class="string">"http://schemas.android.com/tools"</span> android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span>
android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span> android:<span class="variable">paddingLeft=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingRight=</span><span class="string">"@dimen/activity_horizontal_margin"</span>
android:<span class="variable">paddingTop=</span><span class="string">"@dimen/activity_vertical_margin"</span>
android:<span class="variable">paddingBottom=</span><span class="string">"@dimen/activity_vertical_margin"</span> tools:<span class="variable">context=</span><span class="string">".MainActivity"</span>&gt;

&lt;TextView android:<span class="variable">text=</span><span class="string">"@string/hello_world"</span> android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span> /&gt;
&lt;fragment
    android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">layout_height=</span><span class="string">"45dp"</span>
    android:<span class="variable">id=</span><span class="string">"@+id/fragmentTitle"</span>
    android:<span class="variable">name=</span><span class="string">"com.zsz.develop.firstfragment.FragmentTest"</span>
    &gt;&lt;/fragment&gt;

&lt;/RelativeLayout&gt;
</code></pre><p>在Main里调用</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.firstfragment;

<span class="keyword">import</span> android.app.<span class="type">Fragment</span>;
<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;
<span class="keyword">import</span> android.view.<span class="type">View</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>

<span class="keyword">private</span> <span class="type">View</span> fragmentTitle;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);
    fragmentTitle=findViewById(<span class="type">R</span>.id.fragmentTitle);
}


}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/20/2015-8-20/" data-id="ciexyqvcg00161wb2g1svw75i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/19/2015-8-19/">volley的简单使用</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/19/2015-8-19/">
    <time datetime="2015-08-19T08:36:41.000Z" itemprop="datePublished">2015-08-19</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/19问题集">2015/8/19问题集</h1><h2 id="volley的简单使用">volley的简单使用</h2><p>MyApplication中的代码：主要是建立一个queue对列。并给出一个调用方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;

<span class="keyword">import</span> com.android.volley.<span class="type">RequestQueue</span>;
<span class="keyword">import</span> com.android.volley.toolbox.<span class="type">Volley</span>;

<span class="comment">/**
 * Created by shengzhong on 2015/8/19.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>

public static <span class="type">RequestQueue</span> queue;

<span class="annotation">@Override</span>
public void onCreate() {
    <span class="keyword">super</span>.onCreate();
    queue= <span class="type">Volley</span>.newRequestQueue(getApplicationContext());
}

public static <span class="type">RequestQueue</span> getHttpQueue(){
    <span class="keyword">return</span> queue;
}

}
</code></pre><p>=</p>
<p>MainActivity中的代码。调用和实现volley的post和get方法</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.volleydemo;

<span class="keyword">import</span> android.support.v7.app.ActionBarActivity;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.Menu;
<span class="keyword">import</span> android.view.MenuItem;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.android.volley.AuthFailureError;
<span class="keyword">import</span> com.android.volley.Request;
<span class="keyword">import</span> com.android.volley.Response;
<span class="keyword">import</span> com.android.volley.VolleyError;
<span class="keyword">import</span> com.android.volley.toolbox.StringRequest;

<span class="keyword">import</span> java.lang.reflect.Method;
<span class="keyword">import</span> java.util.<span class="keyword">HashMap</span>;
<span class="keyword">import</span> java.util.Map;


<span class="keyword">public</span> class MainActivity extends ActionBarActivity {

@Override
<span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
<span class="comment">//        volley_Get();</span>
    volley_Post();
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Post() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.POST,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    }){
        <span class="comment">//与get最大的不同就是在这后面要添加getParams的方法来传递参数</span>
        @Override
        <span class="keyword">protected</span> Map&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; getParams() <span class="keyword">throws</span> AuthFailureError {
            <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>,<span class="keyword">String</span>&gt; <span class="built_in">map</span>=<span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;&gt;();
            <span class="built_in">map</span>.put(<span class="string">"phone"</span>,<span class="string">"13616008640"</span>);
            <span class="built_in">map</span>.put(<span class="string">"key"</span>,<span class="string">"a8d4ff7a12cabef64ac6fe7871baf073"</span>);
            <span class="comment">//返回map就好了</span>
            <span class="keyword">return</span> <span class="built_in">map</span>;
        }
    };
    request.setTag(<span class="string">"abcPost"</span>);
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);
}

<span class="keyword">private</span> <span class="keyword">void</span> volley_Get() {
    <span class="keyword">String</span> url=<span class="string">"http://apis.juhe.cn/mobile/get?phone=13616008640&amp;key=a8d4ff7a12cabef64ac6fe7871baf073"</span>;
    StringRequest request=<span class="keyword">new</span> StringRequest(Request.Method.GET,url,<span class="keyword">new</span> Response.Listener&lt;<span class="keyword">String</span>&gt;() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onResponse(<span class="keyword">String</span> s) {

            Toast.makeText(MainActivity.<span class="keyword">this</span>,s,Toast.LENGTH_LONG).show();
        }
    },<span class="keyword">new</span> Response.ErrorListener() {
        @Override
        <span class="keyword">public</span> <span class="keyword">void</span> onErrorResponse(VolleyError volleyError) {
            Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"网络请求失败"</span>,Toast.LENGTH_LONG).show();
        }
    });
    <span class="comment">//添加标签，当取消这个请求的时候可以取消这个标签</span>
    request.setTag(<span class="string">"abcGET"</span>);
    <span class="comment">//将我们的请求添加到我们的对列里面</span>
    MyApplication.getHttpQueue().<span class="built_in">add</span>(request);

}


}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/19/2015-8-19/" data-id="ciexyqvcn00191wb2kq10mvg1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/17/2015-8-17/">Android日志系统，Android Studio中获取SHA1或MD5的方法</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/17/2015-8-17/">
    <time datetime="2015-08-17T09:29:48.000Z" itemprop="datePublished">2015-08-17</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/17问题集">2015/8/17问题集</h1><h2 id="Android日志系统">Android日志系统</h2><p>这个类比较常用的打印日志的方法有5个,这5个方法都会把日志打印到LogCat中: </p>
<ul>
<li>Log.v(tag,message);        //verbose模式,打印最详细的日志 </li>
<li>Log.d(tag,message);        //debug级别的日志 </li>
<li>Log.i(tag,message);        //info级别的日志 </li>
<li>Log.w(tag,message);        //warn级别的日志 </li>
<li>Log.e(tag,message);        //error级别的日志 </li>
</ul>
<p>其中tag和message分别是两个String值.从android开发帮助文档中来看,tag和message的定义分别是:</p>
<ul>
<li>tag ：    Used to identify the source of a log message. It usually identifies the class or activity where the log call occurs. </li>
<li>msg ：    The message you would like logged. </li>
</ul>
<p>可看出tag用来标记log消息的源头的.而message则是这条log的内容. </p>
<p>从日志的输出数量来算,error,warn,info,debug,verbose,数量从少到多.</p>
<h2 id="Android_Studio中获取SHA1或MD5的方法">Android Studio中获取SHA1或MD5的方法</h2><p>第一步、打开Android Studio的Tools-&gt;Open Terminal…</p>
<p>第二步、输入命令：keytool -v -list -keystore keystore.jks</p>
<p>【一定要记得加上 -v 参数，不然只能看到SHA1，没有MD5】【keystore.jks，需要替换为你自己的密钥所在路径和文件名】</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/17/2015-8-17/" data-id="ciexyqvcp001a1wb23uj0c6dn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/16/2015-8-16/">聚合数据API使用</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/16/2015-8-16/">
    <time datetime="2015-08-16T10:56:23.000Z" itemprop="datePublished">2015-08-16</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/16问题集">2015/8/16问题集</h1><h2 id="聚合数据API使用">聚合数据API使用</h2><p>MainActivity里的代码：使用的时候只需要更改Parameters</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> android.app.Activity;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.content.Intent;
<span class="keyword">import</span> android.os.Bundle;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.widget.Button;
<span class="keyword">import</span> android.widget.TextView;
<span class="keyword">import</span> android.widget.Toast;

<span class="keyword">import</span> com.thinkland.sdk.android.DataCallBack;
<span class="keyword">import</span> com.thinkland.sdk.android.JuheData;
<span class="keyword">import</span> com.thinkland.sdk.android.Parameters;

<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> </span>{

<span class="keyword">private</span> Context mContext;
TextView tv;
<span class="keyword">private</span> Button btn,btnWeather;

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>{
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    mContext = <span class="keyword">this</span>;
    tv = (TextView) findViewById(R.id.tv);



    <span class="javadoc">/**
     * 请不要添加key参数.
     */</span>
    Parameters params = <span class="keyword">new</span> Parameters();
    params.add(<span class="string">"ip"</span>, <span class="string">"www.juhe.cn"</span>);
    params.add(<span class="string">"dtype"</span>, <span class="string">"xml"</span>);
    <span class="javadoc">/**
     * 请求的方法 参数: 第一个参数 当前请求的context;
     *                   第二个参数 接口id;
     *                   第三个参数 接口请求的url;
     *                   第四个参数 接口请求的方式;
     *                   第五个参数 接口请求的参数,键值对com.thinkland.sdk.android.Parameters类型;
     *                   第六个参数请求的回调方法,com.thinkland.sdk.android.DataCallBack;
     * 
     */</span>
    JuheData.executeWithAPI(mContext, <span class="number">1</span>, <span class="string">"http://apis.juhe.cn/ip/ip2addr"</span>,
            JuheData.GET, params, <span class="keyword">new</span> DataCallBack() {
                <span class="javadoc">/**
                 * 请求成功时调用的方法 statusCode为http状态码,responseString为请求返回数据.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(<span class="keyword">int</span> statusCode, String responseString)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(responseString + <span class="string">"\n"</span>);
                }

                <span class="javadoc">/**
                 * 请求完成时调用的方法,无论成功或者失败都会调用.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFinish</span><span class="params">()</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    Toast.makeText(getApplicationContext(), <span class="string">"finish"</span>,
                            Toast.LENGTH_SHORT).show();
                }

                <span class="javadoc">/**
                 * 请求失败时调用的方法,statusCode为http状态码,throwable为捕获到的异常
                 * statusCode:30002 没有检测到当前网络.
                 *               30003 没有进行初始化.
                 *               0 未明异常,具体查看Throwable信息.
                 *               其他异常请参照http状态码.
                 */</span>
                <span class="annotation">@Override</span>
                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> statusCode,
                        String responseString, Throwable throwable)</span> </span>{
                    <span class="comment">// TODO Auto-generated method stub</span>
                    tv.append(throwable.getMessage() + <span class="string">"\n"</span>);
                }
            });

}

<span class="annotation">@Override</span>
<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>{
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onDestroy();
    <span class="javadoc">/**
     * 关闭当前页面正在进行中的请求.
     */</span>
    JuheData.cancelRequests(mContext);
}

}
</code></pre><p>需要继承Application</p>
<pre><code><span class="keyword">package</span> com.thinkland.juheapi.demo;

<span class="keyword">import</span> com.thinkland.sdk.android.<span class="type">JuheSDKInitializer</span>;

<span class="keyword">import</span> android.app.<span class="type">Application</span>;
<span class="keyword">import</span> android.widget.<span class="type">Button</span>;

public <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Application</span> {</span>



<span class="annotation">@Override</span>
public void onCreate() {
    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onCreate();
    <span class="type">JuheSDKInitializer</span>.initialize(getApplicationContext());

}
}
</code></pre><p>更改manifest的设置即可</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;manifest xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
<span class="variable">package=</span><span class="string">"com.thinkland.juheapi.demo"</span>
android:<span class="variable">versionCode=</span><span class="string">"1"</span>
android:<span class="variable">versionName=</span><span class="string">"1.0"</span> &gt;

&lt;uses-sdk
    android:<span class="variable">minSdkVersion=</span><span class="string">"9"</span>
    android:<span class="variable">targetSdkVersion=</span><span class="string">"15"</span> /&gt;

&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.READ_PHONE_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.INTERNET"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_NETWORK_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_WIFI_STATE"</span> /&gt;
&lt;uses-permission android:<span class="variable">name=</span><span class="string">"android.permission.ACCESS_COARSE_LOCATION"</span> /&gt;

&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;
&lt;android:uses-permission
    android:<span class="variable">name=</span><span class="string">"android.permission.READ_EXTERNAL_STORAGE"</span>
    android:<span class="variable">maxSdkVersion=</span><span class="string">"18"</span> /&gt;

&lt;application
    android:<span class="variable">name=</span><span class="string">".MyApplication"</span>
    android:<span class="variable">allowBackup=</span><span class="string">"true"</span>
    android:<span class="variable">icon=</span><span class="string">"@drawable/ic_launcher"</span>
    android:<span class="variable">label=</span><span class="string">"@string/app_name"</span>
    android:<span class="variable">theme=</span><span class="string">"@style/AppTheme"</span> &gt;
    &lt;meta-data
        android:<span class="variable">name=</span><span class="string">"com.thinkland.juheapi.openid"</span>
        android:<span class="variable">value=</span><span class="string">"JHf2946fb83e4a9d7dbd854fa65bd130b1"</span> /&gt;

    &lt;activity
        android:<span class="variable">name=</span><span class="string">".MainActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/app_name"</span> &gt;
        &lt;intent-filter&gt;
            &lt;action android:<span class="variable">name=</span><span class="string">"android.intent.action.MAIN"</span> /&gt;

            &lt;category android:<span class="variable">name=</span><span class="string">"android.intent.category.LAUNCHER"</span> /&gt;
        &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".CaptchaActicity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha_acticity"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".Captcha"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_captcha"</span> &gt;
    &lt;/activity&gt;
    &lt;activity
        android:<span class="variable">name=</span><span class="string">".WeatherActivity"</span>
        android:<span class="variable">label=</span><span class="string">"@string/title_activity_weather"</span> &gt;
    &lt;/activity&gt;
&lt;/application&gt;

&lt;/manifest&gt;
</code></pre><h2 id="Activity继承错误">Activity继承错误</h2><p>错误代码提示：</p>
<pre><code>java<span class="class">.lang</span><span class="class">.IllegalStateException</span>: You need to use <span class="tag">a</span> Theme<span class="class">.AppCompat</span> theme (or descendant) with this activity.
</code></pre><p>原因：<br>从错误提示中提到Theme.AppCompat theme，这是因为我们的activity一定是继承了兼容包中的类，<br>比如我这里就无意中继承了ActionBarActivity，它来自android.support.v7.app.ActionBarActivity。<br>所以就要使用与其配合的AppCompat的theme才行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/16/2015-8-16/" data-id="ciexyqvcq001b1wb2pupunrhf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-15" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/15/2015-8-15/">Android手机的通讯录</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/15/2015-8-15/">
    <time datetime="2015-08-15T12:16:59.000Z" itemprop="datePublished">2015-08-15</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Android手机的通讯录">Android手机的通讯录</h1><p>Android手机的通讯录联系人全部都存在系统的数据库中，如果须要获得通讯里联系人的信息就须要访问系统的数据库，才能将信息拿出来。</p>
<h2 id="contacts_表">contacts 表</h2><ul>
<li>_id ：表的ID，主要用于其它表通过contacts 表中的ID可以查到相应的数据。</li>
<li>display_name:  联系人名称</li>
<li>photo_id:头像的ID，如果没有设置联系人头像，这个字段就为空</li>
<li>times_contacted:通话记录的次数</li>
<li>last_time_contacted: 最后的通话时间 </li>
<li>lookup :是一个持久化的储存 因为用户可能会改名子 但是它改不了lookup</li>
</ul>
<h2 id="简单实例">简单实例</h2><p>要先添加权限</p>
<pre><code><span class="tag">&lt;<span class="title">uses-permission</span> <span class="attribute">android:name</span>=<span class="value">"android.permission.READ_CONTACTS"</span>&gt;</span><span class="tag">&lt;/<span class="title">uses-permission</span>&gt;</span>
</code></pre><p>这个简单实例只是把数据显示在控制台上。</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));

            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }


    }


    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><h2 id="把通讯录显示在页面上">把通讯录显示在页面上</h2><p>MainActivity中的代码：主要加载页面信息</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.support.v7.app.<span class="type">ActionBarActivity</span>;
<span class="keyword">import</span> android.os.<span class="type">Bundle</span>;
<span class="keyword">import</span> android.view.<span class="type">Menu</span>;
<span class="keyword">import</span> android.view.<span class="type">MenuItem</span>;
<span class="keyword">import</span> android.widget.<span class="type">ListView</span>;

<span class="keyword">import</span> java.util.<span class="type">List</span>;


public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">ActionBarActivity</span> {</span>
<span class="keyword">private</span> <span class="type">ListView</span> lv;
<span class="keyword">private</span> <span class="type">MyAdapter</span> adapter;

<span class="annotation">@Override</span>
<span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) {
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(<span class="type">R</span>.layout.activity_main);
    <span class="type">GetNumber</span>.getNumber(<span class="keyword">this</span>);

    lv= (<span class="type">ListView</span>) findViewById(<span class="type">R</span>.id.lv);
    adapter=<span class="keyword">new</span> <span class="type">MyAdapter</span>(<span class="type">GetNumber</span>.lists,<span class="keyword">this</span>);
    lv.setAdapter(adapter);
}
}
</code></pre><p>GetNumber中的代码主要获得通讯录信息</p>
<pre><code>package com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.ContentResolver;
<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.database.Cursor;
<span class="keyword">import</span> android.provider.ContactsContract;

<span class="keyword">import</span> java.util.ArrayList;
<span class="keyword">import</span> java.util.List;

<span class="comment">/**
 * Created by shengzhong on 2015/8/15.
 */</span>
public <span class="class"><span class="keyword">class</span> <span class="title">GetNumber</span> </span>{

public static List&lt;PhoneInfo&gt; lists=<span class="keyword">new</span> ArrayList&lt;PhoneInfo&gt;();

public static <span class="built_in">String</span> getNumber(Context context){
    <span class="comment">/**得到手机通讯录联系人信息**/</span>
    ContentResolver resolver= context.getContentResolver();
    <span class="comment">// 获取手机联系人</span>
   Cursor phoneCursor= resolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>);
    <span class="keyword">if</span> (phoneCursor!=<span class="literal">null</span>){

        <span class="built_in">String</span> phoneNumber;
        <span class="built_in">String</span> phoneName;
        <span class="keyword">while</span> (phoneCursor.moveToNext()){
            <span class="comment">//得到手机号码和名字</span>
             phoneNumber=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            phoneName=phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            PhoneInfo phoneInfo=<span class="keyword">new</span> PhoneInfo(phoneName,phoneNumber);
            lists.add(phoneInfo);
            System.out.println(<span class="string">"联系人："</span>+phoneName +<span class="string">"     电话号码："</span>+phoneNumber);
        }
    }
    <span class="keyword">return</span> <span class="literal">null</span>;
}
}
</code></pre><p>PhoneInfo对数据进行封装</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="comment">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> class PhoneInfo {

   <span class="keyword">private</span> <span class="keyword">String</span> phoneName;
<span class="keyword">private</span> <span class="keyword">String</span> phoneNumber;

<span class="keyword">public</span> PhoneInfo(<span class="keyword">String</span> phoneName,<span class="keyword">String</span> phoneNumber){
    setPhoneName(phoneName);
    setPhoneNumber(phoneNumber);
}


<span class="keyword">public</span> <span class="keyword">String</span> getPhoneName() {
    <span class="keyword">return</span> phoneName;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneName(<span class="keyword">String</span> phoneName) {
    <span class="keyword">this</span>.phoneName = phoneName;
}

<span class="keyword">public</span> <span class="keyword">String</span> getPhoneNumber() {
    <span class="keyword">return</span> phoneNumber;
}

<span class="keyword">public</span> <span class="keyword">void</span> setPhoneNumber(<span class="keyword">String</span> phoneNumber) {
    <span class="keyword">this</span>.phoneNumber = phoneNumber;
}
}
</code></pre><p>MyAdapter对listview进行适配。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
    layoutInflater=LayoutInflater.from(context);
    layout= (LinearLayout) layoutInflater.inflate(R.layout.call,<span class="keyword">null</span>);
    TextView tvName= (TextView) layout.findViewById(R.id.tvName);
    TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);
    tvName.setText(lists.get(i).getPhoneName());
    tvNumber.setText(lists.get(i).getPhoneNumber());

    <span class="keyword">return</span> layout;
}
}
</code></pre><p>call的layout。在main中有一个list</p>
<pre><code>&lt;?xml <span class="variable">version=</span><span class="string">"1.0"</span> <span class="variable">encoding=</span><span class="string">"utf-8"</span>?&gt;
&lt;LinearLayout xmlns:<span class="variable">android=</span><span class="string">"http://schemas.android.com/apk/res/android"</span>
android:<span class="variable">layout_width=</span><span class="string">"match_parent"</span> android:<span class="variable">layout_height=</span><span class="string">"match_parent"</span>
android:<span class="variable">orientation=</span><span class="string">"vertical"</span>&gt;

&lt;LinearLayout
    android:<span class="variable">layout_width=</span><span class="string">"fill_parent"</span>
    android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
    android:<span class="variable">orientation=</span><span class="string">"horizontal"</span>
    &gt;
    &lt;ImageView
        android:<span class="variable">layout_width=</span><span class="string">"45dp"</span>
        android:<span class="variable">layout_height=</span><span class="string">"45dp"</span>
        android:<span class="variable">src=</span><span class="string">"@drawable/jiamin"</span>
        /&gt;
    &lt;LinearLayout
        android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
        android:<span class="variable">orientation=</span><span class="string">"vertical"</span>
        &gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvName"</span>
            /&gt;
        &lt;TextView
            android:<span class="variable">layout_width=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">layout_height=</span><span class="string">"wrap_content"</span>
            android:<span class="variable">id=</span><span class="string">"@+id/tvNumber"</span>
            /&gt;


    &lt;/LinearLayout&gt;


&lt;/LinearLayout&gt;

&lt;/LinearLayout&gt;
</code></pre><h2 id="listView优化">listView优化</h2><p>使用holder新建textview来操作。</p>
<p>重用了convertView，很大程度上的减少了内存的消耗。通过判断convertView是否为null，是的话就需要产生一个视图出来，然后给这个视图数据，最后将这个视图返回给底层，呈献给用户。<br>特点：如果当前的convertView为null，则通过LayoutInflat产生一个view。</p>
<p>其中converView会反复使用，目的是为了提高ListView效率。</p>
<pre><code><span class="keyword">package</span> com.zsz.develop.getmyphonenumber;

<span class="keyword">import</span> android.content.Context;
<span class="keyword">import</span> android.view.LayoutInflater;
<span class="keyword">import</span> android.view.View;
<span class="keyword">import</span> android.view.ViewGroup;
<span class="keyword">import</span> android.widget.BaseAdapter;
<span class="keyword">import</span> android.widget.LinearLayout;
<span class="keyword">import</span> android.widget.ListView;
<span class="keyword">import</span> android.widget.TextView;

<span class="keyword">import</span> java.util.List;

<span class="javadoc">/**
 * Created by shengzhong on 2015/8/16.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdapter</span> <span class="keyword">extends</span> <span class="title">BaseAdapter</span> </span>{
<span class="keyword">private</span> List&lt;PhoneInfo&gt; lists;
<span class="keyword">private</span> Context context;
<span class="keyword">private</span> LayoutInflater layoutInflater;
<span class="keyword">private</span> LinearLayout layout;

<span class="function"><span class="keyword">public</span> <span class="title">MyAdapter</span><span class="params">(List&lt;PhoneInfo&gt; lists, Context context)</span></span>{
    <span class="keyword">this</span>.lists=lists;
    <span class="keyword">this</span>.context=context;
}



<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">size</span><span class="params">()</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">Object <span class="title">getItem</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="function"><span class="keyword">return</span> lists.<span class="title">get</span><span class="params">(i)</span></span>;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function"><span class="keyword">long</span> <span class="title">getItemId</span><span class="params">(<span class="keyword">int</span> i)</span> </span>{
    <span class="keyword">return</span> i;
}

<span class="annotation">@Override</span>
<span class="keyword">public</span> <span class="function">View <span class="title">getView</span><span class="params">(<span class="keyword">int</span> i, View view, ViewGroup viewGroup)</span> </span>{
<span class="comment">//        layoutInflater=LayoutInflater.from(context);</span>
<span class="comment">//        layout= (LinearLayout) layoutInflater.inflate(R.layout.call,null);</span>
<span class="comment">//        TextView tvName= (TextView) layout.findViewById(R.id.tvName);</span>
<span class="comment">//        TextView tvNumber= (TextView) layout.findViewById(R.id.tvNumber);</span>
<span class="comment">//        tvName.setText(lists.get(i).getPhoneName());</span>
<span class="comment">//        tvNumber.setText(lists.get(i).getPhoneNumber());</span>
<span class="comment">//</span>
    ViewHolder holder;
    <span class="keyword">if</span> (view==<span class="keyword">null</span>){
        view=LayoutInflater.from(context).inflate(R.layout.call,<span class="keyword">null</span>);
        holder=<span class="keyword">new</span> ViewHolder();
        holder.tvName= (TextView) view.findViewById(R.id.tvName);
        holder.tvNumber= (TextView) view.findViewById(R.id.tvNumber);
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());
        view.setTag(holder);

    }<span class="keyword">else</span> {
        holder= (ViewHolder) view.getTag();
        holder.tvName.setText(lists.get(i).getPhoneName());
        holder.tvNumber.setText(lists.get(i).getPhoneNumber());

    }

    <span class="keyword">return</span> view;
}

<span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewHolder</span></span>{

    TextView tvName;
    TextView tvNumber;
}
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/15/2015-8-15/" data-id="ciexyqvcr001c1wb24bnfizzq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/10/2015-8-10/">部署代码到CentOS云服务器</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/10/2015-8-10/">
    <time datetime="2015-08-10T01:31:22.000Z" itemprop="datePublished">2015-08-10</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="部署代码到CentOS云服务器">部署代码到CentOS云服务器</h1><h2 id="FTP通道">FTP通道</h2><p>用户需要使用FTP通道，将应用程序从用户自己的服务器上传到云服务器上。</p>
<blockquote>
<p>FTP（File Transfer Protocol，文件传输协议） 是 TCP/IP 协议组中的协议之一。FTP协议包括两个组成部分，其一为FTP服务器，其二为FTP客户端。其中FTP服务器用来存储文件，用户可以使用FTP客户端通过FTP协议访问位于FTP服务器上的资源。在开发网站的时候，通常利用FTP协议把网页或程序传到Web服务器上。此外，由于FTP传输效率非常高，在网络上传输大的文件时，一般也采用该协议。</p>
<p>默认情况下FTP协议使用TCP端口中的 20和21这两个端口，其中20用于传输数据，21用于传输控制信息。但是，是否使用20作为传输数据的端口与FTP使用的传输模式有关，如果采用主动模式，那么数据传输端口就是20；如果采用被动模式，则具体最终使用哪个端口要服务器端和客户端协商决定。</p>
</blockquote>
<p><a href="http://www.qcloud.com/wiki/%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81%E5%88%B0CentOS%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8" target="_blank" rel="external">http://www.qcloud.com/wiki/%E9%83%A8%E7%BD%B2%E4%BB%A3%E7%A0%81%E5%88%B0CentOS%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/10/2015-8-10/" data-id="ciexyqvcu001d1wb2zqsm7qxx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-8-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/06/2015-8-6/">px和dp的转换公式， Android 判断当前线程是否是主线程的方法</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/08/06/2015-8-6/">
    <time datetime="2015-08-06T01:07:34.000Z" itemprop="datePublished">2015-08-06</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/6问题集">2015/8/6问题集</h1><h2 id="px和dp的转换公式">px和dp的转换公式</h2><p> px = dp * (dpi / 160)</p>
<ul>
<li><p>px：即像素，1px代表屏幕上一个物理的像素点；px单位不被建议使用，因为同样100px的图片，在不同手机上显示的实际大小可能不同</p>
</li>
<li><p>dp：它与“像素密度”密切相关，所以首先我们解释一下什么是像素密度。假设有一部手机，屏幕的物理尺寸为1.5英寸x2英寸，屏幕分辨率为240x320，则我们可以计算出在这部手机的屏幕上，每英寸包含的像素点的数量为240/1.5=160dpi（横向）或320/2=160dpi（纵向），160dpi就是这部手机的像素密度，像素密度的单位dpi是Dots Per Inch的缩写，即每英寸像素数量。横向和纵向的这个值都是相同的，原因是大部分手机屏幕使用正方形的像素点。</p>
</li>
</ul>
<ul>
<li><p>四种像素密度：而ldpi指120，mdpi指160，hdpi指240，xhdpi指320。低（120dpi）、中（160dpi）、高（240dpi）和超高（320dpi），它们对应的dp到px的系数分别为0.75、1、1.5和2，这个系数乘以dp长度就是像素数。例如界面上有一个长度为“80dp”的图片，那么它在240dpi的手机上实际显示为80x1.5=120px，在320dpi的手机上实际显示为80x2=160px</p>
</li>
<li><p>dip：<br>与dp完全相同，只是名字不同而已。在早期的Android版本里多使用dip，后来为了与sp统一就建议使用dp这个名字了。</p>
</li>
<li><p>sp：<br>与缩放无关的抽象像素（Scale-independent Pixel）。sp和dp很类似但唯一的区别是，Android系统允许用户自定义文字尺寸大小（小、正常、大、超大等等），当文字尺寸是“正常”时1sp=1dp=0.00625英寸，而当文字尺寸是“大”或“超大”时，1sp&gt;1dp=0.00625英寸。类似我们在windows里调整字体尺寸以后的效果——窗口大小不变，只有文字大小改变。</p>
</li>
<li><p>mm：<br>即毫米；</p>
</li>
<li><p>in：<br>即英寸，1英寸=2.54厘米（约）；</p>
</li>
<li><p>pt：<br>1pt=1/72英寸=0.035厘米；</p>
</li>
</ul>
<p>最佳实践，<strong>文字的尺寸一律用sp单位，非文字的尺寸一律使用dp单位</strong>。例如textSize=”16sp”、layout_width=”60dp”；偶尔需要使用px单位，例如需要在屏幕上画一条细的分隔线时：</p>
<h2 id="如何加载一张大图bitmap如（4096*4096）">如何加载一张大图bitmap如（4096*4096）</h2><h2 id="加载一张大图，有什么注意事项">加载一张大图，有什么注意事项</h2><ul>
<li><p>在展示高分辨率图片的时候，最好先将图片进行压缩。压缩后的图片大小应该和用来展示它的控件大小相近，在一个很小的ImageView上显示一张超大的图片不会带来任何视觉上的好处，但却会占用我们相当多宝贵的内存，而且在性能上还可能会带来负面影响。</p>
</li>
<li><p>为了避免OOM异常，最好在解析每张图片的时候都先检查一下图片的大小，除非你非常信任图片的来源，保证这些图片都不会超出你程序的可用内存。 </p>
</li>
</ul>
<h2 id="Android_判断当前线程是否是主线程的方法">Android 判断当前线程是否是主线程的方法</h2><ul>
<li><p>方法一：使用Looper类判断</p>
<pre><code>Looper.<span class="function"><span class="title">myLooper</span><span class="params">()</span></span> != Looper.<span class="function"><span class="title">getMainLooper</span><span class="params">()</span></span>  
</code></pre></li>
</ul>
<p>方法二：通过查看Thread类的当前线程</p>
<pre><code>Thread.<span class="function"><span class="title">currentThread</span><span class="params">()</span></span> == Looper.<span class="function"><span class="title">getMainLooper</span><span class="params">()</span></span>.<span class="function"><span class="title">getThread</span><span class="params">()</span></span> 
</code></pre><p>方法三：使用线程句柄判断，将主线程的Thread.currentThread()获取到主线程当前句柄，保存起来，在需要判断的时候调用Thread.currentThread()来与之比较，即可判断当前线程是否是主线程了，该方法可以参见Activity中</p>
<pre><code><span class="keyword">private</span> <span class="keyword">Thread</span> mUiThread;  
</code></pre><p>另</p>
<pre><code><span class="keyword">public</span> <span class="keyword">final</span> void runOnUiThread(Runnable <span class="keyword">action</span>) {  
    <span class="keyword">if</span> (Thread.currentThread() <span class="comment">!= mUiThread) {  </span>
        mHandler.post(<span class="keyword">action</span>);  
    } <span class="keyword">else</span> {  
        <span class="keyword">action</span>.run();  
    }  
}  
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/08/06/2015-8-6/" data-id="ciexyqvbp000u1wb2yacxoki1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-30" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/30/2015-7-30/">android端乱码问题，RadioGroup多选一，对比空字符，4种方式实现java 保留2位小数点</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/30/2015-7-30/">
    <time datetime="2015-07-30T00:38:24.000Z" itemprop="datePublished">2015-07-30</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2015/8/5问题集">2015/8/5问题集</h1><h2 id="android端乱码问题">android端乱码问题</h2><p>服务器中没问题而单单android端乱码，那么一定是接收的时候出现问题</p>
<p>把这句代码</p>
<pre><code><span class="variable">entity=</span> EntityUtils.<span class="built_in">toString</span>(response.getEntity());
</code></pre><p>改成接收的时候也要转成UTF-8</p>
<pre><code><span class="variable">entity=</span> EntityUtils.<span class="built_in">toString</span>(response.getEntity(),<span class="string">"UTF-8"</span>);
</code></pre><h2 id="RadioGroup多选一">RadioGroup多选一</h2><p>程序中常常要用到多选一的时候，例如男女</p>
<p>就以男女为例</p>
<p>XML</p>
<pre><code> <span class="tag">&lt;<span class="title">LinearLayout</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"fill_parent"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:orientation</span>=<span class="value">"horizontal"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">TextView</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:text</span>=<span class="value">"性别："</span>
        /&gt;</span>
    <span class="tag">&lt;<span class="title">TextView</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:text</span>=<span class="value">"男"</span>
        <span class="attribute">android:id</span>=<span class="value">"@+id/etSex"</span>
        /&gt;</span>
    <span class="comment">&lt;!--&lt;EditText--&gt;</span>
        <span class="comment">&lt;!--android:id="@+id/etSex"--&gt;</span>
        <span class="comment">&lt;!--android:layout_width="fill_parent"--&gt;</span>
        <span class="comment">&lt;!--android:layout_height="wrap_content"--&gt;</span>
        <span class="comment">&lt;!--/&gt;--&gt;</span>

    <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
<span class="tag">&lt;<span class="title">LinearLayout</span>
    <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
    <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>&gt;</span>

    <span class="tag">&lt;<span class="title">RadioGroup</span> <span class="attribute">android:id</span>=<span class="value">"@+id/radioGroup"</span>
        <span class="attribute">android:contentDescription</span>=<span class="value">"性别"</span>
        <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
        <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>&gt;</span>

        <span class="tag">&lt;<span class="title">RadioButton</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:id</span>=<span class="value">"@+id/radioMale"</span>
            <span class="attribute">android:text</span>=<span class="value">"男"</span>
            <span class="attribute">android:checked</span>=<span class="value">"true"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">RadioButton</span>&gt;</span>
        <span class="tag">&lt;<span class="title">RadioButton</span>
            <span class="attribute">android:layout_width</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:layout_height</span>=<span class="value">"wrap_content"</span>
            <span class="attribute">android:id</span>=<span class="value">"@+id/radioFemale"</span>
            <span class="attribute">android:text</span>=<span class="value">"女"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">RadioButton</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">RadioGroup</span>&gt;</span>

    <span class="tag">&lt;/<span class="title">LinearLayout</span>&gt;</span>
</code></pre><p>Activty中的代码如下</p>
<pre><code>etSex= (TextView) findViewById(R.id.etSex);

   radioGroup= (RadioGroup) findViewById(R.id.radioGroup);
   radioGroup.setOnCheckedChangeListener(<span class="keyword">new</span> RadioGroup.OnCheckedChangeListener() {
       <span class="annotation">@Override</span>
       <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onCheckedChanged</span><span class="params">(RadioGroup radioGroup, <span class="keyword">int</span> i)</span> </span>{
        <span class="keyword">int</span> radioButtonId = radioGroup.getCheckedRadioButtonId();
           rb = (RadioButton)EditDataActicity.<span class="keyword">this</span>.findViewById(radioButtonId);
           etSex.setText( rb.getText());
       }
   });
</code></pre><h2 id="对比空字符">对比空字符</h2><p>对比空字符要用equals(“”)</p>
<pre><code>etHeight.<span class="function"><span class="title">getText</span><span class="params">()</span></span>.<span class="function"><span class="title">toString</span><span class="params">()</span></span>.<span class="function"><span class="title">trim</span><span class="params">()</span></span>.<span class="function"><span class="title">equals</span><span class="params">(<span class="string">""</span>)</span></span>
</code></pre><h2 id="4种方式实现java_保留2位小数点">4种方式实现java 保留2位小数点</h2><h3 id="方式一：">方式一：</h3><p>四舍五入<br>double   f   =   111231.5585;<br>BigDecimal   b   =   new   BigDecimal(f);<br>double   f1   =   b.setScale(2,   BigDecimal.ROUND_HALF_UP).doubleValue();<br>保留两位小数</p>
<h3 id="方式二：">方式二：</h3><p>java.text.DecimalFormat   df   =new   java.text.DecimalFormat(”#.00″);<br>df.format(你要格式化的数字);<br>例：new java.text.DecimalFormat(”#.00″).format(3.1415926)</p>
<p>（#.00 表示两位小数 #.0000四位小数 以此类推…</p>
<h3 id="方式三：">方式三：</h3><p>double d = 3.1415926;<br>String result = String .format(”%.2f”);<br>%.2f %. 表示 小数点前任意位数   2 表示两位小数 格式后的结果为f 表示浮点型。</p>
<h3 id="方式四：">方式四：</h3><p>此外如果使用struts标签做输出的话，有个format属性,设置为format=”0.00”就是保留两位小数<br>例如：<bean:write name="entity" property="dkhAFSumPl" format="0.00"></bean:write></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/30/2015-7-30/" data-id="ciexyqvcx001e1wb2354axkgg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <article id="post-2015-7-29-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/29/2015-7-29-1/">AChartEngine超简单实例</a>
    </h1>
  

        <div class="article-meta">
          <div class="article-date">
  <i class="fa fa-calendar"></i>
  <a href="/2015/07/29/2015-7-29-1/">
    <time datetime="2015-07-29T13:19:12.000Z" itemprop="datePublished">2015-07-29</time>
  </a>
</div>
          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="AChartEngine超简单实例">AChartEngine超简单实例</h1><p>其实无非就在做三件事</p>
<ul>
<li>1.添加数据进图标</li>
<li>2.线或条等设置</li>
<li>3.制作成什么表。仅此而已</li>
</ul>
<p>package com.zsz.develop.mychart02;</p>
<pre><code><span class="preprocessor"><span class="keyword">import</span> android.app.Activity;</span>
<span class="preprocessor"><span class="keyword">import</span> android.content.Intent;</span>
<span class="preprocessor"><span class="keyword">import</span> android.graphics.Color;</span>
<span class="preprocessor"><span class="keyword">import</span> android.os.Bundle;</span>
<span class="preprocessor"><span class="keyword">import</span> android.widget.Button;</span>
<span class="preprocessor"><span class="keyword">import</span> android.widget.LinearLayout;</span>


<span class="preprocessor"><span class="keyword">import</span> org.achartengine.ChartFactory;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.GraphicalView;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.chart.PointStyle;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYMultipleSeriesDataset;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.model.XYSeries;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYMultipleSeriesRenderer;</span>
<span class="preprocessor"><span class="keyword">import</span> org.achartengine.renderer.XYSeriesRenderer;</span>

<span class="preprocessor"><span class="keyword">import</span> java.util.Random;</span>

<span class="comment">/**
 * Created by shengzhong on 2015/7/29.
 */</span>
<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShowExamActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span>{
<span class="keyword">private</span> LinearLayout llChart;
<span class="keyword">private</span> Button btn;
@Override
<span class="keyword">protected</span> <span class="keyword">void</span> onCreate(Bundle savedInstanceState) {

    <span class="comment">// TODO Auto-generated method stub</span>
    <span class="keyword">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.show_exam_activity);
    <span class="comment">// 1, 构造显示用渲染图</span>
    XYMultipleSeriesRenderer renderer = <span class="keyword">new</span> XYMultipleSeriesRenderer();
    <span class="comment">// 2,进行显示</span>
    XYMultipleSeriesDataset dataset = <span class="keyword">new</span> XYMultipleSeriesDataset();
    <span class="comment">// 2.1, 构建数据</span>
    Random r = <span class="keyword">new</span> Random();
    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) {
        XYSeries series = <span class="keyword">new</span> XYSeries(<span class="string">"test"</span> + (i + <span class="number">1</span>));
        <span class="comment">// 填充数据</span>
        <span class="keyword">for</span> (int k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++) {
            <span class="comment">// 填x,y值</span>
            series.add(k, <span class="number">20</span> + r.nextInt() % <span class="number">100</span>);
        }
        <span class="comment">// 需要绘制的点放进dataset中</span>
        dataset.addSeries(series);
    }
    <span class="comment">// 3, 对点的绘制进行设置</span>
    XYSeriesRenderer xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
    <span class="comment">// 3.1设置颜色</span>
    xyRenderer.setColor(Color.BLUE);
    <span class="comment">// 3.2设置点的样式</span>
    xyRenderer.setPointStyle(PointStyle.SQUARE);
    <span class="comment">// 3.3, 将要绘制的点添加到坐标绘制中</span>
    renderer.addSeriesRenderer(xyRenderer);
    <span class="comment">// 3.4,重复 1~3的步骤绘制第二个系列点</span>
    xyRenderer = <span class="keyword">new</span> XYSeriesRenderer();
    xyRenderer.setColor(Color.RED);
    xyRenderer.setPointStyle(PointStyle.CIRCLE);
    renderer.addSeriesRenderer(xyRenderer);
<span class="comment">//        Intent intent = new LinChart().execute(this);</span>
<span class="comment">//        Intent intent = ChartFactory</span>
<span class="comment">//                .getLineChartIntent(this, dataset, renderer);</span>
    GraphicalView graphicalView = ChartFactory.getLineChartView(<span class="keyword">this</span>, dataset, renderer);
    llChart= (LinearLayout) findViewById(R.id.llChart);
    llChart.addView(graphicalView);
<span class="comment">//                startActivity(intent);</span>

}

}
</code></pre><h2 id="详细配置。">详细配置。</h2><p>上面的配置只配置了几个基础的，还要进行更多配置才能使得图标更加简单通熟易懂。</p>
<ul>
<li>XYSeries: 最常用的数据结构，主要包括一系列的double型（x,y）点对及一个名称（title）。</li>
<li>XYValueSeries:包括一系列的(x,y,value)点对及一个名称（title）。</li>
<li>XYMultipleSeriesDataset:包含一系列XYSeries，是最终的数据结构</li>
<li>TimeSeries:与XYSeries类似，x变为Date型,可以转化为XYSeries。</li>
<li>CategorySeries:与XYSeries类似，x变为string型，可以转化为XYSeries。</li>
<li><p>MultipleCategorySeries:一系列CategorySeries。</p>
</li>
<li><p>XYSeriesRenderer，impleSeriesRenderer、用于设置每张图中每一个序列的绘制方法。- XYMultipleSeries，RendererDefaultRenderer用于设置整张图的绘制格式。</p>
</li>
</ul>
<p>XYMultipleSeriesRenderer.setAxisTitleTextSize</p>
<h2 id="详细配置">详细配置</h2><ul>
<li>1.修改背景色或设置背景图片：<br>背景色设置需要设置两项：setMarginsColor（设置四边颜色）以及setBackgroundColor（设置中间背景色）</li>
<li>设置背景图片：<pre><code><span class="symbol">http:</span>/<span class="regexp">/blog.csdn.net/kmyhy</span><span class="regexp">/article/details</span><span class="regexp">/6590294</span>
</code></pre></li>
</ul>
<ol>
<li>setAxisTitleTextSize(16);// 设置坐标轴标题文本大小</li>
<li>setChartTitleTextSize(20); // 设置图表标题文本大小</li>
<li>setLabelsTextSize(15); // 设置轴标签文本大小</li>
<li>setLegendTextSize(15); // 设置图例文本大小</li>
<li>renderer.setChartTitle( “个人收支表”);//设置柱图名称</li>
<li>renderer.setXTitle( “名单” );//设置X轴名称</li>
<li>renderer.setYTitle( “金额” );//设置Y轴名称</li>
<li>renderer.setXAxisMin(0.5);//设置X轴的最小值为0.5</li>
<li>renderer.setXAxisMax(5.5);//设置X轴的最大值为5</li>
<li>renderer.setYAxisMin(0);//设置Y轴的最小值为0</li>
<li>renderer.setYAxisMax(500);//设置Y轴最大值为500</li>
<li>renderer.setDisplayChartValues(true);//设置是否在柱体上方显示值</li>
<li>renderer.setShowGrid(true);//设置是否在图表中显示网格</li>
<li>renderer.setXLabels(0);//设置X轴显示的刻度标签的个数</li>
<li>如果想要在X轴显示自定义的标签，那么首先要设置renderer.setXLabels(0);  如果不设置为0，那么所设置的Labels会与原X坐标轴labels重叠<br>其次我们要renderer.addTextLabel()循环添加<br>eg：for(int i=0;i&lt;13;i++)<br>  {<pre><code><span class="keyword">renderer</span>.addTextLabel(i+<span class="number">1</span>,years[i]); <span class="comment">//循环添加Xlabel其中显示的label放在years数组中</span>
</code></pre>  }</li>
<li>renderer.setXLabelsAlign(Align.RIGHT);//设置刻度线与X轴之间的相对位置关系</li>
<li>renderer.setYLabelsAlign(Align.RIGHT);//设置刻度线与Y轴之间的相对位置关系</li>
<li>renderer.setZoomButtonsVisible(true);//设置可以缩放</li>
<li>renderer.setPanLimits(newdouble[] { 0, 20, 0, 140 });//设置拉动的范围</li>
<li>renderer.setZoomLimits(newdouble[] { 0.5, 20, 1, 150 });//设置缩放的范围</li>
<li>renderer.setRange(newdouble[]{0d, 5d, 0d, 100d}); //设置chart的视图范围</li>
<li>renderer.setFitLegend(true);// 调整合适的位置</li>
<li>renderer.setClickEnabled(true)//设置是否可以滑动及放大缩小;</li>
<li><p>Dataset和Render参数介绍：<br>  <a href="http://blog.csdn.net/lk_blog/article/details/7645661" target="_blank" rel="external">http://blog.csdn.net/lk_blog/article/details/7645661</a></p>
</li>
<li><p>ChartView.repaint()；是重新绘图的命令</p>
</li>
<li>renderer.setMargins(new int[] { 70, 70, 100, 70 });//设置图表的外边框(上/左/下/右)</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/07/29/2015-7-29-1/" data-id="ciexyqvd1001g1wb2ztrn3tnj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


    
      <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
      </nav>
    </section>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 zszdevelop<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    


<script src="//ajax.useso.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>